(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function A_(e,t){const s=Object.create(null),n=e.split(",");for(let r=0;r<n.length;r++)s[n[r]]=!0;return t?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const C_=()=>{},T_=Object.assign,O_=Object.prototype.hasOwnProperty,Co=(e,t)=>O_.call(e,t),gs=Array.isArray,wo=e=>cf(e)==="[object Map]",Dl=e=>typeof e=="function",I_=e=>typeof e=="string",Vo=e=>typeof e=="symbol",Fi=e=>e!==null&&typeof e=="object",P_=Object.prototype.toString,cf=e=>P_.call(e),R_=e=>cf(e).slice(8,-1),Ml=e=>I_(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Di=(e,t)=>!Object.is(e,t),L_=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})};let An;class Nl{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=An,!t&&An&&(this.index=(An.scopes||(An.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const s=An;try{return An=this,t()}finally{An=s}}}on(){An=this}off(){An=this.parent}stop(t){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function $l(e){return new Nl(e)}function uf(e,t=An){t&&t.active&&t.effects.push(e)}function Bl(){return An}function ff(e){An&&An.cleanups.push(e)}const jl=e=>{const t=new Set(e);return t.w=0,t.n=0,t},df=e=>(e.w&zs)>0,pf=e=>(e.n&zs)>0,F_=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=zs},D_=e=>{const{deps:t}=e;if(t.length){let s=0;for(let n=0;n<t.length;n++){const r=t[n];df(r)&&!pf(r)?r.delete(e):t[s++]=r,r.w&=~zs,r.n&=~zs}t.length=s}},To=new WeakMap;let oi=0,zs=1;const el=30;let jn;const or=Symbol(""),tl=Symbol("");class Lr{constructor(t,s=null,n){this.fn=t,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,uf(this,n)}run(){if(!this.active)return this.fn();let t=jn,s=$s;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=jn,jn=this,$s=!0,zs=1<<++oi,oi<=el?F_(this):Mc(this),this.fn()}finally{oi<=el&&D_(this),zs=1<<--oi,jn=this.parent,$s=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){jn===this?this.deferStop=!0:this.active&&(Mc(this),this.onStop&&this.onStop(),this.active=!1)}}function Mc(e){const{deps:t}=e;if(t.length){for(let s=0;s<t.length;s++)t[s].delete(e);t.length=0}}function M_(e,t){e.effect instanceof Lr&&(e=e.effect.fn);const s=new Lr(e);t&&(T_(s,t),t.scope&&uf(s,t.scope)),(!t||!t.lazy)&&s.run();const n=s.run.bind(s);return n.effect=s,n}function N_(e){e.effect.stop()}let $s=!0;const _f=[];function Wr(){_f.push($s),$s=!1}function Qr(){const e=_f.pop();$s=e===void 0?!0:e}function Sn(e,t,s){if($s&&jn){let n=To.get(e);n||To.set(e,n=new Map);let r=n.get(s);r||n.set(s,r=jl()),hf(r)}}function hf(e,t){let s=!1;oi<=el?pf(e)||(e.n|=zs,s=!df(e)):s=!e.has(jn),s&&(e.add(jn),jn.deps.push(e))}function ys(e,t,s,n,r,i){const o=To.get(e);if(!o)return;let c=[];if(t==="clear")c=[...o.values()];else if(s==="length"&&gs(e)){const f=Number(n);o.forEach((_,h)=>{(h==="length"||!Vo(h)&&h>=f)&&c.push(_)})}else switch(s!==void 0&&c.push(o.get(s)),t){case"add":gs(e)?Ml(s)&&c.push(o.get("length")):(c.push(o.get(or)),wo(e)&&c.push(o.get(tl)));break;case"delete":gs(e)||(c.push(o.get(or)),wo(e)&&c.push(o.get(tl)));break;case"set":wo(e)&&c.push(o.get(or));break}if(c.length===1)c[0]&&nl(c[0]);else{const f=[];for(const _ of c)_&&f.push(..._);nl(jl(f))}}function nl(e,t){const s=gs(e)?e:[...e];for(const n of s)n.computed&&Nc(n);for(const n of s)n.computed||Nc(n)}function Nc(e,t){(e!==jn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function $_(e,t){var s;return(s=To.get(e))==null?void 0:s.get(t)}const B_=A_("__proto__,__v_isRef,__isVue"),mf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vo)),$c=j_();function j_(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...s){const n=Tt(this);for(let i=0,o=this.length;i<o;i++)Sn(n,"get",i+"");const r=n[t](...s);return r===-1||r===!1?n[t](...s.map(Tt)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...s){Wr();const n=Tt(this)[t].apply(this,s);return Qr(),n}}),e}function U_(e){const t=Tt(this);return Sn(t,"has",e),t.hasOwnProperty(e)}class gf{constructor(t=!1,s=!1){this._isReadonly=t,this._shallow=s}get(t,s,n){const r=this._isReadonly,i=this._shallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw"&&n===(r?i?qf:Ef:i?wf:bf).get(t))return t;const o=gs(t);if(!r){if(o&&Co($c,s))return Reflect.get($c,s,n);if(s==="hasOwnProperty")return U_}const c=Reflect.get(t,s,n);return(Vo(s)?mf.has(s):B_(s))||(r||Sn(t,"get",s),i)?c:Qt(c)?o&&Ml(s)?c:c.value:Fi(c)?r?zl(c):Gt(c):c}}class yf extends gf{constructor(t=!1){super(!1,t)}set(t,s,n,r){let i=t[s];if(ur(i)&&Qt(i)&&!Qt(n))return!1;if(!this._shallow&&(!wi(n)&&!ur(n)&&(i=Tt(i),n=Tt(n)),!gs(t)&&Qt(i)&&!Qt(n)))return i.value=n,!0;const o=gs(t)&&Ml(s)?Number(s)<t.length:Co(t,s),c=Reflect.set(t,s,n,r);return t===Tt(r)&&(o?Di(n,i)&&ys(t,"set",s,n):ys(t,"add",s,n)),c}deleteProperty(t,s){const n=Co(t,s);t[s];const r=Reflect.deleteProperty(t,s);return r&&n&&ys(t,"delete",s,void 0),r}has(t,s){const n=Reflect.has(t,s);return(!Vo(s)||!mf.has(s))&&Sn(t,"has",s),n}ownKeys(t){return Sn(t,"iterate",gs(t)?"length":or),Reflect.ownKeys(t)}}class vf extends gf{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const V_=new yf,z_=new vf,H_=new yf(!0),W_=new vf(!0),Ul=e=>e,zo=e=>Reflect.getPrototypeOf(e);function ro(e,t,s=!1,n=!1){e=e.__v_raw;const r=Tt(e),i=Tt(t);s||(Di(t,i)&&Sn(r,"get",t),Sn(r,"get",i));const{has:o}=zo(r),c=n?Ul:s?Wl:Ei;if(o.call(r,t))return c(e.get(t));if(o.call(r,i))return c(e.get(i));e!==r&&e.get(t)}function io(e,t=!1){const s=this.__v_raw,n=Tt(s),r=Tt(e);return t||(Di(e,r)&&Sn(n,"has",e),Sn(n,"has",r)),e===r?s.has(e):s.has(e)||s.has(r)}function oo(e,t=!1){return e=e.__v_raw,!t&&Sn(Tt(e),"iterate",or),Reflect.get(e,"size",e)}function Bc(e){e=Tt(e);const t=Tt(this);return zo(t).has.call(t,e)||(t.add(e),ys(t,"add",e,e)),this}function jc(e,t){t=Tt(t);const s=Tt(this),{has:n,get:r}=zo(s);let i=n.call(s,e);i||(e=Tt(e),i=n.call(s,e));const o=r.call(s,e);return s.set(e,t),i?Di(t,o)&&ys(s,"set",e,t):ys(s,"add",e,t),this}function Uc(e){const t=Tt(this),{has:s,get:n}=zo(t);let r=s.call(t,e);r||(e=Tt(e),r=s.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return r&&ys(t,"delete",e,void 0),i}function Vc(){const e=Tt(this),t=e.size!==0,s=e.clear();return t&&ys(e,"clear",void 0,void 0),s}function ao(e,t){return function(n,r){const i=this,o=i.__v_raw,c=Tt(o),f=t?Ul:e?Wl:Ei;return!e&&Sn(c,"iterate",or),o.forEach((_,h)=>n.call(r,f(_),f(h),i))}}function lo(e,t,s){return function(...n){const r=this.__v_raw,i=Tt(r),o=wo(i),c=e==="entries"||e===Symbol.iterator&&o,f=e==="keys"&&o,_=r[e](...n),h=s?Ul:t?Wl:Ei;return!t&&Sn(i,"iterate",f?tl:or),{next(){const{value:y,done:w}=_.next();return w?{value:y,done:w}:{value:c?[h(y[0]),h(y[1])]:h(y),done:w}},[Symbol.iterator](){return this}}}}function As(e){return function(...t){return e==="delete"?!1:this}}function Q_(){const e={get(i){return ro(this,i)},get size(){return oo(this)},has:io,add:Bc,set:jc,delete:Uc,clear:Vc,forEach:ao(!1,!1)},t={get(i){return ro(this,i,!1,!0)},get size(){return oo(this)},has:io,add:Bc,set:jc,delete:Uc,clear:Vc,forEach:ao(!1,!0)},s={get(i){return ro(this,i,!0)},get size(){return oo(this,!0)},has(i){return io.call(this,i,!0)},add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear"),forEach:ao(!0,!1)},n={get(i){return ro(this,i,!0,!0)},get size(){return oo(this,!0)},has(i){return io.call(this,i,!0)},add:As("add"),set:As("set"),delete:As("delete"),clear:As("clear"),forEach:ao(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=lo(i,!1,!1),s[i]=lo(i,!0,!1),t[i]=lo(i,!1,!0),n[i]=lo(i,!0,!0)}),[e,s,t,n]}const[K_,G_,J_,X_]=Q_();function Ho(e,t){const s=t?e?X_:J_:e?G_:K_;return(n,r,i)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?n:Reflect.get(Co(s,r)&&r in n?s:n,r,i)}const Y_={get:Ho(!1,!1)},Z_={get:Ho(!1,!0)},eh={get:Ho(!0,!1)},th={get:Ho(!0,!0)},bf=new WeakMap,wf=new WeakMap,Ef=new WeakMap,qf=new WeakMap;function nh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function sh(e){return e.__v_skip||!Object.isExtensible(e)?0:nh(R_(e))}function Gt(e){return ur(e)?e:Wo(e,!1,V_,Y_,bf)}function Vl(e){return Wo(e,!1,H_,Z_,wf)}function zl(e){return Wo(e,!0,z_,eh,Ef)}function rh(e){return Wo(e,!0,W_,th,qf)}function Wo(e,t,s,n,r){if(!Fi(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=r.get(e);if(i)return i;const o=sh(e);if(o===0)return e;const c=new Proxy(e,o===2?n:s);return r.set(e,c),c}function vs(e){return ur(e)?vs(e.__v_raw):!!(e&&e.__v_isReactive)}function ur(e){return!!(e&&e.__v_isReadonly)}function wi(e){return!!(e&&e.__v_isShallow)}function Hl(e){return vs(e)||ur(e)}function Tt(e){const t=e&&e.__v_raw;return t?Tt(t):e}function Mi(e){return L_(e,"__v_skip",!0),e}const Ei=e=>Fi(e)?Gt(e):e,Wl=e=>Fi(e)?zl(e):e;function Ql(e){$s&&jn&&(e=Tt(e),hf(e.dep||(e.dep=jl())))}function Qo(e,t){e=Tt(e);const s=e.dep;s&&nl(s)}function Qt(e){return!!(e&&e.__v_isRef===!0)}function It(e){return xf(e,!1)}function Sf(e){return xf(e,!0)}function xf(e,t){return Qt(e)?e:new ih(e,t)}class ih{constructor(t,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?t:Tt(t),this._value=s?t:Ei(t)}get value(){return Ql(this),this._value}set value(t){const s=this.__v_isShallow||wi(t)||ur(t);t=s?t:Tt(t),Di(t,this._rawValue)&&(this._rawValue=t,this._value=s?t:Ei(t),Qo(this))}}function oh(e){Qo(e)}function X(e){return Qt(e)?e.value:e}function ah(e){return Dl(e)?e():X(e)}const lh={get:(e,t,s)=>X(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const r=e[t];return Qt(r)&&!Qt(s)?(r.value=s,!0):Reflect.set(e,t,s,n)}};function Kl(e){return vs(e)?e:new Proxy(e,lh)}class ch{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:n}=t(()=>Ql(this),()=>Qo(this));this._get=s,this._set=n}get value(){return this._get()}set value(t){this._set(t)}}function uh(e){return new ch(e)}function yn(e){const t=gs(e)?new Array(e.length):{};for(const s in e)t[s]=kf(e,s);return t}class fh{constructor(t,s,n){this._object=t,this._key=s,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return $_(Tt(this._object),this._key)}}class dh{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function ph(e,t,s){return Qt(e)?e:Dl(e)?new dh(e):Fi(e)&&arguments.length>1?kf(e,t,s):It(e)}function kf(e,t,s){const n=e[t];return Qt(n)?n:new fh(e,t,s)}class _h{constructor(t,s,n,r){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Lr(t,()=>{this._dirty||(this._dirty=!0,Qo(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const t=Tt(this);return Ql(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function hh(e,t,s=!1){let n,r;const i=Dl(e);return i?(n=e,r=C_):(n=e.get,r=e.set),new _h(n,r,i||!r,s)}function Af(e,t){const s=Object.create(null),n=e.split(",");for(let r=0;r<n.length;r++)s[n[r]]=!0;return t?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const Nt={},Or=[],ns=()=>{},mh=()=>!1,gh=/^on[^a-z]/,Ko=e=>gh.test(e),Cf=e=>e.startsWith("onUpdate:"),on=Object.assign,Gl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},yh=Object.prototype.hasOwnProperty,Ft=(e,t)=>yh.call(e,t),xt=Array.isArray,Tf=e=>Go(e)==="[object Map]",Of=e=>Go(e)==="[object Set]",vh=e=>Go(e)==="[object RegExp]",St=e=>typeof e=="function",tn=e=>typeof e=="string",Zt=e=>e!==null&&typeof e=="object",Jl=e=>(Zt(e)||St(e))&&St(e.then)&&St(e.catch),If=Object.prototype.toString,Go=e=>If.call(e),Pf=e=>Go(e)==="[object Object]",ci=Af(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jo=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},bh=/-(\w)/g,Wn=Jo(e=>e.replace(bh,(t,s)=>s?s.toUpperCase():"")),wh=/\B([A-Z])/g,Xo=Jo(e=>e.replace(wh,"-$1").toLowerCase()),Yo=Jo(e=>e.charAt(0).toUpperCase()+e.slice(1)),ui=Jo(e=>e?`on${Yo(e)}`:""),sl=(e,t)=>!Object.is(e,t),fi=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},rl=(e,t,s)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:s})},Eh=e=>{const t=parseFloat(e);return isNaN(t)?e:t},qh=e=>{const t=tn(e)?Number(e):NaN;return isNaN(t)?e:t};let zc;const il=()=>zc||(zc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Sh="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",xh=Af(Sh);function Gn(e){if(xt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],r=tn(n)?Th(n):Gn(n);if(r)for(const i in r)t[i]=r[i]}return t}else if(tn(e)||Zt(e))return e}const kh=/;(?![^(]*\))/g,Ah=/:([^]+)/,Ch=/\/\*[^]*?\*\//g;function Th(e){const t={};return e.replace(Ch,"").split(kh).forEach(s=>{if(s){const n=s.split(Ah);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ot(e){let t="";if(tn(e))t=e;else if(xt(e))for(let s=0;s<e.length;s++){const n=ot(e[s]);n&&(t+=n+" ")}else if(Zt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}function Oh(e){if(!e)return null;let{class:t,style:s}=e;return t&&!tn(t)&&(e.class=ot(t)),s&&(e.style=Gn(s)),e}const ht=e=>tn(e)?e:e==null?"":xt(e)||Zt(e)&&(e.toString===If||!St(e.toString))?JSON.stringify(e,Rf,2):String(e),Rf=(e,t)=>t&&t.__v_isRef?Rf(e,t.value):Tf(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,r])=>(s[`${n} =>`]=r,s),{})}:Of(t)?{[`Set(${t.size})`]:[...t.values()]}:Zt(t)&&!xt(t)&&!Pf(t)?String(t):t;function Ih(e,...t){}function Ph(e,t){}function bs(e,t,s,n){let r;try{r=n?e(...n):e()}catch(i){mr(i,t,s)}return r}function In(e,t,s,n){if(St(e)){const i=bs(e,t,s,n);return i&&Jl(i)&&i.catch(o=>{mr(o,t,s)}),i}const r=[];for(let i=0;i<e.length;i++)r.push(In(e[i],t,s,n));return r}function mr(e,t,s,n=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,c=s;for(;i;){const _=i.ec;if(_){for(let h=0;h<_.length;h++)if(_[h](e,o,c)===!1)return}i=i.parent}const f=t.appContext.config.errorHandler;if(f){bs(f,null,10,[e,o,c]);return}}Rh(e,s,r,n)}function Rh(e,t,s,n=!0){console.error(e)}let qi=!1,ol=!1;const un=[];let ts=0;const Ir=[];let hs=null,er=0;const Lf=Promise.resolve();let Xl=null;function zn(e){const t=Xl||Lf;return e?t.then(this?e.bind(this):e):t}function Lh(e){let t=ts+1,s=un.length;for(;t<s;){const n=t+s>>>1,r=un[n],i=Si(r);i<e||i===e&&r.pre?t=n+1:s=n}return t}function Zo(e){(!un.length||!un.includes(e,qi&&e.allowRecurse?ts+1:ts))&&(e.id==null?un.push(e):un.splice(Lh(e.id),0,e),Ff())}function Ff(){!qi&&!ol&&(ol=!0,Xl=Lf.then(Df))}function Fh(e){const t=un.indexOf(e);t>ts&&un.splice(t,1)}function Oo(e){xt(e)?Ir.push(...e):(!hs||!hs.includes(e,e.allowRecurse?er+1:er))&&Ir.push(e),Ff()}function Hc(e,t=qi?ts+1:0){for(;t<un.length;t++){const s=un[t];s&&s.pre&&(un.splice(t,1),t--,s())}}function Io(e){if(Ir.length){const t=[...new Set(Ir)];if(Ir.length=0,hs){hs.push(...t);return}for(hs=t,hs.sort((s,n)=>Si(s)-Si(n)),er=0;er<hs.length;er++)hs[er]();hs=null,er=0}}const Si=e=>e.id==null?1/0:e.id,Dh=(e,t)=>{const s=Si(e)-Si(t);if(s===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return s};function Df(e){ol=!1,qi=!0,un.sort(Dh);const t=ns;try{for(ts=0;ts<un.length;ts++){const s=un[ts];s&&s.active!==!1&&bs(s,null,14)}}finally{ts=0,un.length=0,Io(),qi=!1,Xl=null,(un.length||Ir.length)&&Df()}}let Ar,co=[];function Mf(e,t){var s,n;Ar=e,Ar?(Ar.enabled=!0,co.forEach(({event:r,args:i})=>Ar.emit(r,...i)),co=[]):typeof window<"u"&&window.HTMLElement&&!((n=(s=window.navigator)==null?void 0:s.userAgent)!=null&&n.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{Mf(i,t)}),setTimeout(()=>{Ar||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,co=[])},3e3)):co=[]}function Mh(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Nt;let r=s;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:y,trim:w}=n[h]||Nt;w&&(r=s.map(O=>tn(O)?O.trim():O)),y&&(r=s.map(Eh))}let c,f=n[c=ui(t)]||n[c=ui(Wn(t))];!f&&i&&(f=n[c=ui(Xo(t))]),f&&In(f,e,6,r);const _=n[c+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,In(_,e,6,r)}}function Nf(e,t,s=!1){const n=t.emitsCache,r=n.get(e);if(r!==void 0)return r;const i=e.emits;let o={},c=!1;if(!St(e)){const f=_=>{const h=Nf(_,t,!0);h&&(c=!0,on(o,h))};!s&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!i&&!c?(Zt(e)&&n.set(e,null),null):(xt(i)?i.forEach(f=>o[f]=null):on(o,i),Zt(e)&&n.set(e,o),o)}function ea(e,t){return!e||!Ko(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ft(e,t[0].toLowerCase()+t.slice(1))||Ft(e,Xo(t))||Ft(e,t))}let rn=null,ta=null;function xi(e){const t=rn;return rn=e,ta=e&&e.type.__scopeId||null,t}function as(e){ta=e}function ls(){ta=null}const Nh=e=>Fn;function Fn(e,t=rn,s){if(!t||e._n)return e;const n=(...r)=>{n._d&&pl(-1);const i=xi(t);let o;try{o=e(...r)}finally{xi(i),n._d&&pl(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Eo(e){const{type:t,vnode:s,proxy:n,withProxy:r,props:i,propsOptions:[o],slots:c,attrs:f,emit:_,render:h,renderCache:y,data:w,setupState:O,ctx:M,inheritAttrs:G}=e;let fe,Q;const U=xi(e);try{if(s.shapeFlag&4){const A=r||n;fe=Cn(h.call(A,A,y,i,O,w,M)),Q=f}else{const A=t;fe=Cn(A.length>1?A(i,{attrs:f,slots:c,emit:_}):A(i,null)),Q=t.props?f:Bh(f)}}catch(A){hi.length=0,mr(A,e,1),fe=Ze(fn)}let E=fe;if(Q&&G!==!1){const A=Object.keys(Q),{shapeFlag:H}=E;A.length&&H&7&&(o&&A.some(Cf)&&(Q=jh(Q,o)),E=rs(E,Q))}return s.dirs&&(E=rs(E),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&(E.transition=s.transition),fe=E,xi(U),fe}function $h(e){let t;for(let s=0;s<e.length;s++){const n=e[s];if(Hs(n)){if(n.type!==fn||n.children==="v-if"){if(t)return;t=n}}else return}return t}const Bh=e=>{let t;for(const s in e)(s==="class"||s==="style"||Ko(s))&&((t||(t={}))[s]=e[s]);return t},jh=(e,t)=>{const s={};for(const n in e)(!Cf(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Uh(e,t,s){const{props:n,children:r,component:i}=e,{props:o,children:c,patchFlag:f}=t,_=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&f>=0){if(f&1024)return!0;if(f&16)return n?Wc(n,o,_):!!o;if(f&8){const h=t.dynamicProps;for(let y=0;y<h.length;y++){const w=h[y];if(o[w]!==n[w]&&!ea(_,w))return!0}}}else return(r||c)&&(!c||!c.$stable)?!0:n===o?!1:n?o?Wc(n,o,_):!0:!!o;return!1}function Wc(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(t[i]!==e[i]&&!ea(s,i))return!0}return!1}function Yl({vnode:e,parent:t},s){for(;t&&t.subTree===e;)(e=t.vnode).el=s,t=t.parent}const Zl="components",Vh="directives";function Bs(e,t){return ec(Zl,e,!0,t)||e}const $f=Symbol.for("v-ndc");function na(e){return tn(e)?ec(Zl,e,!1)||e:e||$f}function zh(e){return ec(Vh,e)}function ec(e,t,s=!0,n=!1){const r=rn||Yt;if(r){const i=r.type;if(e===Zl){const c=ml(i,!1);if(c&&(c===t||c===Wn(t)||c===Yo(Wn(t))))return i}const o=Qc(r[e]||i[e],t)||Qc(r.appContext[e],t);return!o&&n?i:o}}function Qc(e,t){return e&&(e[t]||e[Wn(t)]||e[Yo(Wn(t))])}const Bf=e=>e.__isSuspense,Hh={name:"Suspense",__isSuspense:!0,process(e,t,s,n,r,i,o,c,f,_){e==null?Wh(t,s,n,r,i,o,c,f,_):Qh(e,t,s,n,r,o,c,f,_)},hydrate:Kh,create:tc,normalize:Gh},jf=Hh;function ki(e,t){const s=e.props&&e.props[t];St(s)&&s()}function Wh(e,t,s,n,r,i,o,c,f){const{p:_,o:{createElement:h}}=f,y=h("div"),w=e.suspense=tc(e,r,n,t,y,s,i,o,c,f);_(null,w.pendingBranch=e.ssContent,y,null,n,w,i,o),w.deps>0?(ki(e,"onPending"),ki(e,"onFallback"),_(null,e.ssFallback,t,s,n,null,i,o),Pr(w,e.ssFallback)):w.resolve(!1,!0)}function Qh(e,t,s,n,r,i,o,c,{p:f,um:_,o:{createElement:h}}){const y=t.suspense=e.suspense;y.vnode=t,t.el=e.el;const w=t.ssContent,O=t.ssFallback,{activeBranch:M,pendingBranch:G,isInFallback:fe,isHydrating:Q}=y;if(G)y.pendingBranch=w,Un(w,G)?(f(G,w,y.hiddenContainer,null,r,y,i,o,c),y.deps<=0?y.resolve():fe&&(f(M,O,s,n,r,null,i,o,c),Pr(y,O))):(y.pendingId++,Q?(y.isHydrating=!1,y.activeBranch=G):_(G,r,y),y.deps=0,y.effects.length=0,y.hiddenContainer=h("div"),fe?(f(null,w,y.hiddenContainer,null,r,y,i,o,c),y.deps<=0?y.resolve():(f(M,O,s,n,r,null,i,o,c),Pr(y,O))):M&&Un(w,M)?(f(M,w,s,n,r,y,i,o,c),y.resolve(!0)):(f(null,w,y.hiddenContainer,null,r,y,i,o,c),y.deps<=0&&y.resolve()));else if(M&&Un(w,M))f(M,w,s,n,r,y,i,o,c),Pr(y,w);else if(ki(t,"onPending"),y.pendingBranch=w,y.pendingId++,f(null,w,y.hiddenContainer,null,r,y,i,o,c),y.deps<=0)y.resolve();else{const{timeout:U,pendingId:E}=y;U>0?setTimeout(()=>{y.pendingId===E&&y.fallback(O)},U):U===0&&y.fallback(O)}}function tc(e,t,s,n,r,i,o,c,f,_,h=!1){const{p:y,m:w,um:O,n:M,o:{parentNode:G,remove:fe}}=_;let Q;const U=Jh(e);U&&t?.pendingBranch&&(Q=t.pendingId,t.deps++);const E=e.props?qh(e.props.timeout):void 0,A={vnode:e,parent:t,parentComponent:s,isSVG:o,container:n,hiddenContainer:r,anchor:i,deps:0,pendingId:0,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(H=!1,te=!1){const{vnode:Y,activeBranch:x,pendingBranch:S,pendingId:L,effects:K,parentComponent:N,container:re}=A;let Ie=!1;if(A.isHydrating)A.isHydrating=!1;else if(!H){Ie=x&&S.transition&&S.transition.mode==="out-in",Ie&&(x.transition.afterLeave=()=>{L===A.pendingId&&(w(S,re,pe,0),Oo(K))});let{anchor:pe}=A;x&&(pe=M(x),O(x,N,A,!0)),Ie||w(S,re,pe,0)}Pr(A,S),A.pendingBranch=null,A.isInFallback=!1;let Xe=A.parent,ae=!1;for(;Xe;){if(Xe.pendingBranch){Xe.effects.push(...K),ae=!0;break}Xe=Xe.parent}!ae&&!Ie&&Oo(K),A.effects=[],U&&t&&t.pendingBranch&&Q===t.pendingId&&(t.deps--,t.deps===0&&!te&&t.resolve()),ki(Y,"onResolve")},fallback(H){if(!A.pendingBranch)return;const{vnode:te,activeBranch:Y,parentComponent:x,container:S,isSVG:L}=A;ki(te,"onFallback");const K=M(Y),N=()=>{A.isInFallback&&(y(null,H,S,K,x,null,L,c,f),Pr(A,H))},re=H.transition&&H.transition.mode==="out-in";re&&(Y.transition.afterLeave=N),A.isInFallback=!0,O(Y,x,null,!0),re||N()},move(H,te,Y){A.activeBranch&&w(A.activeBranch,H,te,Y),A.container=H},next(){return A.activeBranch&&M(A.activeBranch)},registerDep(H,te){const Y=!!A.pendingBranch;Y&&A.deps++;const x=H.vnode.el;H.asyncDep.catch(S=>{mr(S,H,0)}).then(S=>{if(H.isUnmounted||A.isUnmounted||A.pendingId!==H.suspenseId)return;H.asyncResolved=!0;const{vnode:L}=H;_l(H,S,!1),x&&(L.el=x);const K=!x&&H.subTree.el;te(H,L,G(x||H.subTree.el),x?null:M(H.subTree),A,o,f),K&&fe(K),Yl(H,L.el),Y&&--A.deps===0&&A.resolve()})},unmount(H,te){A.isUnmounted=!0,A.activeBranch&&O(A.activeBranch,s,H,te),A.pendingBranch&&O(A.pendingBranch,s,H,te)}};return A}function Kh(e,t,s,n,r,i,o,c,f){const _=t.suspense=tc(t,n,s,e.parentNode,document.createElement("div"),null,r,i,o,c,!0),h=f(e,_.pendingBranch=t.ssContent,s,_,i,o);return _.deps===0&&_.resolve(!1,!0),h}function Gh(e){const{shapeFlag:t,children:s}=e,n=t&32;e.ssContent=Kc(n?s.default:s),e.ssFallback=n?Kc(s.fallback):Ze(fn)}function Kc(e){let t;if(St(e)){const s=_r&&e._c;s&&(e._d=!1,de()),e=e(),s&&(e._d=!0,t=qn,vd())}return xt(e)&&(e=$h(e)),e=Cn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(s=>s!==e)),e}function Uf(e,t){t&&t.pendingBranch?xt(e)?t.effects.push(...e):t.effects.push(e):Oo(e)}function Pr(e,t){e.activeBranch=t;const{vnode:s,parentComponent:n}=e,r=s.el=t.el;n&&n.subTree===s&&(n.vnode.el=r,Yl(n,r))}function Jh(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function fr(e,t){return Ni(e,null,t)}function Vf(e,t){return Ni(e,null,{flush:"post"})}function Xh(e,t){return Ni(e,null,{flush:"sync"})}const uo={};function Ut(e,t,s){return Ni(e,t,s)}function Ni(e,t,{immediate:s,deep:n,flush:r,onTrack:i,onTrigger:o}=Nt){var c;const f=Bl()===((c=Yt)==null?void 0:c.scope)?Yt:null;let _,h=!1,y=!1;if(Qt(e)?(_=()=>e.value,h=wi(e)):vs(e)?(_=()=>e,n=!0):xt(e)?(y=!0,h=e.some(A=>vs(A)||wi(A)),_=()=>e.map(A=>{if(Qt(A))return A.value;if(vs(A))return rr(A);if(St(A))return bs(A,f,2)})):St(e)?t?_=()=>bs(e,f,2):_=()=>{if(!(f&&f.isUnmounted))return w&&w(),In(e,f,3,[O])}:_=ns,t&&n){const A=_;_=()=>rr(A())}let w,O=A=>{w=U.onStop=()=>{bs(A,f,4)}},M;if(Dr)if(O=ns,t?s&&In(t,f,3,[_(),y?[]:void 0,O]):_(),r==="sync"){const A=Td();M=A.__watcherHandles||(A.__watcherHandles=[])}else return ns;let G=y?new Array(e.length).fill(uo):uo;const fe=()=>{if(U.active)if(t){const A=U.run();(n||h||(y?A.some((H,te)=>sl(H,G[te])):sl(A,G)))&&(w&&w(),In(t,f,3,[A,G===uo?void 0:y&&G[0]===uo?[]:G,O]),G=A)}else U.run()};fe.allowRecurse=!!t;let Q;r==="sync"?Q=fe:r==="post"?Q=()=>ln(fe,f&&f.suspense):(fe.pre=!0,f&&(fe.id=f.uid),Q=()=>Zo(fe));const U=new Lr(_,Q);t?s?fe():G=U.run():r==="post"?ln(U.run.bind(U),f&&f.suspense):U.run();const E=()=>{U.stop(),f&&f.scope&&Gl(f.scope.effects,U)};return M&&M.push(E),E}function Yh(e,t,s){const n=this.proxy,r=tn(e)?e.includes(".")?zf(n,e):()=>n[e]:e.bind(n,n);let i;St(t)?i=t:(i=t.handler,s=t);const o=Yt;Ws(this);const c=Ni(r,i.bind(n),s);return o?Ws(o):Us(),c}function zf(e,t){const s=t.split(".");return()=>{let n=e;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}function rr(e,t){if(!Zt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Qt(e))rr(e.value,t);else if(xt(e))for(let s=0;s<e.length;s++)rr(e[s],t);else if(Of(e)||Tf(e))e.forEach(s=>{rr(s,t)});else if(Pf(e))for(const s in e)rr(e[s],t);return e}function At(e,t){const s=rn;if(s===null)return e;const n=aa(s)||s.proxy,r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,c,f,_=Nt]=t[i];o&&(St(o)&&(o={mounted:o,updated:o}),o.deep&&rr(c),r.push({dir:o,instance:n,value:c,oldValue:void 0,arg:f,modifiers:_}))}return e}function es(e,t,s,n){const r=e.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const c=r[o];i&&(c.oldValue=i[o].value);let f=c.dir[n];f&&(Wr(),In(f,s,8,[e.el,c,e,t]),Qr())}}const Rs=Symbol("_leaveCb"),fo=Symbol("_enterCb");function nc(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cs(()=>{e.isMounted=!0}),Bi(()=>{e.isUnmounting=!0}),e}const Ln=[Function,Array],sc={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ln,onEnter:Ln,onAfterEnter:Ln,onEnterCancelled:Ln,onBeforeLeave:Ln,onLeave:Ln,onAfterLeave:Ln,onLeaveCancelled:Ln,onBeforeAppear:Ln,onAppear:Ln,onAfterAppear:Ln,onAppearCancelled:Ln},Zh={name:"BaseTransition",props:sc,setup(e,{slots:t}){const s=vn(),n=nc();let r;return()=>{const i=t.default&&sa(t.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const G of i)if(G.type!==fn){o=G;break}}const c=Tt(e),{mode:f}=c;if(n.isLeaving)return Fa(o);const _=Gc(o);if(!_)return Fa(o);const h=Fr(_,c,n,s);dr(_,h);const y=s.subTree,w=y&&Gc(y);let O=!1;const{getTransitionKey:M}=_.type;if(M){const G=M();r===void 0?r=G:G!==r&&(r=G,O=!0)}if(w&&w.type!==fn&&(!Un(_,w)||O)){const G=Fr(w,c,n,s);if(dr(w,G),f==="out-in")return n.isLeaving=!0,G.afterLeave=()=>{n.isLeaving=!1,s.update.active!==!1&&s.update()},Fa(o);f==="in-out"&&_.type!==fn&&(G.delayLeave=(fe,Q,U)=>{const E=Wf(n,w);E[String(w.key)]=w,fe[Rs]=()=>{Q(),fe[Rs]=void 0,delete h.delayedLeave},h.delayedLeave=U})}return o}}},Hf=Zh;function Wf(e,t){const{leavingVNodes:s}=e;let n=s.get(t.type);return n||(n=Object.create(null),s.set(t.type,n)),n}function Fr(e,t,s,n){const{appear:r,mode:i,persisted:o=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:_,onEnterCancelled:h,onBeforeLeave:y,onLeave:w,onAfterLeave:O,onLeaveCancelled:M,onBeforeAppear:G,onAppear:fe,onAfterAppear:Q,onAppearCancelled:U}=t,E=String(e.key),A=Wf(s,e),H=(x,S)=>{x&&In(x,n,9,S)},te=(x,S)=>{const L=S[1];H(x,S),xt(x)?x.every(K=>K.length<=1)&&L():x.length<=1&&L()},Y={mode:i,persisted:o,beforeEnter(x){let S=c;if(!s.isMounted)if(r)S=G||c;else return;x[Rs]&&x[Rs](!0);const L=A[E];L&&Un(e,L)&&L.el[Rs]&&L.el[Rs](),H(S,[x])},enter(x){let S=f,L=_,K=h;if(!s.isMounted)if(r)S=fe||f,L=Q||_,K=U||h;else return;let N=!1;const re=x[fo]=Ie=>{N||(N=!0,Ie?H(K,[x]):H(L,[x]),Y.delayedLeave&&Y.delayedLeave(),x[fo]=void 0)};S?te(S,[x,re]):re()},leave(x,S){const L=String(e.key);if(x[fo]&&x[fo](!0),s.isUnmounting)return S();H(y,[x]);let K=!1;const N=x[Rs]=re=>{K||(K=!0,S(),re?H(M,[x]):H(O,[x]),x[Rs]=void 0,A[L]===e&&delete A[L])};A[L]=e,w?te(w,[x,N]):N()},clone(x){return Fr(x,t,s,n)}};return Y}function Fa(e){if($i(e))return e=rs(e),e.children=null,e}function Gc(e){return $i(e)?e.children?e.children[0]:void 0:e}function dr(e,t){e.shapeFlag&6&&e.component?dr(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function sa(e,t=!1,s){let n=[],r=0;for(let i=0;i<e.length;i++){let o=e[i];const c=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===yt?(o.patchFlag&128&&r++,n=n.concat(sa(o.children,t,c))):(t||o.type!==fn)&&n.push(c!=null?rs(o,{key:c}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Rn(e,t){return St(e)?(()=>on({name:e.name},t,{setup:e}))():e}const ar=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function em(e){St(e)&&(e={loader:e});const{loader:t,loadingComponent:s,errorComponent:n,delay:r=200,timeout:i,suspensible:o=!0,onError:c}=e;let f=null,_,h=0;const y=()=>(h++,f=null,w()),w=()=>{let O;return f||(O=f=t().catch(M=>{if(M=M instanceof Error?M:new Error(String(M)),c)return new Promise((G,fe)=>{c(M,()=>G(y()),()=>fe(M),h+1)});throw M}).then(M=>O!==f&&f?f:(M&&(M.__esModule||M[Symbol.toStringTag]==="Module")&&(M=M.default),_=M,M)))};return Rn({name:"AsyncComponentWrapper",__asyncLoader:w,get __asyncResolved(){return _},setup(){const O=Yt;if(_)return()=>Da(_,O);const M=U=>{f=null,mr(U,O,13,!n)};if(o&&O.suspense||Dr)return w().then(U=>()=>Da(U,O)).catch(U=>(M(U),()=>n?Ze(n,{error:U}):null));const G=It(!1),fe=It(),Q=It(!!r);return r&&setTimeout(()=>{Q.value=!1},r),i!=null&&setTimeout(()=>{if(!G.value&&!fe.value){const U=new Error(`Async component timed out after ${i}ms.`);M(U),fe.value=U}},i),w().then(()=>{G.value=!0,O.parent&&$i(O.parent.vnode)&&Zo(O.parent.update)}).catch(U=>{M(U),fe.value=U}),()=>{if(G.value&&_)return Da(_,O);if(fe.value&&n)return Ze(n,{error:fe.value});if(s&&!Q.value)return Ze(s)}}})}function Da(e,t){const{ref:s,props:n,children:r,ce:i}=t.vnode,o=Ze(e,n,r);return o.ref=s,o.ce=i,delete t.vnode.ce,o}const $i=e=>e.type.__isKeepAlive,tm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const s=vn(),n=s.ctx;if(!n.renderer)return()=>{const U=t.default&&t.default();return U&&U.length===1?U[0]:U};const r=new Map,i=new Set;let o=null;const c=s.suspense,{renderer:{p:f,m:_,um:h,o:{createElement:y}}}=n,w=y("div");n.activate=(U,E,A,H,te)=>{const Y=U.component;_(U,E,A,0,c),f(Y.vnode,U,E,A,Y,c,H,U.slotScopeIds,te),ln(()=>{Y.isDeactivated=!1,Y.a&&fi(Y.a);const x=U.props&&U.props.onVnodeMounted;x&&En(x,Y.parent,U)},c)},n.deactivate=U=>{const E=U.component;_(U,w,null,1,c),ln(()=>{E.da&&fi(E.da);const A=U.props&&U.props.onVnodeUnmounted;A&&En(A,E.parent,U),E.isDeactivated=!0},c)};function O(U){Ma(U),h(U,s,c,!0)}function M(U){r.forEach((E,A)=>{const H=ml(E.type);H&&(!U||!U(H))&&G(A)})}function G(U){const E=r.get(U);!o||!Un(E,o)?O(E):o&&Ma(o),r.delete(U),i.delete(U)}Ut(()=>[e.include,e.exclude],([U,E])=>{U&&M(A=>ai(U,A)),E&&M(A=>!ai(E,A))},{flush:"post",deep:!0});let fe=null;const Q=()=>{fe!=null&&r.set(fe,Na(s.subTree))};return cs(Q),ia(Q),Bi(()=>{r.forEach(U=>{const{subTree:E,suspense:A}=s,H=Na(E);if(U.type===H.type&&U.key===H.key){Ma(H);const te=H.component.da;te&&ln(te,A);return}O(U)})}),()=>{if(fe=null,!t.default)return null;const U=t.default(),E=U[0];if(U.length>1)return o=null,U;if(!Hs(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let A=Na(E);const H=A.type,te=ml(ar(A)?A.type.__asyncResolved||{}:H),{include:Y,exclude:x,max:S}=e;if(Y&&(!te||!ai(Y,te))||x&&te&&ai(x,te))return o=A,E;const L=A.key==null?H:A.key,K=r.get(L);return A.el&&(A=rs(A),E.shapeFlag&128&&(E.ssContent=A)),fe=L,K?(A.el=K.el,A.component=K.component,A.transition&&dr(A,A.transition),A.shapeFlag|=512,i.delete(L),i.add(L)):(i.add(L),S&&i.size>parseInt(S,10)&&G(i.values().next().value)),A.shapeFlag|=256,o=A,Bf(E.type)?E:A}}},nm=tm;function ai(e,t){return xt(e)?e.some(s=>ai(s,t)):tn(e)?e.split(",").includes(t):vh(e)?e.test(t):!1}function rc(e,t){Qf(e,"a",t)}function ic(e,t){Qf(e,"da",t)}function Qf(e,t,s=Yt){const n=e.__wdc||(e.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(ra(t,n,s),s){let r=s.parent;for(;r&&r.parent;)$i(r.parent.vnode)&&sm(n,t,s,r),r=r.parent}}function sm(e,t,s,n){const r=ra(t,e,n,!0);ji(()=>{Gl(n[t],r)},s)}function Ma(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function Na(e){return e.shapeFlag&128?e.ssContent:e}function ra(e,t,s=Yt,n=!1){if(s){const r=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(s.isUnmounted)return;Wr(),Ws(s);const c=In(t,s,e,o);return Us(),Qr(),c});return n?r.unshift(i):r.push(i),i}}const Ss=e=>(t,s=Yt)=>(!Dr||e==="sp")&&ra(e,(...n)=>t(...n),s),Kf=Ss("bm"),cs=Ss("m"),Gf=Ss("bu"),ia=Ss("u"),Bi=Ss("bum"),ji=Ss("um"),Jf=Ss("sp"),Xf=Ss("rtg"),Yf=Ss("rtc");function Zf(e,t=Yt){ra("ec",e,t)}function $t(e,t,s,n){let r;const i=s&&s[n];if(xt(e)||tn(e)){r=new Array(e.length);for(let o=0,c=e.length;o<c;o++)r[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){r=new Array(e);for(let o=0;o<e;o++)r[o]=t(o+1,o,void 0,i&&i[o])}else if(Zt(e))if(e[Symbol.iterator])r=Array.from(e,(o,c)=>t(o,c,void 0,i&&i[c]));else{const o=Object.keys(e);r=new Array(o.length);for(let c=0,f=o.length;c<f;c++){const _=o[c];r[c]=t(e[_],_,c,i&&i[c])}}else r=[];return s&&(s[n]=r),r}function rm(e,t){for(let s=0;s<t.length;s++){const n=t[s];if(xt(n))for(let r=0;r<n.length;r++)e[n[r].name]=n[r].fn;else n&&(e[n.name]=n.key?(...r)=>{const i=n.fn(...r);return i&&(i.key=n.key),i}:n.fn)}return e}function sn(e,t,s={},n,r){if(rn.isCE||rn.parent&&ar(rn.parent)&&rn.parent.isCE)return t!=="default"&&(s.name=t),Ze("slot",s,n&&n());let i=e[t];i&&i._c&&(i._d=!1),de();const o=i&&ed(i(s)),c=en(yt,{key:s.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!r&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function ed(e){return e.some(t=>Hs(t)?!(t.type===fn||t.type===yt&&!ed(t.children)):!0)?e:null}function td(e,t){const s={};for(const n in e)s[t&&/[A-Z]/.test(n)?`on:${n}`:ui(n)]=e[n];return s}const al=e=>e?Sd(e)?aa(e)||e.proxy:al(e.parent):null,di=on(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>al(e.parent),$root:e=>al(e.root),$emit:e=>e.emit,$options:e=>oc(e),$forceUpdate:e=>e.f||(e.f=()=>Zo(e.update)),$nextTick:e=>e.n||(e.n=zn.bind(e.proxy)),$watch:e=>Yh.bind(e)}),$a=(e,t)=>e!==Nt&&!e.__isScriptSetup&&Ft(e,t),ll={get({_:e},t){const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:c,appContext:f}=e;let _;if(t[0]!=="$"){const O=o[t];if(O!==void 0)switch(O){case 1:return n[t];case 2:return r[t];case 4:return s[t];case 3:return i[t]}else{if($a(n,t))return o[t]=1,n[t];if(r!==Nt&&Ft(r,t))return o[t]=2,r[t];if((_=e.propsOptions[0])&&Ft(_,t))return o[t]=3,i[t];if(s!==Nt&&Ft(s,t))return o[t]=4,s[t];cl&&(o[t]=0)}}const h=di[t];let y,w;if(h)return t==="$attrs"&&Sn(e,"get",t),h(e);if((y=c.__cssModules)&&(y=y[t]))return y;if(s!==Nt&&Ft(s,t))return o[t]=4,s[t];if(w=f.config.globalProperties,Ft(w,t))return w[t]},set({_:e},t,s){const{data:n,setupState:r,ctx:i}=e;return $a(r,t)?(r[t]=s,!0):n!==Nt&&Ft(n,t)?(n[t]=s,!0):Ft(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let c;return!!s[o]||e!==Nt&&Ft(e,o)||$a(t,o)||(c=i[0])&&Ft(c,o)||Ft(n,o)||Ft(di,o)||Ft(r.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ft(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}},im=on({},ll,{get(e,t){if(t!==Symbol.unscopables)return ll.get(e,t,e)},has(e,t){return t[0]!=="_"&&!xh(t)}});function om(){return null}function am(){return null}function lm(e){}function cm(e){}function um(){return null}function fm(){}function dm(e,t){return null}function nd(){return sd().slots}function pm(){return sd().attrs}function _m(e,t,s){const n=vn();if(s&&s.local){const r=It(e[t]);return Ut(()=>e[t],i=>r.value=i),Ut(r,i=>{i!==e[t]&&n.emit(`update:${t}`,i)}),r}else return{__v_isRef:!0,get value(){return e[t]},set value(r){n.emit(`update:${t}`,r)}}}function sd(){const e=vn();return e.setupContext||(e.setupContext=Ad(e))}function Ai(e){return xt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}function hm(e,t){const s=Ai(e);for(const n in t){if(n.startsWith("__skip"))continue;let r=s[n];r?xt(r)||St(r)?r=s[n]={type:r,default:t[n]}:r.default=t[n]:r===null&&(r=s[n]={default:t[n]}),r&&t[`__skip_${n}`]&&(r.skipFactory=!0)}return s}function mm(e,t){return!e||!t?e||t:xt(e)&&xt(t)?e.concat(t):on({},Ai(e),Ai(t))}function gm(e,t){const s={};for(const n in e)t.includes(n)||Object.defineProperty(s,n,{enumerable:!0,get:()=>e[n]});return s}function rd(e){const t=vn();let s=e();return Us(),Jl(s)&&(s=s.catch(n=>{throw Ws(t),n})),[s,()=>Ws(t)]}let cl=!0;function ym(e){const t=oc(e),s=e.proxy,n=e.ctx;cl=!1,t.beforeCreate&&Jc(t.beforeCreate,e,"bc");const{data:r,computed:i,methods:o,watch:c,provide:f,inject:_,created:h,beforeMount:y,mounted:w,beforeUpdate:O,updated:M,activated:G,deactivated:fe,beforeDestroy:Q,beforeUnmount:U,destroyed:E,unmounted:A,render:H,renderTracked:te,renderTriggered:Y,errorCaptured:x,serverPrefetch:S,expose:L,inheritAttrs:K,components:N,directives:re,filters:Ie}=t;if(_&&vm(_,n,null),o)for(const pe in o){const ze=o[pe];St(ze)&&(n[pe]=ze.bind(s))}if(r){const pe=r.call(s,s);Zt(pe)&&(e.data=Gt(pe))}if(cl=!0,i)for(const pe in i){const ze=i[pe],Be=St(ze)?ze.bind(s,s):St(ze.get)?ze.get.bind(s,s):ns,Et=!St(ze)&&St(ze.set)?ze.set.bind(s):ns,dt=ft({get:Be,set:Et});Object.defineProperty(n,pe,{enumerable:!0,configurable:!0,get:()=>dt.value,set:$e=>dt.value=$e})}if(c)for(const pe in c)id(c[pe],n,s,pe);if(f){const pe=St(f)?f.call(s):f;Reflect.ownKeys(pe).forEach(ze=>{pi(ze,pe[ze])})}h&&Jc(h,e,"c");function ae(pe,ze){xt(ze)?ze.forEach(Be=>pe(Be.bind(s))):ze&&pe(ze.bind(s))}if(ae(Kf,y),ae(cs,w),ae(Gf,O),ae(ia,M),ae(rc,G),ae(ic,fe),ae(Zf,x),ae(Yf,te),ae(Xf,Y),ae(Bi,U),ae(ji,A),ae(Jf,S),xt(L))if(L.length){const pe=e.exposed||(e.exposed={});L.forEach(ze=>{Object.defineProperty(pe,ze,{get:()=>s[ze],set:Be=>s[ze]=Be})})}else e.exposed||(e.exposed={});H&&e.render===ns&&(e.render=H),K!=null&&(e.inheritAttrs=K),N&&(e.components=N),re&&(e.directives=re)}function vm(e,t,s=ns){xt(e)&&(e=ul(e));for(const n in e){const r=e[n];let i;Zt(r)?"default"in r?i=gn(r.from||n,r.default,!0):i=gn(r.from||n):i=gn(r),Qt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Jc(e,t,s){In(xt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function id(e,t,s,n){const r=n.includes(".")?zf(s,n):()=>s[n];if(tn(e)){const i=t[e];St(i)&&Ut(r,i)}else if(St(e))Ut(r,e.bind(s));else if(Zt(e))if(xt(e))e.forEach(i=>id(i,t,s,n));else{const i=St(e.handler)?e.handler.bind(s):t[e.handler];St(i)&&Ut(r,i,e)}}function oc(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,c=i.get(t);let f;return c?f=c:!r.length&&!s&&!n?f=t:(f={},r.length&&r.forEach(_=>Po(f,_,o,!0)),Po(f,t,o)),Zt(t)&&i.set(t,f),f}function Po(e,t,s,n=!1){const{mixins:r,extends:i}=t;i&&Po(e,i,s,!0),r&&r.forEach(o=>Po(e,o,s,!0));for(const o in t)if(!(n&&o==="expose")){const c=bm[o]||s&&s[o];e[o]=c?c(e[o],t[o]):t[o]}return e}const bm={data:Xc,props:Yc,emits:Yc,methods:li,computed:li,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:li,directives:li,watch:Em,provide:Xc,inject:wm};function Xc(e,t){return t?e?function(){return on(St(e)?e.call(this,this):e,St(t)?t.call(this,this):t)}:t:e}function wm(e,t){return li(ul(e),ul(t))}function ul(e){if(xt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function pn(e,t){return e?[...new Set([].concat(e,t))]:t}function li(e,t){return e?on(Object.create(null),e,t):t}function Yc(e,t){return e?xt(e)&&xt(t)?[...new Set([...e,...t])]:on(Object.create(null),Ai(e),Ai(t??{})):t}function Em(e,t){if(!e)return t;if(!t)return e;const s=on(Object.create(null),e);for(const n in t)s[n]=pn(e[n],t[n]);return s}function od(){return{app:null,config:{isNativeTag:mh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qm=0;function Sm(e,t){return function(n,r=null){St(n)||(n=on({},n)),r!=null&&!Zt(r)&&(r=null);const i=od(),o=new WeakSet;let c=!1;const f=i.app={_uid:qm++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Id,get config(){return i.config},set config(_){},use(_,...h){return o.has(_)||(_&&St(_.install)?(o.add(_),_.install(f,...h)):St(_)&&(o.add(_),_(f,...h))),f},mixin(_){return i.mixins.includes(_)||i.mixins.push(_),f},component(_,h){return h?(i.components[_]=h,f):i.components[_]},directive(_,h){return h?(i.directives[_]=h,f):i.directives[_]},mount(_,h,y){if(!c){const w=Ze(n,r);return w.appContext=i,h&&t?t(w,_):e(w,_,y),c=!0,f._container=_,_.__vue_app__=f,aa(w.component)||w.component.proxy}},unmount(){c&&(e(null,f._container),delete f._container.__vue_app__)},provide(_,h){return i.provides[_]=h,f},runWithContext(_){Ci=f;try{return _()}finally{Ci=null}}};return f}}let Ci=null;function pi(e,t){if(Yt){let s=Yt.provides;const n=Yt.parent&&Yt.parent.provides;n===s&&(s=Yt.provides=Object.create(n)),s[e]=t}}function gn(e,t,s=!1){const n=Yt||rn;if(n||Ci){const r=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Ci._context.provides;if(r&&e in r)return r[e];if(arguments.length>1)return s&&St(t)?t.call(n&&n.proxy):t}}function ad(){return!!(Yt||rn||Ci)}function xm(e,t,s,n=!1){const r={},i={};rl(i,oa,1),e.propsDefaults=Object.create(null),ld(e,t,r,i);for(const o in e.propsOptions[0])o in r||(r[o]=void 0);s?e.props=n?r:Vl(r):e.type.props?e.props=r:e.props=i,e.attrs=i}function km(e,t,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=e,c=Tt(r),[f]=e.propsOptions;let _=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=e.vnode.dynamicProps;for(let y=0;y<h.length;y++){let w=h[y];if(ea(e.emitsOptions,w))continue;const O=t[w];if(f)if(Ft(i,w))O!==i[w]&&(i[w]=O,_=!0);else{const M=Wn(w);r[M]=fl(f,c,M,O,e,!1)}else O!==i[w]&&(i[w]=O,_=!0)}}}else{ld(e,t,r,i)&&(_=!0);let h;for(const y in c)(!t||!Ft(t,y)&&((h=Xo(y))===y||!Ft(t,h)))&&(f?s&&(s[y]!==void 0||s[h]!==void 0)&&(r[y]=fl(f,c,y,void 0,e,!0)):delete r[y]);if(i!==c)for(const y in i)(!t||!Ft(t,y))&&(delete i[y],_=!0)}_&&ys(e,"set","$attrs")}function ld(e,t,s,n){const[r,i]=e.propsOptions;let o=!1,c;if(t)for(let f in t){if(ci(f))continue;const _=t[f];let h;r&&Ft(r,h=Wn(f))?!i||!i.includes(h)?s[h]=_:(c||(c={}))[h]=_:ea(e.emitsOptions,f)||(!(f in n)||_!==n[f])&&(n[f]=_,o=!0)}if(i){const f=Tt(s),_=c||Nt;for(let h=0;h<i.length;h++){const y=i[h];s[y]=fl(r,f,y,_[y],e,!Ft(_,y))}}return o}function fl(e,t,s,n,r,i){const o=e[s];if(o!=null){const c=Ft(o,"default");if(c&&n===void 0){const f=o.default;if(o.type!==Function&&!o.skipFactory&&St(f)){const{propsDefaults:_}=r;s in _?n=_[s]:(Ws(r),n=_[s]=f.call(null,t),Us())}else n=f}o[0]&&(i&&!c?n=!1:o[1]&&(n===""||n===Xo(s))&&(n=!0))}return n}function cd(e,t,s=!1){const n=t.propsCache,r=n.get(e);if(r)return r;const i=e.props,o={},c=[];let f=!1;if(!St(e)){const h=y=>{f=!0;const[w,O]=cd(y,t,!0);on(o,w),O&&c.push(...O)};!s&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!i&&!f)return Zt(e)&&n.set(e,Or),Or;if(xt(i))for(let h=0;h<i.length;h++){const y=Wn(i[h]);Zc(y)&&(o[y]=Nt)}else if(i)for(const h in i){const y=Wn(h);if(Zc(y)){const w=i[h],O=o[y]=xt(w)||St(w)?{type:w}:on({},w);if(O){const M=nu(Boolean,O.type),G=nu(String,O.type);O[0]=M>-1,O[1]=G<0||M<G,(M>-1||Ft(O,"default"))&&c.push(y)}}}const _=[o,c];return Zt(e)&&n.set(e,_),_}function Zc(e){return e[0]!=="$"}function eu(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function tu(e,t){return eu(e)===eu(t)}function nu(e,t){return xt(t)?t.findIndex(s=>tu(s,e)):St(t)&&tu(t,e)?0:-1}const ud=e=>e[0]==="_"||e==="$stable",ac=e=>xt(e)?e.map(Cn):[Cn(e)],Am=(e,t,s)=>{if(t._n)return t;const n=Fn((...r)=>ac(t(...r)),s);return n._c=!1,n},fd=(e,t,s)=>{const n=e._ctx;for(const r in e){if(ud(r))continue;const i=e[r];if(St(i))t[r]=Am(r,i,n);else if(i!=null){const o=ac(i);t[r]=()=>o}}},dd=(e,t)=>{const s=ac(t);e.slots.default=()=>s},Cm=(e,t)=>{if(e.vnode.shapeFlag&32){const s=t._;s?(e.slots=Tt(t),rl(t,"_",s)):fd(t,e.slots={})}else e.slots={},t&&dd(e,t);rl(e.slots,oa,1)},Tm=(e,t,s)=>{const{vnode:n,slots:r}=e;let i=!0,o=Nt;if(n.shapeFlag&32){const c=t._;c?s&&c===1?i=!1:(on(r,t),!s&&c===1&&delete r._):(i=!t.$stable,fd(t,r)),o=t}else t&&(dd(e,t),o={default:1});if(i)for(const c in r)!ud(c)&&o[c]==null&&delete r[c]};function Ro(e,t,s,n,r=!1){if(xt(e)){e.forEach((w,O)=>Ro(w,t&&(xt(t)?t[O]:t),s,n,r));return}if(ar(n)&&!r)return;const i=n.shapeFlag&4?aa(n.component)||n.component.proxy:n.el,o=r?null:i,{i:c,r:f}=e,_=t&&t.r,h=c.refs===Nt?c.refs={}:c.refs,y=c.setupState;if(_!=null&&_!==f&&(tn(_)?(h[_]=null,Ft(y,_)&&(y[_]=null)):Qt(_)&&(_.value=null)),St(f))bs(f,c,12,[o,h]);else{const w=tn(f),O=Qt(f);if(w||O){const M=()=>{if(e.f){const G=w?Ft(y,f)?y[f]:h[f]:f.value;r?xt(G)&&Gl(G,i):xt(G)?G.includes(i)||G.push(i):w?(h[f]=[i],Ft(y,f)&&(y[f]=h[f])):(f.value=[i],e.k&&(h[e.k]=f.value))}else w?(h[f]=o,Ft(y,f)&&(y[f]=o)):O&&(f.value=o,e.k&&(h[e.k]=o))};o?(M.id=-1,ln(M,s)):M()}}}let Cs=!1;const po=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",_o=e=>e.nodeType===8;function Om(e){const{mt:t,p:s,o:{patchProp:n,createText:r,nextSibling:i,parentNode:o,remove:c,insert:f,createComment:_}}=e,h=(E,A)=>{if(!A.hasChildNodes()){s(null,E,A),Io(),A._vnode=E;return}Cs=!1,y(A.firstChild,E,null,null,null),Io(),A._vnode=E,Cs&&console.error("Hydration completed but contains mismatches.")},y=(E,A,H,te,Y,x=!1)=>{const S=_o(E)&&E.data==="[",L=()=>G(E,A,H,te,Y,S),{type:K,ref:N,shapeFlag:re,patchFlag:Ie}=A;let Xe=E.nodeType;A.el=E,Ie===-2&&(x=!1,A.dynamicChildren=null);let ae=null;switch(K){case pr:Xe!==3?A.children===""?(f(A.el=r(""),o(E),E),ae=E):ae=L():(E.data!==A.children&&(Cs=!0,E.data=A.children),ae=i(E));break;case fn:U(E)?(ae=i(E),Q(A.el=E.content.firstChild,E,H)):Xe!==8||S?ae=L():ae=i(E);break;case lr:if(S&&(E=i(E),Xe=E.nodeType),Xe===1||Xe===3){ae=E;const pe=!A.children.length;for(let ze=0;ze<A.staticCount;ze++)pe&&(A.children+=ae.nodeType===1?ae.outerHTML:ae.data),ze===A.staticCount-1&&(A.anchor=ae),ae=i(ae);return S?i(ae):ae}else L();break;case yt:S?ae=M(E,A,H,te,Y,x):ae=L();break;default:if(re&1)(Xe!==1||A.type.toLowerCase()!==E.tagName.toLowerCase())&&!U(E)?ae=L():ae=w(E,A,H,te,Y,x);else if(re&6){A.slotScopeIds=Y;const pe=o(E);if(S?ae=fe(E):_o(E)&&E.data==="teleport start"?ae=fe(E,E.data,"teleport end"):ae=i(E),t(A,pe,null,H,te,po(pe),x),ar(A)){let ze;S?(ze=Ze(yt),ze.anchor=ae?ae.previousSibling:pe.lastChild):ze=E.nodeType===3?us(""):Ze("div"),ze.el=E,A.component.subTree=ze}}else re&64?Xe!==8?ae=L():ae=A.type.hydrate(E,A,H,te,Y,x,e,O):re&128&&(ae=A.type.hydrate(E,A,H,te,po(o(E)),Y,x,e,y))}return N!=null&&Ro(N,null,te,A),ae},w=(E,A,H,te,Y,x)=>{x=x||!!A.dynamicChildren;const{type:S,props:L,patchFlag:K,shapeFlag:N,dirs:re,transition:Ie}=A,Xe=S==="input"&&re||S==="option";if(Xe||K!==-1){if(re&&es(A,null,H,"created"),L)if(Xe||!x||K&48)for(const ze in L)(Xe&&ze.endsWith("value")||Ko(ze)&&!ci(ze))&&n(E,ze,null,L[ze],!1,void 0,H);else L.onClick&&n(E,"onClick",null,L.onClick,!1,void 0,H);let ae;(ae=L&&L.onVnodeBeforeMount)&&En(ae,H,A);let pe=!1;if(U(E)){pe=md(te,Ie)&&H&&H.vnode.props&&H.vnode.props.appear;const ze=E.content.firstChild;pe&&Ie.beforeEnter(ze),Q(ze,E,H),A.el=E=ze}if(re&&es(A,null,H,"beforeMount"),((ae=L&&L.onVnodeMounted)||re||pe)&&Uf(()=>{ae&&En(ae,H,A),pe&&Ie.enter(E),re&&es(A,null,H,"mounted")},te),N&16&&!(L&&(L.innerHTML||L.textContent))){let ze=O(E.firstChild,A,E,H,te,Y,x);for(;ze;){Cs=!0;const Be=ze;ze=ze.nextSibling,c(Be)}}else N&8&&E.textContent!==A.children&&(Cs=!0,E.textContent=A.children)}return E.nextSibling},O=(E,A,H,te,Y,x,S)=>{S=S||!!A.dynamicChildren;const L=A.children,K=L.length;for(let N=0;N<K;N++){const re=S?L[N]:L[N]=Cn(L[N]);if(E)E=y(E,re,te,Y,x,S);else{if(re.type===pr&&!re.children)continue;Cs=!0,s(null,re,H,null,te,Y,po(H),x)}}return E},M=(E,A,H,te,Y,x)=>{const{slotScopeIds:S}=A;S&&(Y=Y?Y.concat(S):S);const L=o(E),K=O(i(E),A,L,H,te,Y,x);return K&&_o(K)&&K.data==="]"?i(A.anchor=K):(Cs=!0,f(A.anchor=_("]"),L,K),K)},G=(E,A,H,te,Y,x)=>{if(Cs=!0,A.el=null,x){const K=fe(E);for(;;){const N=i(E);if(N&&N!==K)c(N);else break}}const S=i(E),L=o(E);return c(E),s(null,A,L,S,H,te,po(L),Y),S},fe=(E,A="[",H="]")=>{let te=0;for(;E;)if(E=i(E),E&&_o(E)&&(E.data===A&&te++,E.data===H)){if(te===0)return i(E);te--}return E},Q=(E,A,H)=>{const te=A.parentNode;te&&te.replaceChild(E,A);let Y=H;for(;Y;)Y.vnode.el===A&&(Y.vnode.el=Y.subTree.el=E),Y=Y.parent},U=E=>E.nodeType===1&&E.tagName.toLowerCase()==="template";return[h,y]}const ln=Uf;function pd(e){return hd(e)}function _d(e){return hd(e,Om)}function hd(e,t){const s=il();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:c,createComment:f,setText:_,setElementText:h,parentNode:y,nextSibling:w,setScopeId:O=ns,insertStaticContent:M}=e,G=(P,R,Z,ue=null,ye=null,we=null,Me=!1,Ae=null,Fe=!!R.dynamicChildren)=>{if(P===R)return;P&&!Un(P,R)&&(ue=ne(P),$e(P,ye,we,!0),P=null),R.patchFlag===-2&&(Fe=!1,R.dynamicChildren=null);const{type:ce,ref:Le,shapeFlag:He}=R;switch(ce){case pr:fe(P,R,Z,ue);break;case fn:Q(P,R,Z,ue);break;case lr:P==null&&U(R,Z,ue,Me);break;case yt:N(P,R,Z,ue,ye,we,Me,Ae,Fe);break;default:He&1?H(P,R,Z,ue,ye,we,Me,Ae,Fe):He&6?re(P,R,Z,ue,ye,we,Me,Ae,Fe):(He&64||He&128)&&ce.process(P,R,Z,ue,ye,we,Me,Ae,Fe,_e)}Le!=null&&ye&&Ro(Le,P&&P.ref,we,R||P,!R)},fe=(P,R,Z,ue)=>{if(P==null)n(R.el=c(R.children),Z,ue);else{const ye=R.el=P.el;R.children!==P.children&&_(ye,R.children)}},Q=(P,R,Z,ue)=>{P==null?n(R.el=f(R.children||""),Z,ue):R.el=P.el},U=(P,R,Z,ue)=>{[P.el,P.anchor]=M(P.children,R,Z,ue,P.el,P.anchor)},E=({el:P,anchor:R},Z,ue)=>{let ye;for(;P&&P!==R;)ye=w(P),n(P,Z,ue),P=ye;n(R,Z,ue)},A=({el:P,anchor:R})=>{let Z;for(;P&&P!==R;)Z=w(P),r(P),P=Z;r(R)},H=(P,R,Z,ue,ye,we,Me,Ae,Fe)=>{Me=Me||R.type==="svg",P==null?te(R,Z,ue,ye,we,Me,Ae,Fe):S(P,R,ye,we,Me,Ae,Fe)},te=(P,R,Z,ue,ye,we,Me,Ae)=>{let Fe,ce;const{type:Le,props:He,shapeFlag:Oe,transition:et,dirs:lt}=P;if(Fe=P.el=o(P.type,we,He&&He.is,He),Oe&8?h(Fe,P.children):Oe&16&&x(P.children,Fe,null,ue,ye,we&&Le!=="foreignObject",Me,Ae),lt&&es(P,null,ue,"created"),Y(Fe,P,P.scopeId,Me,ue),He){for(const bt in He)bt!=="value"&&!ci(bt)&&i(Fe,bt,null,He[bt],we,P.children,ue,ye,qe);"value"in He&&i(Fe,"value",null,He.value),(ce=He.onVnodeBeforeMount)&&En(ce,ue,P)}lt&&es(P,null,ue,"beforeMount");const wt=md(ye,et);wt&&et.beforeEnter(Fe),n(Fe,R,Z),((ce=He&&He.onVnodeMounted)||wt||lt)&&ln(()=>{ce&&En(ce,ue,P),wt&&et.enter(Fe),lt&&es(P,null,ue,"mounted")},ye)},Y=(P,R,Z,ue,ye)=>{if(Z&&O(P,Z),ue)for(let we=0;we<ue.length;we++)O(P,ue[we]);if(ye){let we=ye.subTree;if(R===we){const Me=ye.vnode;Y(P,Me,Me.scopeId,Me.slotScopeIds,ye.parent)}}},x=(P,R,Z,ue,ye,we,Me,Ae,Fe=0)=>{for(let ce=Fe;ce<P.length;ce++){const Le=P[ce]=Ae?Ls(P[ce]):Cn(P[ce]);G(null,Le,R,Z,ue,ye,we,Me,Ae)}},S=(P,R,Z,ue,ye,we,Me)=>{const Ae=R.el=P.el;let{patchFlag:Fe,dynamicChildren:ce,dirs:Le}=R;Fe|=P.patchFlag&16;const He=P.props||Nt,Oe=R.props||Nt;let et;Z&&Ys(Z,!1),(et=Oe.onVnodeBeforeUpdate)&&En(et,Z,R,P),Le&&es(R,P,Z,"beforeUpdate"),Z&&Ys(Z,!0);const lt=ye&&R.type!=="foreignObject";if(ce?L(P.dynamicChildren,ce,Ae,Z,ue,lt,we):Me||ze(P,R,Ae,null,Z,ue,lt,we,!1),Fe>0){if(Fe&16)K(Ae,R,He,Oe,Z,ue,ye);else if(Fe&2&&He.class!==Oe.class&&i(Ae,"class",null,Oe.class,ye),Fe&4&&i(Ae,"style",He.style,Oe.style,ye),Fe&8){const wt=R.dynamicProps;for(let bt=0;bt<wt.length;bt++){const Ot=wt[bt],Dt=He[Ot],Jt=Oe[Ot];(Jt!==Dt||Ot==="value")&&i(Ae,Ot,Dt,Jt,ye,P.children,Z,ue,qe)}}Fe&1&&P.children!==R.children&&h(Ae,R.children)}else!Me&&ce==null&&K(Ae,R,He,Oe,Z,ue,ye);((et=Oe.onVnodeUpdated)||Le)&&ln(()=>{et&&En(et,Z,R,P),Le&&es(R,P,Z,"updated")},ue)},L=(P,R,Z,ue,ye,we,Me)=>{for(let Ae=0;Ae<R.length;Ae++){const Fe=P[Ae],ce=R[Ae],Le=Fe.el&&(Fe.type===yt||!Un(Fe,ce)||Fe.shapeFlag&70)?y(Fe.el):Z;G(Fe,ce,Le,null,ue,ye,we,Me,!0)}},K=(P,R,Z,ue,ye,we,Me)=>{if(Z!==ue){if(Z!==Nt)for(const Ae in Z)!ci(Ae)&&!(Ae in ue)&&i(P,Ae,Z[Ae],null,Me,R.children,ye,we,qe);for(const Ae in ue){if(ci(Ae))continue;const Fe=ue[Ae],ce=Z[Ae];Fe!==ce&&Ae!=="value"&&i(P,Ae,ce,Fe,Me,R.children,ye,we,qe)}"value"in ue&&i(P,"value",Z.value,ue.value)}},N=(P,R,Z,ue,ye,we,Me,Ae,Fe)=>{const ce=R.el=P?P.el:c(""),Le=R.anchor=P?P.anchor:c("");let{patchFlag:He,dynamicChildren:Oe,slotScopeIds:et}=R;et&&(Ae=Ae?Ae.concat(et):et),P==null?(n(ce,Z,ue),n(Le,Z,ue),x(R.children,Z,Le,ye,we,Me,Ae,Fe)):He>0&&He&64&&Oe&&P.dynamicChildren?(L(P.dynamicChildren,Oe,Z,ye,we,Me,Ae),(R.key!=null||ye&&R===ye.subTree)&&lc(P,R,!0)):ze(P,R,Z,Le,ye,we,Me,Ae,Fe)},re=(P,R,Z,ue,ye,we,Me,Ae,Fe)=>{R.slotScopeIds=Ae,P==null?R.shapeFlag&512?ye.ctx.activate(R,Z,ue,Me,Fe):Ie(R,Z,ue,ye,we,Me,Fe):Xe(P,R,Fe)},Ie=(P,R,Z,ue,ye,we,Me)=>{const Ae=P.component=qd(P,ue,ye);if($i(P)&&(Ae.ctx.renderer=_e),xd(Ae),Ae.asyncDep){if(ye&&ye.registerDep(Ae,ae),!P.el){const Fe=Ae.subTree=Ze(fn);Q(null,Fe,R,Z)}return}ae(Ae,P,R,Z,ye,we,Me)},Xe=(P,R,Z)=>{const ue=R.component=P.component;if(Uh(P,R,Z))if(ue.asyncDep&&!ue.asyncResolved){pe(ue,R,Z);return}else ue.next=R,Fh(ue.update),ue.update();else R.el=P.el,ue.vnode=R},ae=(P,R,Z,ue,ye,we,Me)=>{const Ae=()=>{if(P.isMounted){let{next:Le,bu:He,u:Oe,parent:et,vnode:lt}=P,wt=Le,bt;Ys(P,!1),Le?(Le.el=lt.el,pe(P,Le,Me)):Le=lt,He&&fi(He),(bt=Le.props&&Le.props.onVnodeBeforeUpdate)&&En(bt,et,Le,lt),Ys(P,!0);const Ot=Eo(P),Dt=P.subTree;P.subTree=Ot,G(Dt,Ot,y(Dt.el),ne(Dt),P,ye,we),Le.el=Ot.el,wt===null&&Yl(P,Ot.el),Oe&&ln(Oe,ye),(bt=Le.props&&Le.props.onVnodeUpdated)&&ln(()=>En(bt,et,Le,lt),ye)}else{let Le;const{el:He,props:Oe}=R,{bm:et,m:lt,parent:wt}=P,bt=ar(R);if(Ys(P,!1),et&&fi(et),!bt&&(Le=Oe&&Oe.onVnodeBeforeMount)&&En(Le,wt,R),Ys(P,!0),He&&ut){const Ot=()=>{P.subTree=Eo(P),ut(He,P.subTree,P,ye,null)};bt?R.type.__asyncLoader().then(()=>!P.isUnmounted&&Ot()):Ot()}else{const Ot=P.subTree=Eo(P);G(null,Ot,Z,ue,P,ye,we),R.el=Ot.el}if(lt&&ln(lt,ye),!bt&&(Le=Oe&&Oe.onVnodeMounted)){const Ot=R;ln(()=>En(Le,wt,Ot),ye)}(R.shapeFlag&256||wt&&ar(wt.vnode)&&wt.vnode.shapeFlag&256)&&P.a&&ln(P.a,ye),P.isMounted=!0,R=Z=ue=null}},Fe=P.effect=new Lr(Ae,()=>Zo(ce),P.scope),ce=P.update=()=>Fe.run();ce.id=P.uid,Ys(P,!0),ce()},pe=(P,R,Z)=>{R.component=P;const ue=P.vnode.props;P.vnode=R,P.next=null,km(P,R.props,ue,Z),Tm(P,R.children,Z),Wr(),Hc(),Qr()},ze=(P,R,Z,ue,ye,we,Me,Ae,Fe=!1)=>{const ce=P&&P.children,Le=P?P.shapeFlag:0,He=R.children,{patchFlag:Oe,shapeFlag:et}=R;if(Oe>0){if(Oe&128){Et(ce,He,Z,ue,ye,we,Me,Ae,Fe);return}else if(Oe&256){Be(ce,He,Z,ue,ye,we,Me,Ae,Fe);return}}et&8?(Le&16&&qe(ce,ye,we),He!==ce&&h(Z,He)):Le&16?et&16?Et(ce,He,Z,ue,ye,we,Me,Ae,Fe):qe(ce,ye,we,!0):(Le&8&&h(Z,""),et&16&&x(He,Z,ue,ye,we,Me,Ae,Fe))},Be=(P,R,Z,ue,ye,we,Me,Ae,Fe)=>{P=P||Or,R=R||Or;const ce=P.length,Le=R.length,He=Math.min(ce,Le);let Oe;for(Oe=0;Oe<He;Oe++){const et=R[Oe]=Fe?Ls(R[Oe]):Cn(R[Oe]);G(P[Oe],et,Z,null,ye,we,Me,Ae,Fe)}ce>Le?qe(P,ye,we,!0,!1,He):x(R,Z,ue,ye,we,Me,Ae,Fe,He)},Et=(P,R,Z,ue,ye,we,Me,Ae,Fe)=>{let ce=0;const Le=R.length;let He=P.length-1,Oe=Le-1;for(;ce<=He&&ce<=Oe;){const et=P[ce],lt=R[ce]=Fe?Ls(R[ce]):Cn(R[ce]);if(Un(et,lt))G(et,lt,Z,null,ye,we,Me,Ae,Fe);else break;ce++}for(;ce<=He&&ce<=Oe;){const et=P[He],lt=R[Oe]=Fe?Ls(R[Oe]):Cn(R[Oe]);if(Un(et,lt))G(et,lt,Z,null,ye,we,Me,Ae,Fe);else break;He--,Oe--}if(ce>He){if(ce<=Oe){const et=Oe+1,lt=et<Le?R[et].el:ue;for(;ce<=Oe;)G(null,R[ce]=Fe?Ls(R[ce]):Cn(R[ce]),Z,lt,ye,we,Me,Ae,Fe),ce++}}else if(ce>Oe)for(;ce<=He;)$e(P[ce],ye,we,!0),ce++;else{const et=ce,lt=ce,wt=new Map;for(ce=lt;ce<=Oe;ce++){const nt=R[ce]=Fe?Ls(R[ce]):Cn(R[ce]);nt.key!=null&&wt.set(nt.key,ce)}let bt,Ot=0;const Dt=Oe-lt+1;let Jt=!1,pt=0;const bn=new Array(Dt);for(ce=0;ce<Dt;ce++)bn[ce]=0;for(ce=et;ce<=He;ce++){const nt=P[ce];if(Ot>=Dt){$e(nt,ye,we,!0);continue}let nn;if(nt.key!=null)nn=wt.get(nt.key);else for(bt=lt;bt<=Oe;bt++)if(bn[bt-lt]===0&&Un(nt,R[bt])){nn=bt;break}nn===void 0?$e(nt,ye,we,!0):(bn[nn-lt]=ce+1,nn>=pt?pt=nn:Jt=!0,G(nt,R[nn],Z,null,ye,we,Me,Ae,Fe),Ot++)}const m=Jt?Im(bn):Or;for(bt=m.length-1,ce=Dt-1;ce>=0;ce--){const nt=lt+ce,nn=R[nt],yr=nt+1<Le?R[nt+1].el:ue;bn[ce]===0?G(null,nn,Z,yr,ye,we,Me,Ae,Fe):Jt&&(bt<0||ce!==m[bt]?dt(nn,Z,yr,2):bt--)}}},dt=(P,R,Z,ue,ye=null)=>{const{el:we,type:Me,transition:Ae,children:Fe,shapeFlag:ce}=P;if(ce&6){dt(P.component.subTree,R,Z,ue);return}if(ce&128){P.suspense.move(R,Z,ue);return}if(ce&64){Me.move(P,R,Z,_e);return}if(Me===yt){n(we,R,Z);for(let He=0;He<Fe.length;He++)dt(Fe[He],R,Z,ue);n(P.anchor,R,Z);return}if(Me===lr){E(P,R,Z);return}if(ue!==2&&ce&1&&Ae)if(ue===0)Ae.beforeEnter(we),n(we,R,Z),ln(()=>Ae.enter(we),ye);else{const{leave:He,delayLeave:Oe,afterLeave:et}=Ae,lt=()=>n(we,R,Z),wt=()=>{He(we,()=>{lt(),et&&et()})};Oe?Oe(we,lt,wt):wt()}else n(we,R,Z)},$e=(P,R,Z,ue=!1,ye=!1)=>{const{type:we,props:Me,ref:Ae,children:Fe,dynamicChildren:ce,shapeFlag:Le,patchFlag:He,dirs:Oe}=P;if(Ae!=null&&Ro(Ae,null,Z,P,!0),Le&256){R.ctx.deactivate(P);return}const et=Le&1&&Oe,lt=!ar(P);let wt;if(lt&&(wt=Me&&Me.onVnodeBeforeUnmount)&&En(wt,R,P),Le&6)rt(P.component,Z,ue);else{if(Le&128){P.suspense.unmount(Z,ue);return}et&&es(P,null,R,"beforeUnmount"),Le&64?P.type.remove(P,R,Z,ye,_e,ue):ce&&(we!==yt||He>0&&He&64)?qe(ce,R,Z,!1,!0):(we===yt&&He&384||!ye&&Le&16)&&qe(Fe,R,Z),ue&&qt(P)}(lt&&(wt=Me&&Me.onVnodeUnmounted)||et)&&ln(()=>{wt&&En(wt,R,P),et&&es(P,null,R,"unmounted")},Z)},qt=P=>{const{type:R,el:Z,anchor:ue,transition:ye}=P;if(R===yt){vt(Z,ue);return}if(R===lr){A(P);return}const we=()=>{r(Z),ye&&!ye.persisted&&ye.afterLeave&&ye.afterLeave()};if(P.shapeFlag&1&&ye&&!ye.persisted){const{leave:Me,delayLeave:Ae}=ye,Fe=()=>Me(Z,we);Ae?Ae(P.el,we,Fe):Fe()}else we()},vt=(P,R)=>{let Z;for(;P!==R;)Z=w(P),r(P),P=Z;r(R)},rt=(P,R,Z)=>{const{bum:ue,scope:ye,update:we,subTree:Me,um:Ae}=P;ue&&fi(ue),ye.stop(),we&&(we.active=!1,$e(Me,P,R,Z)),Ae&&ln(Ae,R),ln(()=>{P.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},qe=(P,R,Z,ue=!1,ye=!1,we=0)=>{for(let Me=we;Me<P.length;Me++)$e(P[Me],R,Z,ue,ye)},ne=P=>P.shapeFlag&6?ne(P.component.subTree):P.shapeFlag&128?P.suspense.next():w(P.anchor||P.el),Te=(P,R,Z)=>{P==null?R._vnode&&$e(R._vnode,null,null,!0):G(R._vnode||null,P,R,null,null,null,Z),Hc(),Io(),R._vnode=P},_e={p:G,um:$e,m:dt,r:qt,mt:Ie,mc:x,pc:ze,pbc:L,n:ne,o:e};let De,ut;return t&&([De,ut]=t(_e)),{render:Te,hydrate:De,createApp:Sm(Te,De)}}function Ys({effect:e,update:t},s){e.allowRecurse=t.allowRecurse=s}function md(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function lc(e,t,s=!1){const n=e.children,r=t.children;if(xt(n)&&xt(r))for(let i=0;i<n.length;i++){const o=n[i];let c=r[i];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=r[i]=Ls(r[i]),c.el=o.el),s||lc(o,c)),c.type===pr&&(c.el=o.el)}}function Im(e){const t=e.slice(),s=[0];let n,r,i,o,c;const f=e.length;for(n=0;n<f;n++){const _=e[n];if(_!==0){if(r=s[s.length-1],e[r]<_){t[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)c=i+o>>1,e[s[c]]<_?i=c+1:o=c;_<e[s[i]]&&(i>0&&(t[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}const Pm=e=>e.__isTeleport,_i=e=>e&&(e.disabled||e.disabled===""),su=e=>typeof SVGElement<"u"&&e instanceof SVGElement,dl=(e,t)=>{const s=e&&e.to;return tn(s)?t?t(s):null:s},Rm={__isTeleport:!0,process(e,t,s,n,r,i,o,c,f,_){const{mc:h,pc:y,pbc:w,o:{insert:O,querySelector:M,createText:G,createComment:fe}}=_,Q=_i(t.props);let{shapeFlag:U,children:E,dynamicChildren:A}=t;if(e==null){const H=t.el=G(""),te=t.anchor=G("");O(H,s,n),O(te,s,n);const Y=t.target=dl(t.props,M),x=t.targetAnchor=G("");Y&&(O(x,Y),o=o||su(Y));const S=(L,K)=>{U&16&&h(E,L,K,r,i,o,c,f)};Q?S(s,te):Y&&S(Y,x)}else{t.el=e.el;const H=t.anchor=e.anchor,te=t.target=e.target,Y=t.targetAnchor=e.targetAnchor,x=_i(e.props),S=x?s:te,L=x?H:Y;if(o=o||su(te),A?(w(e.dynamicChildren,A,S,r,i,o,c),lc(e,t,!0)):f||y(e,t,S,L,r,i,o,c,!1),Q)x?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ho(t,s,H,_,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=dl(t.props,M);K&&ho(t,K,null,_,0)}else x&&ho(t,te,Y,_,1)}yd(t)},remove(e,t,s,n,{um:r,o:{remove:i}},o){const{shapeFlag:c,children:f,anchor:_,targetAnchor:h,target:y,props:w}=e;if(y&&i(h),o&&i(_),c&16){const O=o||!_i(w);for(let M=0;M<f.length;M++){const G=f[M];r(G,t,s,O,!!G.dynamicChildren)}}},move:ho,hydrate:Lm};function ho(e,t,s,{o:{insert:n},m:r},i=2){i===0&&n(e.targetAnchor,t,s);const{el:o,anchor:c,shapeFlag:f,children:_,props:h}=e,y=i===2;if(y&&n(o,t,s),(!y||_i(h))&&f&16)for(let w=0;w<_.length;w++)r(_[w],t,s,2);y&&n(c,t,s)}function Lm(e,t,s,n,r,i,{o:{nextSibling:o,parentNode:c,querySelector:f}},_){const h=t.target=dl(t.props,f);if(h){const y=h._lpa||h.firstChild;if(t.shapeFlag&16)if(_i(t.props))t.anchor=_(o(e),t,c(e),s,n,r,i),t.targetAnchor=y;else{t.anchor=o(e);let w=y;for(;w;)if(w=o(w),w&&w.nodeType===8&&w.data==="teleport anchor"){t.targetAnchor=w,h._lpa=t.targetAnchor&&o(t.targetAnchor);break}_(y,t,h,s,n,r,i)}yd(t)}return t.anchor&&o(t.anchor)}const gd=Rm;function yd(e){const t=e.ctx;if(t&&t.ut){let s=e.children[0].el;for(;s&&s!==e.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",t.uid),s=s.nextSibling;t.ut()}}const yt=Symbol.for("v-fgt"),pr=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),lr=Symbol.for("v-stc"),hi=[];let qn=null;function de(e=!1){hi.push(qn=e?null:[])}function vd(){hi.pop(),qn=hi[hi.length-1]||null}let _r=1;function pl(e){_r+=e}function bd(e){return e.dynamicChildren=_r>0?qn||Or:null,vd(),_r>0&&qn&&qn.push(e),e}function be(e,t,s,n,r,i){return bd(W(e,t,s,n,r,i,!0))}function en(e,t,s,n,r){return bd(Ze(e,t,s,n,r,!0))}function Hs(e){return e?e.__v_isVNode===!0:!1}function Un(e,t){return e.type===t.type&&e.key===t.key}function Fm(e){}const oa="__vInternal",wd=({key:e})=>e??null,qo=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?tn(e)||Qt(e)||St(e)?{i:rn,r:e,k:t,f:!!s}:e:null);function W(e,t=null,s=null,n=0,r=null,i=e===yt?0:1,o=!1,c=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wd(t),ref:t&&qo(t),scopeId:ta,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:rn};return c?(cc(f,s),i&128&&e.normalize(f)):s&&(f.shapeFlag|=tn(s)?8:16),_r>0&&!o&&qn&&(f.patchFlag>0||i&6)&&f.patchFlag!==32&&qn.push(f),f}const Ze=Dm;function Dm(e,t=null,s=null,n=0,r=null,i=!1){if((!e||e===$f)&&(e=fn),Hs(e)){const c=rs(e,t,!0);return s&&cc(c,s),_r>0&&!i&&qn&&(c.shapeFlag&6?qn[qn.indexOf(e)]=c:qn.push(c)),c.patchFlag|=-2,c}if(zm(e)&&(e=e.__vccOpts),t){t=Ed(t);let{class:c,style:f}=t;c&&!tn(c)&&(t.class=ot(c)),Zt(f)&&(Hl(f)&&!xt(f)&&(f=on({},f)),t.style=Gn(f))}const o=tn(e)?1:Bf(e)?128:Pm(e)?64:Zt(e)?4:St(e)?2:0;return W(e,t,s,n,r,o,i,!0)}function Ed(e){return e?Hl(e)||oa in e?on({},e):e:null}function rs(e,t,s=!1){const{props:n,ref:r,patchFlag:i,children:o}=e,c=t?js(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&wd(c),ref:t&&t.ref?s&&r?xt(r)?r.concat(qo(t)):[r,qo(t)]:qo(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==yt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function us(e=" ",t=0){return Ze(pr,null,e,t)}function Mm(e,t){const s=Ze(lr,null,e);return s.staticCount=t,s}function Je(e="",t=!1){return t?(de(),en(fn,null,e)):Ze(fn,null,e)}function Cn(e){return e==null||typeof e=="boolean"?Ze(fn):xt(e)?Ze(yt,null,e.slice()):typeof e=="object"?Ls(e):Ze(pr,null,String(e))}function Ls(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:rs(e)}function cc(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(xt(t))s=16;else if(typeof t=="object")if(n&65){const r=t.default;r&&(r._c&&(r._d=!1),cc(e,r()),r._c&&(r._d=!0));return}else{s=32;const r=t._;!r&&!(oa in t)?t._ctx=rn:r===3&&rn&&(rn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else St(t)?(t={default:t,_ctx:rn},s=32):(t=String(t),n&64?(s=16,t=[us(t)]):s=8);e.children=t,e.shapeFlag|=s}function js(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const r in n)if(r==="class")t.class!==n.class&&(t.class=ot([t.class,n.class]));else if(r==="style")t.style=Gn([t.style,n.style]);else if(Ko(r)){const i=t[r],o=n[r];o&&i!==o&&!(xt(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=n[r])}return t}function En(e,t,s,n=null){In(e,t,7,[s,n])}const Nm=od();let $m=0;function qd(e,t,s){const n=e.type,r=(t?t.appContext:e.appContext)||Nm,i={uid:$m++,vnode:e,type:n,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Nl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:cd(n,r),emitsOptions:Nf(n,r),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:n.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Mh.bind(null,i),e.ce&&e.ce(i),i}let Yt=null;const vn=()=>Yt||rn;let uc,xr,ru="__VUE_INSTANCE_SETTERS__";(xr=il()[ru])||(xr=il()[ru]=[]),xr.push(e=>Yt=e),uc=e=>{xr.length>1?xr.forEach(t=>t(e)):xr[0](e)};const Ws=e=>{uc(e),e.scope.on()},Us=()=>{Yt&&Yt.scope.off(),uc(null)};function Sd(e){return e.vnode.shapeFlag&4}let Dr=!1;function xd(e,t=!1){Dr=t;const{props:s,children:n}=e.vnode,r=Sd(e);xm(e,s,r,t),Cm(e,n);const i=r?Bm(e,t):void 0;return Dr=!1,i}function Bm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=Mi(new Proxy(e.ctx,ll));const{setup:n}=s;if(n){const r=e.setupContext=n.length>1?Ad(e):null;Ws(e),Wr();const i=bs(n,e,0,[e.props,r]);if(Qr(),Us(),Jl(i)){if(i.then(Us,Us),t)return i.then(o=>{_l(e,o,t)}).catch(o=>{mr(o,e,0)});e.asyncDep=i}else _l(e,i,t)}else kd(e,t)}function _l(e,t,s){St(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Zt(t)&&(e.setupState=Kl(t)),kd(e,s)}let Lo,hl;function jm(e){Lo=e,hl=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,im))}}const Um=()=>!Lo;function kd(e,t,s){const n=e.type;if(!e.render){if(!t&&Lo&&!n.render){const r=n.template||oc(e).template;if(r){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:c,compilerOptions:f}=n,_=on(on({isCustomElement:i,delimiters:c},o),f);n.render=Lo(r,_)}}e.render=n.render||ns,hl&&hl(e)}{Ws(e),Wr();try{ym(e)}finally{Qr(),Us()}}}function Vm(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,s){return Sn(e,"get","$attrs"),t[s]}}))}function Ad(e){const t=s=>{e.exposed=s||{}};return{get attrs(){return Vm(e)},slots:e.slots,emit:e.emit,expose:t}}function aa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Kl(Mi(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in di)return di[s](e)},has(t,s){return s in t||s in di}}))}function ml(e,t=!0){return St(e)?e.displayName||e.name:e.name||t&&e.__name}function zm(e){return St(e)&&"__vccOpts"in e}const ft=(e,t)=>hh(e,t,Dr);function la(e,t,s){const n=arguments.length;return n===2?Zt(t)&&!xt(t)?Hs(t)?Ze(e,null,[t]):Ze(e,t):Ze(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Hs(s)&&(s=[s]),Ze(e,t,s))}const Cd=Symbol.for("v-scx"),Td=()=>gn(Cd);function Hm(){}function Wm(e,t,s,n){const r=s[n];if(r&&Od(r,e))return r;const i=t();return i.memo=e.slice(),s[n]=i}function Od(e,t){const s=e.memo;if(s.length!=t.length)return!1;for(let n=0;n<s.length;n++)if(sl(s[n],t[n]))return!1;return _r>0&&qn&&qn.push(e),!0}const Id="3.3.8",Qm={createComponentInstance:qd,setupComponent:xd,renderComponentRoot:Eo,setCurrentRenderingInstance:xi,isVNode:Hs,normalizeVNode:Cn},Km=Qm,Gm=null,Jm=null;function Xm(e,t){const s=Object.create(null),n=e.split(",");for(let r=0;r<n.length;r++)s[n[r]]=!0;return t?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const Ba={},Ym=/^on[^a-z]/,Zm=e=>Ym.test(e),eg=e=>e.startsWith("onUpdate:"),Ui=Object.assign,xn=Array.isArray,Vi=e=>Rd(e)==="[object Set]",iu=e=>Rd(e)==="[object Date]",Pd=e=>typeof e=="function",Ti=e=>typeof e=="string",ou=e=>typeof e=="symbol",gl=e=>e!==null&&typeof e=="object",tg=Object.prototype.toString,Rd=e=>tg.call(e),fc=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},ng=/-(\w)/g,ja=fc(e=>e.replace(ng,(t,s)=>s?s.toUpperCase():"")),sg=/\B([A-Z])/g,Ds=fc(e=>e.replace(sg,"-$1").toLowerCase()),rg=fc(e=>e.charAt(0).toUpperCase()+e.slice(1)),ig=(e,t)=>{for(let s=0;s<e.length;s++)e[s](t)},yl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},vl=e=>{const t=Ti(e)?Number(e):NaN;return isNaN(t)?e:t},og="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ag=Xm(og);function Ld(e){return!!e||e===""}function lg(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Qs(e[n],t[n]);return s}function Qs(e,t){if(e===t)return!0;let s=iu(e),n=iu(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=ou(e),n=ou(t),s||n)return e===t;if(s=xn(e),n=xn(t),s||n)return s&&n?lg(e,t):!1;if(s=gl(e),n=gl(t),s||n){if(!s||!n)return!1;const r=Object.keys(e).length,i=Object.keys(t).length;if(r!==i)return!1;for(const o in e){const c=e.hasOwnProperty(o),f=t.hasOwnProperty(o);if(c&&!f||!c&&f||!Qs(e[o],t[o]))return!1}}return String(e)===String(t)}function ca(e,t){return e.findIndex(s=>Qs(s,t))}const cg="http://www.w3.org/2000/svg",tr=typeof document<"u"?document:null,au=tr&&tr.createElement("template"),ug={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const r=t?tr.createElementNS(cg,e):tr.createElement(e,s?{is:s}:void 0);return e==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:e=>tr.createTextNode(e),createComment:e=>tr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>tr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,r,i){const o=s?s.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{au.innerHTML=n?`<svg>${e}</svg>`:e;const c=au.content;if(n){const f=c.firstChild;for(;f.firstChild;)c.appendChild(f.firstChild);c.removeChild(f)}t.insertBefore(c,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Ts="transition",ni="animation",Mr=Symbol("_vtc"),dc=(e,{slots:t})=>la(Hf,Dd(e),t);dc.displayName="Transition";const Fd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fg=dc.props=Ui({},sc,Fd),Zs=(e,t=[])=>{xn(e)?e.forEach(s=>s(...t)):e&&e(...t)},lu=e=>e?xn(e)?e.some(t=>t.length>1):e.length>1:!1;function Dd(e){const t={};for(const N in e)N in Fd||(t[N]=e[N]);if(e.css===!1)return t;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:c=`${s}-enter-to`,appearFromClass:f=i,appearActiveClass:_=o,appearToClass:h=c,leaveFromClass:y=`${s}-leave-from`,leaveActiveClass:w=`${s}-leave-active`,leaveToClass:O=`${s}-leave-to`}=e,M=dg(r),G=M&&M[0],fe=M&&M[1],{onBeforeEnter:Q,onEnter:U,onEnterCancelled:E,onLeave:A,onLeaveCancelled:H,onBeforeAppear:te=Q,onAppear:Y=U,onAppearCancelled:x=E}=t,S=(N,re,Ie)=>{Is(N,re?h:c),Is(N,re?_:o),Ie&&Ie()},L=(N,re)=>{N._isLeaving=!1,Is(N,y),Is(N,O),Is(N,w),re&&re()},K=N=>(re,Ie)=>{const Xe=N?Y:U,ae=()=>S(re,N,Ie);Zs(Xe,[re,ae]),cu(()=>{Is(re,N?f:i),ps(re,N?h:c),lu(Xe)||uu(re,n,G,ae)})};return Ui(t,{onBeforeEnter(N){Zs(Q,[N]),ps(N,i),ps(N,o)},onBeforeAppear(N){Zs(te,[N]),ps(N,f),ps(N,_)},onEnter:K(!1),onAppear:K(!0),onLeave(N,re){N._isLeaving=!0;const Ie=()=>L(N,re);ps(N,y),Nd(),ps(N,w),cu(()=>{N._isLeaving&&(Is(N,y),ps(N,O),lu(A)||uu(N,n,fe,Ie))}),Zs(A,[N,Ie])},onEnterCancelled(N){S(N,!1),Zs(E,[N])},onAppearCancelled(N){S(N,!0),Zs(x,[N])},onLeaveCancelled(N){L(N),Zs(H,[N])}})}function dg(e){if(e==null)return null;if(gl(e))return[Ua(e.enter),Ua(e.leave)];{const t=Ua(e);return[t,t]}}function Ua(e){return vl(e)}function ps(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.add(s)),(e[Mr]||(e[Mr]=new Set)).add(t)}function Is(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const s=e[Mr];s&&(s.delete(t),s.size||(e[Mr]=void 0))}function cu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let pg=0;function uu(e,t,s,n){const r=e._endId=++pg,i=()=>{r===e._endId&&n()};if(s)return setTimeout(i,s);const{type:o,timeout:c,propCount:f}=Md(e,t);if(!o)return n();const _=o+"end";let h=0;const y=()=>{e.removeEventListener(_,w),i()},w=O=>{O.target===e&&++h>=f&&y()};setTimeout(()=>{h<f&&y()},c+1),e.addEventListener(_,w)}function Md(e,t){const s=window.getComputedStyle(e),n=M=>(s[M]||"").split(", "),r=n(`${Ts}Delay`),i=n(`${Ts}Duration`),o=fu(r,i),c=n(`${ni}Delay`),f=n(`${ni}Duration`),_=fu(c,f);let h=null,y=0,w=0;t===Ts?o>0&&(h=Ts,y=o,w=i.length):t===ni?_>0&&(h=ni,y=_,w=f.length):(y=Math.max(o,_),h=y>0?o>_?Ts:ni:null,w=h?h===Ts?i.length:f.length:0);const O=h===Ts&&/\b(transform|all)(,|$)/.test(n(`${Ts}Property`).toString());return{type:h,timeout:y,propCount:w,hasTransform:O}}function fu(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((s,n)=>du(s)+du(e[n])))}function du(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Nd(){return document.body.offsetHeight}function _g(e,t,s){const n=e[Mr];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const pc=Symbol("_vod"),_n={beforeMount(e,{value:t},{transition:s}){e[pc]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):si(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),si(e,!0),n.enter(e)):n.leave(e,()=>{si(e,!1)}):si(e,t))},beforeUnmount(e,{value:t}){si(e,t)}};function si(e,t){e.style.display=t?e[pc]:"none"}function hg(){_n.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}function mg(e,t,s){const n=e.style,r=Ti(s);if(s&&!r){if(t&&!Ti(t))for(const i in t)s[i]==null&&bl(n,i,"");for(const i in s)bl(n,i,s[i])}else{const i=n.display;r?t!==s&&(n.cssText=s):t&&e.removeAttribute("style"),pc in e&&(n.display=i)}}const pu=/\s*!important$/;function bl(e,t,s){if(xn(s))s.forEach(n=>bl(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=gg(e,t);pu.test(s)?e.setProperty(Ds(n),s.replace(pu,""),"important"):e[n]=s}}const _u=["Webkit","Moz","ms"],Va={};function gg(e,t){const s=Va[t];if(s)return s;let n=Wn(t);if(n!=="filter"&&n in e)return Va[t]=n;n=rg(n);for(let r=0;r<_u.length;r++){const i=_u[r]+n;if(i in e)return Va[t]=i}return t}const hu="http://www.w3.org/1999/xlink";function yg(e,t,s,n,r){if(n&&t.startsWith("xlink:"))s==null?e.removeAttributeNS(hu,t.slice(6,t.length)):e.setAttributeNS(hu,t,s);else{const i=ag(t);s==null||i&&!Ld(s)?e.removeAttribute(t):e.setAttribute(t,i?"":s)}}function vg(e,t,s,n,r,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,r,i),e[t]=s??"";return}const c=e.tagName;if(t==="value"&&c!=="PROGRESS"&&!c.includes("-")){e._value=s;const _=c==="OPTION"?e.getAttribute("value"):e.value,h=s??"";_!==h&&(e.value=h),s==null&&e.removeAttribute(t);return}let f=!1;if(s===""||s==null){const _=typeof e[t];_==="boolean"?s=Ld(s):s==null&&_==="string"?(s="",f=!0):_==="number"&&(s=0,f=!0)}try{e[t]=s}catch{}f&&e.removeAttribute(t)}function ms(e,t,s,n){e.addEventListener(t,s,n)}function bg(e,t,s,n){e.removeEventListener(t,s,n)}const mu=Symbol("_vei");function wg(e,t,s,n,r=null){const i=e[mu]||(e[mu]={}),o=i[t];if(n&&o)o.value=n;else{const[c,f]=Eg(t);if(n){const _=i[t]=xg(n,r);ms(e,c,_,f)}else o&&(bg(e,c,o,f),i[t]=void 0)}}const gu=/(?:Once|Passive|Capture)$/;function Eg(e){let t;if(gu.test(e)){t={};let n;for(;n=e.match(gu);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ds(e.slice(2)),t]}let za=0;const qg=Promise.resolve(),Sg=()=>za||(qg.then(()=>za=0),za=Date.now());function xg(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;In(kg(n,s.value),t,5,[n])};return s.value=e,s.attached=Sg(),s}function kg(e,t){if(xn(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>r=>!r._stopped&&n&&n(r))}else return t}const yu=/^on[a-z]/,Ag=(e,t,s,n,r=!1,i,o,c,f)=>{t==="class"?_g(e,n,r):t==="style"?mg(e,s,n):Zm(t)?eg(t)||wg(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Cg(e,t,n,r))?vg(e,t,n,i,o,c,f):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),yg(e,t,n,r))};function Cg(e,t,s,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&yu.test(t)&&Pd(s)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||yu.test(t)&&Ti(s)?!1:t in e}/*! #__NO_SIDE_EFFECTS__ */function $d(e,t){const s=Rn(e);class n extends ua{constructor(i){super(s,i,t)}}return n.def=s,n}/*! #__NO_SIDE_EFFECTS__ */const Tg=e=>$d(e,Xd),Og=typeof HTMLElement<"u"?HTMLElement:class{};class ua extends Og{constructor(t,s={},n){super(),this._def=t,this._props=s,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&n?n(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),zn(()=>{this._connected||(ql(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const r of n)this._setAttr(r.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(n,r=!1)=>{const{props:i,styles:o}=n;let c;if(i&&!xn(i))for(const f in i){const _=i[f];(_===Number||_&&_.type===Number)&&(f in this._props&&(this._props[f]=vl(this._props[f])),(c||(c=Object.create(null)))[ja(f)]=!0)}this._numberProps=c,r&&this._resolveProps(n),this._applyStyles(o),this._update()},s=this._def.__asyncLoader;s?s().then(n=>t(n,!0)):t(this._def)}_resolveProps(t){const{props:s}=t,n=xn(s)?s:Object.keys(s||{});for(const r of Object.keys(this))r[0]!=="_"&&n.includes(r)&&this._setProp(r,this[r],!0,!1);for(const r of n.map(ja))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(i){this._setProp(r,i)}})}_setAttr(t){let s=this.getAttribute(t);const n=ja(t);this._numberProps&&this._numberProps[n]&&(s=vl(s)),this._setProp(n,s,!1)}_getProp(t){return this._props[t]}_setProp(t,s,n=!0,r=!0){s!==this._props[t]&&(this._props[t]=s,r&&this._instance&&this._update(),n&&(s===!0?this.setAttribute(Ds(t),""):typeof s=="string"||typeof s=="number"?this.setAttribute(Ds(t),s+""):s||this.removeAttribute(Ds(t))))}_update(){ql(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Ze(this._def,Ui({},this._props));return this._instance||(t.ce=s=>{this._instance=s,s.isCE=!0;const n=(i,o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};s.emit=(i,...o)=>{n(i,o),Ds(i)!==i&&n(Ds(i),o)};let r=this;for(;r=r&&(r.parentNode||r.host);)if(r instanceof ua){s.parent=r._instance,s.provides=r._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(s=>{const n=document.createElement("style");n.textContent=s,this.shadowRoot.appendChild(n)})}}function Ig(e="$style"){{const t=vn();if(!t)return Ba;const s=t.type.__cssModules;if(!s)return Ba;const n=s[e];return n||Ba}}function Pg(e){const t=vn();if(!t)return;const s=t.ut=(r=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>El(i,r))},n=()=>{const r=e(t.proxy);wl(t.subTree,r),s(r)};Vf(n),cs(()=>{const r=new MutationObserver(n);r.observe(t.subTree.el.parentNode,{childList:!0}),ji(()=>r.disconnect())})}function wl(e,t){if(e.shapeFlag&128){const s=e.suspense;e=s.activeBranch,s.pendingBranch&&!s.isHydrating&&s.effects.push(()=>{wl(s.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)El(e.el,t);else if(e.type===yt)e.children.forEach(s=>wl(s,t));else if(e.type===lr){let{el:s,anchor:n}=e;for(;s&&(El(s,t),s!==n);)s=s.nextSibling}}function El(e,t){if(e.nodeType===1){const s=e.style;for(const n in t)s.setProperty(`--${n}`,t[n])}}const Bd=new WeakMap,jd=new WeakMap,Fo=Symbol("_moveCb"),vu=Symbol("_enterCb"),Ud={name:"TransitionGroup",props:Ui({},fg,{tag:String,moveClass:String}),setup(e,{slots:t}){const s=vn(),n=nc();let r,i;return ia(()=>{if(!r.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!Mg(r[0].el,s.vnode.el,o))return;r.forEach(Lg),r.forEach(Fg);const c=r.filter(Dg);Nd(),c.forEach(f=>{const _=f.el,h=_.style;ps(_,o),h.transform=h.webkitTransform=h.transitionDuration="";const y=_[Fo]=w=>{w&&w.target!==_||(!w||/transform$/.test(w.propertyName))&&(_.removeEventListener("transitionend",y),_[Fo]=null,Is(_,o))};_.addEventListener("transitionend",y)})}),()=>{const o=Tt(e),c=Dd(o);let f=o.tag||yt;r=i,i=t.default?sa(t.default()):[];for(let _=0;_<i.length;_++){const h=i[_];h.key!=null&&dr(h,Fr(h,c,n,s))}if(r)for(let _=0;_<r.length;_++){const h=r[_];dr(h,Fr(h,c,n,s)),Bd.set(h,h.el.getBoundingClientRect())}return Ze(f,null,i)}}},Rg=e=>delete e.mode;Ud.props;const Vd=Ud;function Lg(e){const t=e.el;t[Fo]&&t[Fo](),t[vu]&&t[vu]()}function Fg(e){jd.set(e,e.el.getBoundingClientRect())}function Dg(e){const t=Bd.get(e),s=jd.get(e),n=t.left-s.left,r=t.top-s.top;if(n||r){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${r}px)`,i.transitionDuration="0s",e}}function Mg(e,t,s){const n=e.cloneNode(),r=e[Mr];r&&r.forEach(c=>{c.split(/\s+/).forEach(f=>f&&n.classList.remove(f))}),s.split(/\s+/).forEach(c=>c&&n.classList.add(c)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=Md(n);return i.removeChild(n),o}const Ks=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xn(t)?s=>ig(t,s):t};function Ng(e){e.target.composing=!0}function bu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Dn=Symbol("_assign"),jt={created(e,{modifiers:{lazy:t,trim:s,number:n}},r){e[Dn]=Ks(r);const i=n||r.props&&r.props.type==="number";ms(e,t?"change":"input",o=>{if(o.target.composing)return;let c=e.value;s&&(c=c.trim()),i&&(c=yl(c)),e[Dn](c)}),s&&ms(e,"change",()=>{e.value=e.value.trim()}),t||(ms(e,"compositionstart",Ng),ms(e,"compositionend",bu),ms(e,"change",bu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:s,trim:n,number:r}},i){if(e[Dn]=Ks(i),e.composing||document.activeElement===e&&e.type!=="range"&&(s||n&&e.value.trim()===t||(r||e.type==="number")&&yl(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Ms={deep:!0,created(e,t,s){e[Dn]=Ks(s),ms(e,"change",()=>{const n=e._modelValue,r=Nr(e),i=e.checked,o=e[Dn];if(xn(n)){const c=ca(n,r),f=c!==-1;if(i&&!f)o(n.concat(r));else if(!i&&f){const _=[...n];_.splice(c,1),o(_)}}else if(Vi(n)){const c=new Set(n);i?c.add(r):c.delete(r),o(c)}else o(Hd(e,i))})},mounted:wu,beforeUpdate(e,t,s){e[Dn]=Ks(s),wu(e,t,s)}};function wu(e,{value:t,oldValue:s},n){e._modelValue=t,xn(t)?e.checked=ca(t,n.props.value)>-1:Vi(t)?e.checked=t.has(n.props.value):t!==s&&(e.checked=Qs(t,Hd(e,!0)))}const _c={created(e,{value:t},s){e.checked=Qs(t,s.props.value),e[Dn]=Ks(s),ms(e,"change",()=>{e[Dn](Nr(e))})},beforeUpdate(e,{value:t,oldValue:s},n){e[Dn]=Ks(n),t!==s&&(e.checked=Qs(t,n.props.value))}},zd={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const r=Vi(t);ms(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?yl(Nr(o)):Nr(o));e[Dn](e.multiple?r?new Set(i):i:i[0])}),e[Dn]=Ks(n)},mounted(e,{value:t}){Eu(e,t)},beforeUpdate(e,t,s){e[Dn]=Ks(s)},updated(e,{value:t}){Eu(e,t)}};function Eu(e,t){const s=e.multiple;if(!(s&&!xn(t)&&!Vi(t))){for(let n=0,r=e.options.length;n<r;n++){const i=e.options[n],o=Nr(i);if(s)xn(t)?i.selected=ca(t,o)>-1:i.selected=t.has(o);else if(Qs(Nr(i),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Nr(e){return"_value"in e?e._value:e.value}function Hd(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Wd={created(e,t,s){mo(e,t,s,null,"created")},mounted(e,t,s){mo(e,t,s,null,"mounted")},beforeUpdate(e,t,s,n){mo(e,t,s,n,"beforeUpdate")},updated(e,t,s,n){mo(e,t,s,n,"updated")}};function Qd(e,t){switch(e){case"SELECT":return zd;case"TEXTAREA":return jt;default:switch(t){case"checkbox":return Ms;case"radio":return _c;default:return jt}}}function mo(e,t,s,n,r){const o=Qd(e.tagName,s.props&&s.props.type)[r];o&&o(e,t,s,n)}function $g(){jt.getSSRProps=({value:e})=>({value:e}),_c.getSSRProps=({value:e},t)=>{if(t.props&&Qs(t.props.value,e))return{checked:!0}},Ms.getSSRProps=({value:e},t)=>{if(xn(e)){if(t.props&&ca(e,t.props.value)>-1)return{checked:!0}}else if(Vi(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Wd.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const s=Qd(t.type.toUpperCase(),t.props&&t.props.type);if(s.getSSRProps)return s.getSSRProps(e,t)}}const Bg=["ctrl","shift","alt","meta"],jg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Bg.some(s=>e[`${s}Key`]&&!t.includes(s))},Wt=(e,t)=>(s,...n)=>{for(let r=0;r<t.length;r++){const i=jg[t[r]];if(i&&i(s,t))return}return e(s,...n)},Ug={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$r=(e,t)=>s=>{if(!("key"in s))return;const n=Ds(s.key);if(t.some(r=>r===n||Ug[r]===n))return e(s)},Kd=Ui({patchProp:Ag},ug);let mi,qu=!1;function Gd(){return mi||(mi=pd(Kd))}function Jd(){return mi=qu?mi:_d(Kd),qu=!0,mi}const ql=(...e)=>{Gd().render(...e)},Xd=(...e)=>{Jd().hydrate(...e)},hc=(...e)=>{const t=Gd().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Yd(n);if(!r)return;const i=t._component;!Pd(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},Vg=(...e)=>{const t=Jd().createApp(...e),{mount:s}=t;return t.mount=n=>{const r=Yd(n);if(r)return s(r,!0,r instanceof SVGElement)},t};function Yd(e){return Ti(e)?document.querySelector(e):e}let Su=!1;const zg=()=>{Su||(Su=!0,$g(),hg())},Hg=()=>{},Wg=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Hf,BaseTransitionPropsValidators:sc,Comment:fn,EffectScope:Nl,Fragment:yt,KeepAlive:nm,ReactiveEffect:Lr,Static:lr,Suspense:jf,Teleport:gd,Text:pr,Transition:dc,TransitionGroup:Vd,VueElement:ua,assertNumber:Ph,callWithAsyncErrorHandling:In,callWithErrorHandling:bs,camelize:Wn,capitalize:Yo,cloneVNode:rs,compatUtils:Jm,compile:Hg,computed:ft,createApp:hc,createBlock:en,createCommentVNode:Je,createElementBlock:be,createElementVNode:W,createHydrationRenderer:_d,createPropsRestProxy:gm,createRenderer:pd,createSSRApp:Vg,createSlots:rm,createStaticVNode:Mm,createTextVNode:us,createVNode:Ze,customRef:uh,defineAsyncComponent:em,defineComponent:Rn,defineCustomElement:$d,defineEmits:am,defineExpose:lm,defineModel:fm,defineOptions:cm,defineProps:om,defineSSRCustomElement:Tg,defineSlots:um,get devtools(){return Ar},effect:M_,effectScope:$l,getCurrentInstance:vn,getCurrentScope:Bl,getTransitionRawChildren:sa,guardReactiveProps:Ed,h:la,handleError:mr,hasInjectionContext:ad,hydrate:Xd,initCustomFormatter:Hm,initDirectivesForSSR:zg,inject:gn,isMemoSame:Od,isProxy:Hl,isReactive:vs,isReadonly:ur,isRef:Qt,isRuntimeOnly:Um,isShallow:wi,isVNode:Hs,markRaw:Mi,mergeDefaults:hm,mergeModels:mm,mergeProps:js,nextTick:zn,normalizeClass:ot,normalizeProps:Oh,normalizeStyle:Gn,onActivated:rc,onBeforeMount:Kf,onBeforeUnmount:Bi,onBeforeUpdate:Gf,onDeactivated:ic,onErrorCaptured:Zf,onMounted:cs,onRenderTracked:Yf,onRenderTriggered:Xf,onScopeDispose:ff,onServerPrefetch:Jf,onUnmounted:ji,onUpdated:ia,openBlock:de,popScopeId:ls,provide:pi,proxyRefs:Kl,pushScopeId:as,queuePostFlushCb:Oo,reactive:Gt,readonly:zl,ref:It,registerRuntimeCompiler:jm,render:ql,renderList:$t,renderSlot:sn,resolveComponent:Bs,resolveDirective:zh,resolveDynamicComponent:na,resolveFilter:Gm,resolveTransitionHooks:Fr,setBlockTracking:pl,setDevtoolsHook:Mf,setTransitionHooks:dr,shallowReactive:Vl,shallowReadonly:rh,shallowRef:Sf,ssrContextKey:Cd,ssrUtils:Km,stop:N_,toDisplayString:ht,toHandlerKey:ui,toHandlers:td,toRaw:Tt,toRef:ph,toRefs:yn,toValue:ah,transformVNodeArgs:Fm,triggerRef:oh,unref:X,useAttrs:pm,useCssModule:Ig,useCssVars:Pg,useModel:_m,useSSRContext:Td,useSlots:nd,useTransitionState:nc,vModelCheckbox:Ms,vModelDynamic:Wd,vModelRadio:_c,vModelSelect:zd,vModelText:jt,vShow:_n,version:Id,warn:Ih,watch:Ut,watchEffect:fr,watchPostEffect:Vf,watchSyncEffect:Xh,withAsyncContext:rd,withCtx:Fn,withDefaults:dm,withDirectives:At,withKeys:$r,withMemo:Wm,withModifiers:Wt,withScopeId:Nh},Symbol.toStringTag,{value:"Module"}));var Qg=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Zd;const fa=e=>Zd=e,ep=Symbol();function Sl(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var gi;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(gi||(gi={}));function Kg(){const e=$l(!0),t=e.run(()=>It({}));let s=[],n=[];const r=Mi({install(i){fa(r),r._a=i,i.provide(ep,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return!this._a&&!Qg?n.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return r}const tp=()=>{};function xu(e,t,s,n=tp){e.push(t);const r=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!s&&Bl()&&ff(r),r}function kr(e,...t){e.slice().forEach(s=>{s(...t)})}const Gg=e=>e();function xl(e,t){e instanceof Map&&t instanceof Map&&t.forEach((s,n)=>e.set(n,s)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const n=t[s],r=e[s];Sl(r)&&Sl(n)&&e.hasOwnProperty(s)&&!Qt(n)&&!vs(n)?e[s]=xl(r,n):e[s]=n}return e}const Jg=Symbol();function Xg(e){return!Sl(e)||!e.hasOwnProperty(Jg)}const{assign:Ps}=Object;function Yg(e){return!!(Qt(e)&&e.effect)}function Zg(e,t,s,n){const{state:r,actions:i,getters:o}=t,c=s.state.value[e];let f;function _(){c||(s.state.value[e]=r?r():{});const h=yn(s.state.value[e]);return Ps(h,i,Object.keys(o||{}).reduce((y,w)=>(y[w]=Mi(ft(()=>{fa(s);const O=s._s.get(e);return o[w].call(O,O)})),y),{}))}return f=np(e,_,t,s,n,!0),f}function np(e,t,s={},n,r,i){let o;const c=Ps({actions:{}},s),f={deep:!0};let _,h,y=[],w=[],O;const M=n.state.value[e];!i&&!M&&(n.state.value[e]={}),It({});let G;function fe(x){let S;_=h=!1,typeof x=="function"?(x(n.state.value[e]),S={type:gi.patchFunction,storeId:e,events:O}):(xl(n.state.value[e],x),S={type:gi.patchObject,payload:x,storeId:e,events:O});const L=G=Symbol();zn().then(()=>{G===L&&(_=!0)}),h=!0,kr(y,S,n.state.value[e])}const Q=i?function(){const{state:S}=s,L=S?S():{};this.$patch(K=>{Ps(K,L)})}:tp;function U(){o.stop(),y=[],w=[],n._s.delete(e)}function E(x,S){return function(){fa(n);const L=Array.from(arguments),K=[],N=[];function re(ae){K.push(ae)}function Ie(ae){N.push(ae)}kr(w,{args:L,name:x,store:H,after:re,onError:Ie});let Xe;try{Xe=S.apply(this&&this.$id===e?this:H,L)}catch(ae){throw kr(N,ae),ae}return Xe instanceof Promise?Xe.then(ae=>(kr(K,ae),ae)).catch(ae=>(kr(N,ae),Promise.reject(ae))):(kr(K,Xe),Xe)}}const A={_p:n,$id:e,$onAction:xu.bind(null,w),$patch:fe,$reset:Q,$subscribe(x,S={}){const L=xu(y,x,S.detached,()=>K()),K=o.run(()=>Ut(()=>n.state.value[e],N=>{(S.flush==="sync"?h:_)&&x({storeId:e,type:gi.direct,events:O},N)},Ps({},f,S)));return L},$dispose:U},H=Gt(A);n._s.set(e,H);const Y=(n._a&&n._a.runWithContext||Gg)(()=>n._e.run(()=>(o=$l()).run(t)));for(const x in Y){const S=Y[x];if(Qt(S)&&!Yg(S)||vs(S))i||(M&&Xg(S)&&(Qt(S)?S.value=M[x]:xl(S,M[x])),n.state.value[e][x]=S);else if(typeof S=="function"){const L=E(x,S);Y[x]=L,c.actions[x]=S}}return Ps(H,Y),Ps(Tt(H),Y),Object.defineProperty(H,"$state",{get:()=>n.state.value[e],set:x=>{fe(S=>{Ps(S,x)})}}),n._p.forEach(x=>{Ps(H,o.run(()=>x({store:H,app:n._a,pinia:n,options:c})))}),M&&i&&s.hydrate&&s.hydrate(H.$state,M),_=!0,h=!0,H}function fs(e,t,s){let n,r;const i=typeof t=="function";typeof e=="string"?(n=e,r=i?s:t):(r=e,n=e.id);function o(c,f){const _=ad();return c=c||(_?gn(ep,null):null),c&&fa(c),c=Zd,c._s.has(n)||(i?np(n,t,r,c):Zg(n,r,c)),c._s.get(n)}return o.$id=n,o}const Vt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s},ey={};function ty(e,t){const s=Bs("router-view");return de(),en(jf,null,{fallback:Fn(()=>[us(" Loading... ")]),default:Fn(()=>[Ze(s)]),_:1})}const ny=Vt(ey,[["render",ty]]);var sy=Object.defineProperty,ku=Object.getOwnPropertySymbols,ry=Object.prototype.hasOwnProperty,iy=Object.prototype.propertyIsEnumerable,Au=(e,t,s)=>t in e?sy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,sp=(e,t)=>{for(var s in t||(t={}))ry.call(t,s)&&Au(e,s,t[s]);if(ku)for(var s of ku(t))iy.call(t,s)&&Au(e,s,t[s]);return e},da=e=>typeof e=="function",pa=e=>typeof e=="string",rp=e=>pa(e)&&e.trim().length>0,oy=e=>typeof e=="number",ir=e=>typeof e>"u",Oi=e=>typeof e=="object"&&e!==null,ay=e=>ss(e,"tag")&&rp(e.tag),ip=e=>window.TouchEvent&&e instanceof TouchEvent,op=e=>ss(e,"component")&&ap(e.component),ly=e=>da(e)||Oi(e),ap=e=>!ir(e)&&(pa(e)||ly(e)||op(e)),Cu=e=>Oi(e)&&["height","width","right","left","top","bottom"].every(t=>oy(e[t])),ss=(e,t)=>(Oi(e)||da(e))&&t in e,cy=(e=>()=>e++)(0);function Ha(e){return ip(e)?e.targetTouches[0].clientX:e.clientX}function Tu(e){return ip(e)?e.targetTouches[0].clientY:e.clientY}var uy=e=>{ir(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},zi=e=>op(e)?zi(e.component):ay(e)?Rn({render(){return e}}):typeof e=="string"?e:Tt(X(e)),fy=e=>{if(typeof e=="string")return e;const t=ss(e,"props")&&Oi(e.props)?e.props:{},s=ss(e,"listeners")&&Oi(e.listeners)?e.listeners:{};return{component:zi(e),props:t,listeners:s}},dy=()=>typeof window<"u",mc=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const s=this.getHandlers(e);s.push(t),this.allHandlers[e]=s}off(e,t){const s=this.getHandlers(e);s.splice(s.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(n=>n(t))}},py=e=>["on","off","emit"].every(t=>ss(e,t)&&da(e[t])),Tn;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(Tn||(Tn={}));var Ii;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(Ii||(Ii={}));var On;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(On||(On={}));var Vn="Vue-Toastification",Bn={type:{type:String,default:Tn.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},lp={type:Bn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},So={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Bn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},kl={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},cp={transition:{type:[Object,String],default:`${Vn}__bounce`}},_y={position:{type:String,default:Ii.TOP_RIGHT},draggable:Bn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Bn.trueBoolean,pauseOnHover:Bn.trueBoolean,closeOnClick:Bn.trueBoolean,timeout:kl.timeout,hideProgressBar:kl.hideProgressBar,toastClassName:Bn.classNames,bodyClassName:Bn.classNames,icon:lp.customIcon,closeButton:So.component,closeButtonClassName:So.classNames,showCloseButtonOnHover:So.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new mc}},hy={id:{type:[String,Number],required:!0,default:0},type:Bn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},my={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Bn.trueBoolean,maxToasts:{type:Number,default:20},transition:cp.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Bn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},ws={CORE_TOAST:_y,TOAST:hy,CONTAINER:my,PROGRESS_BAR:kl,ICON:lp,TRANSITION:cp,CLOSE_BUTTON:So},up=Rn({name:"VtProgressBar",props:ws.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Vn}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function gy(e,t){return de(),be("div",{style:Gn(e.style),class:ot(e.cpClass)},null,6)}up.render=gy;var yy=up,fp=Rn({name:"VtCloseButton",props:ws.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?zi(this.component):"button"},classes(){const e=[`${Vn}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),vy=us("  ");function by(e,t){return de(),en(na(e.buttonComponent),js({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Fn(()=>[vy]),_:1},16,["aria-label","class"])}fp.render=by;var wy=fp,dp={},Ey={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},qy=W("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Sy=[qy];function xy(e,t){return de(),be("svg",Ey,Sy)}dp.render=xy;var ky=dp,pp={},Ay={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Cy=W("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Ty=[Cy];function Oy(e,t){return de(),be("svg",Ay,Ty)}pp.render=Oy;var Ou=pp,_p={},Iy={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Py=W("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Ry=[Py];function Ly(e,t){return de(),be("svg",Iy,Ry)}_p.render=Ly;var Fy=_p,hp={},Dy={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},My=W("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Ny=[My];function $y(e,t){return de(),be("svg",Dy,Ny)}hp.render=$y;var By=hp,mp=Rn({name:"VtIcon",props:ws.ICON,computed:{customIconChildren(){return ss(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return pa(this.customIcon)?this.trimValue(this.customIcon):ss(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return ss(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:ap(this.customIcon)?zi(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[Tn.DEFAULT]:Ou,[Tn.INFO]:Ou,[Tn.SUCCESS]:ky,[Tn.ERROR]:By,[Tn.WARNING]:Fy}[this.type]},iconClasses(){const e=[`${Vn}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return rp(e)?e.trim():t}}});function jy(e,t){return de(),en(na(e.component),{class:ot(e.iconClasses)},{default:Fn(()=>[us(ht(e.customIconChildren),1)]),_:1},8,["class"])}mp.render=jy;var Uy=mp,gp=Rn({name:"VtToast",components:{ProgressBar:yy,CloseButton:wy,Icon:Uy},inheritAttrs:!1,props:Object.assign({},ws.CORE_TOAST,ws.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Vn}__toast`,`${Vn}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Vn}__toast--rtl`),e},bodyClasses(){return[`${Vn}__toast-${pa(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Cu(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:ss,getVueComponentFromObj:zi,closeToast(){this.eventBus.emit(On.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Ha(e),y:Tu(e)},this.dragStart=Ha(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Ha(e),y:Tu(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Cu(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Vy=["role"];function zy(e,t){const s=Bs("Icon"),n=Bs("CloseButton"),r=Bs("ProgressBar");return de(),be("div",{class:ot(e.classes),style:Gn(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(de(),en(s,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Je("v-if",!0),W("div",{role:e.accessibility.toastRole||"alert",class:ot(e.bodyClasses)},[typeof e.content=="string"?(de(),be(yt,{key:0},[us(ht(e.content),1)],2112)):(de(),en(na(e.getVueComponentFromObj(e.content)),js({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},td(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Vy),e.closeButton?(de(),en(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Wt(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Je("v-if",!0),e.timeout?(de(),en(r,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Je("v-if",!0)],38)}gp.render=zy;var Hy=gp,yp=Rn({name:"VtTransition",props:ws.TRANSITION,emits:["leave"],methods:{hasProp:ss,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function Wy(e,t){return de(),en(Vd,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:Fn(()=>[sn(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}yp.render=Wy;var Qy=yp,vp=Rn({name:"VueToastification",devtools:{hide:!0},components:{Toast:Hy,VtTransition:Qy},props:Object.assign({},ws.CORE_TOAST,ws.CONTAINER,ws.TRANSITION),data(){return{count:0,positions:Object.values(Ii),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(On.ADD,this.addToast),e.on(On.CLEAR,this.clearToasts),e.on(On.DISMISS,this.dismissToast),e.on(On.UPDATE,this.updateToast),e.on(On.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){da(e)&&(e=await e()),uy(this.$el),e.appendChild(this.$el)},setToast(e){ir(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=fy(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),s=this.defaults.filterBeforeCreate(t,this.toastArray);s&&this.setToast(s)},dismissToast(e){const t=this.toasts[e];!ir(t)&&!ir(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(s=>s.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){ir(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:s}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):s&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${Vn}__container`,e].concat(this.defaults.containerClassName)}}});function Ky(e,t){const s=Bs("Toast"),n=Bs("VtTransition");return de(),be("div",null,[(de(!0),be(yt,null,$t(e.positions,r=>(de(),be("div",{key:r},[Ze(n,{transition:e.defaults.transition,class:ot(e.getClasses(r))},{default:Fn(()=>[(de(!0),be(yt,null,$t(e.getPositionToasts(r),i=>(de(),en(s,js({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}vp.render=Ky;var Gy=vp,Iu=(e={},t=!0)=>{const s=e.eventBus=e.eventBus||new mc;t&&zn(()=>{const i=hc(Gy,sp({},e)),o=i.mount(document.createElement("div")),c=e.onMounted;if(ir(c)||c(o,i),e.shareAppContext){const f=e.shareAppContext;f===!0?console.warn(`[${Vn}] App to share context with was not provided.`):(i._context.components=f._context.components,i._context.directives=f._context.directives,i._context.mixins=f._context.mixins,i._context.provides=f._context.provides,i.config.globalProperties=f.config.globalProperties)}});const n=(i,o)=>{const c=Object.assign({},{id:cy(),type:Tn.DEFAULT},o,{content:i});return s.emit(On.ADD,c),c.id};n.clear=()=>s.emit(On.CLEAR,void 0),n.updateDefaults=i=>{s.emit(On.UPDATE_DEFAULTS,i)},n.dismiss=i=>{s.emit(On.DISMISS,i)};function r(i,{content:o,options:c},f=!1){const _=Object.assign({},c,{content:o});s.emit(On.UPDATE,{id:i,options:_,create:f})}return n.update=r,n.success=(i,o)=>n(i,Object.assign({},o,{type:Tn.SUCCESS})),n.info=(i,o)=>n(i,Object.assign({},o,{type:Tn.INFO})),n.error=(i,o)=>n(i,Object.assign({},o,{type:Tn.ERROR})),n.warning=(i,o)=>n(i,Object.assign({},o,{type:Tn.WARNING})),n},Jy=()=>{const e=()=>console.warn(`[${Vn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Al(e){return dy()?py(e)?Iu({eventBus:e},!1):Iu(e,!0):Jy()}var bp=Symbol("VueToastification"),wp=new mc,Xy=(e,t)=>{t?.shareAppContext===!0&&(t.shareAppContext=e);const s=Al(sp({eventBus:wp},t));e.provide(bp,s)},Hi=e=>{if(e)return Al(e);const t=vn()?gn(bp,void 0):void 0;return t||Al(wp)},Yy=Xy;/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Cr=typeof window<"u";function Zy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Lt=Object.assign;function Wa(e,t){const s={};for(const n in t){const r=t[n];s[n]=Qn(r)?r.map(e):e(r)}return s}const yi=()=>{},Qn=Array.isArray,ev=/\/$/,tv=e=>e.replace(ev,"");function Qa(e,t,s="/"){let n,r={},i="",o="";const c=t.indexOf("#");let f=t.indexOf("?");return c<f&&c>=0&&(f=-1),f>-1&&(n=t.slice(0,f),i=t.slice(f+1,c>-1?c:t.length),r=e(i)),c>-1&&(n=n||t.slice(0,c),o=t.slice(c,t.length)),n=iv(n??t,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:o}}function nv(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Pu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function sv(e,t,s){const n=t.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Br(t.matched[n],s.matched[r])&&Ep(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Br(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ep(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!rv(e[s],t[s]))return!1;return!0}function rv(e,t){return Qn(e)?Ru(e,t):Qn(t)?Ru(t,e):e===t}function Ru(e,t){return Qn(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function iv(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,c;for(o=0;o<n.length;o++)if(c=n[o],c!==".")if(c==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var Pi;(function(e){e.pop="pop",e.push="push"})(Pi||(Pi={}));var vi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(vi||(vi={}));function ov(e){if(!e)if(Cr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),tv(e)}const av=/^[^#]+#/;function lv(e,t){return e.replace(av,"#")+t}function cv(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const _a=()=>({left:window.pageXOffset,top:window.pageYOffset});function uv(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;t=cv(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Lu(e,t){return(history.state?history.state.position-t:-1)+e}const Cl=new Map;function fv(e,t){Cl.set(e,t)}function dv(e){const t=Cl.get(e);return Cl.delete(e),t}let pv=()=>location.protocol+"//"+location.host;function qp(e,t){const{pathname:s,search:n,hash:r}=t,i=e.indexOf("#");if(i>-1){let c=r.includes(e.slice(i))?e.slice(i).length:1,f=r.slice(c);return f[0]!=="/"&&(f="/"+f),Pu(f,"")}return Pu(s,e)+n+r}function _v(e,t,s,n){let r=[],i=[],o=null;const c=({state:w})=>{const O=qp(e,location),M=s.value,G=t.value;let fe=0;if(w){if(s.value=O,t.value=w,o&&o===M){o=null;return}fe=G?w.position-G.position:0}else n(O);r.forEach(Q=>{Q(s.value,M,{delta:fe,type:Pi.pop,direction:fe?fe>0?vi.forward:vi.back:vi.unknown})})};function f(){o=s.value}function _(w){r.push(w);const O=()=>{const M=r.indexOf(w);M>-1&&r.splice(M,1)};return i.push(O),O}function h(){const{history:w}=window;w.state&&w.replaceState(Lt({},w.state,{scroll:_a()}),"")}function y(){for(const w of i)w();i=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:f,listen:_,destroy:y}}function Fu(e,t,s,n=!1,r=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:r?_a():null}}function hv(e){const{history:t,location:s}=window,n={value:qp(e,s)},r={value:t.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(f,_,h){const y=e.indexOf("#"),w=y>-1?(s.host&&document.querySelector("base")?e:e.slice(y))+f:pv()+e+f;try{t[h?"replaceState":"pushState"](_,"",w),r.value=_}catch(O){console.error(O),s[h?"replace":"assign"](w)}}function o(f,_){const h=Lt({},t.state,Fu(r.value.back,f,r.value.forward,!0),_,{position:r.value.position});i(f,h,!0),n.value=f}function c(f,_){const h=Lt({},r.value,t.state,{forward:f,scroll:_a()});i(h.current,h,!0);const y=Lt({},Fu(n.value,f,null),{position:h.position+1},_);i(f,y,!1),n.value=f}return{location:n,state:r,push:c,replace:o}}function mv(e){e=ov(e);const t=hv(e),s=_v(e,t.state,t.location,t.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=Lt({location:"",base:e,go:n,createHref:lv.bind(null,e)},t,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function gv(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),mv(e)}function yv(e){return typeof e=="string"||e&&typeof e=="object"}function Sp(e){return typeof e=="string"||typeof e=="symbol"}const Os={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},xp=Symbol("");var Du;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Du||(Du={}));function jr(e,t){return Lt(new Error,{type:e,[xp]:!0},t)}function ds(e,t){return e instanceof Error&&xp in e&&(t==null||!!(e.type&t))}const Mu="[^/]+?",vv={sensitive:!1,strict:!1,start:!0,end:!0},bv=/[.+*?^${}()[\]/\\]/g;function wv(e,t){const s=Lt({},vv,t),n=[];let r=s.start?"^":"";const i=[];for(const _ of e){const h=_.length?[]:[90];s.strict&&!_.length&&(r+="/");for(let y=0;y<_.length;y++){const w=_[y];let O=40+(s.sensitive?.25:0);if(w.type===0)y||(r+="/"),r+=w.value.replace(bv,"\\$&"),O+=40;else if(w.type===1){const{value:M,repeatable:G,optional:fe,regexp:Q}=w;i.push({name:M,repeatable:G,optional:fe});const U=Q||Mu;if(U!==Mu){O+=10;try{new RegExp(`(${U})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${M}" (${U}): `+A.message)}}let E=G?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;y||(E=fe&&_.length<2?`(?:/${E})`:"/"+E),fe&&(E+="?"),r+=E,O+=20,fe&&(O+=-8),G&&(O+=-20),U===".*"&&(O+=-50)}h.push(O)}n.push(h)}if(s.strict&&s.end){const _=n.length-1;n[_][n[_].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function c(_){const h=_.match(o),y={};if(!h)return null;for(let w=1;w<h.length;w++){const O=h[w]||"",M=i[w-1];y[M.name]=O&&M.repeatable?O.split("/"):O}return y}function f(_){let h="",y=!1;for(const w of e){(!y||!h.endsWith("/"))&&(h+="/"),y=!1;for(const O of w)if(O.type===0)h+=O.value;else if(O.type===1){const{value:M,repeatable:G,optional:fe}=O,Q=M in _?_[M]:"";if(Qn(Q)&&!G)throw new Error(`Provided param "${M}" is an array but it is not repeatable (* or + modifiers)`);const U=Qn(Q)?Q.join("/"):Q;if(!U)if(fe)w.length<2&&(h.endsWith("/")?h=h.slice(0,-1):y=!0);else throw new Error(`Missing required param "${M}"`);h+=U}}return h||"/"}return{re:o,score:n,keys:i,parse:c,stringify:f}}function Ev(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function qv(e,t){let s=0;const n=e.score,r=t.score;for(;s<n.length&&s<r.length;){const i=Ev(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Nu(n))return 1;if(Nu(r))return-1}return r.length-n.length}function Nu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Sv={type:0,value:""},xv=/[a-zA-Z0-9_]/;function kv(e){if(!e)return[[]];if(e==="/")return[[Sv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(O){throw new Error(`ERR (${s})/"${_}": ${O}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let c=0,f,_="",h="";function y(){_&&(s===0?i.push({type:0,value:_}):s===1||s===2||s===3?(i.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${_}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:_,regexp:h,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),_="")}function w(){_+=f}for(;c<e.length;){if(f=e[c++],f==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:f==="/"?(_&&y(),o()):f===":"?(y(),s=1):w();break;case 4:w(),s=n;break;case 1:f==="("?s=2:xv.test(f)?w():(y(),s=0,f!=="*"&&f!=="?"&&f!=="+"&&c--);break;case 2:f===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+f:s=3:h+=f;break;case 3:y(),s=0,f!=="*"&&f!=="?"&&f!=="+"&&c--,h="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${_}"`),y(),o(),r}function Av(e,t,s){const n=wv(kv(e.path),s),r=Lt(n,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function Cv(e,t){const s=[],n=new Map;t=ju({strict:!1,end:!0,sensitive:!1},t);function r(h){return n.get(h)}function i(h,y,w){const O=!w,M=Tv(h);M.aliasOf=w&&w.record;const G=ju(t,h),fe=[M];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const A of E)fe.push(Lt({},M,{components:w?w.record.components:M.components,path:A,aliasOf:w?w.record:M}))}let Q,U;for(const E of fe){const{path:A}=E;if(y&&A[0]!=="/"){const H=y.record.path,te=H[H.length-1]==="/"?"":"/";E.path=y.record.path+(A&&te+A)}if(Q=Av(E,y,G),w?w.alias.push(Q):(U=U||Q,U!==Q&&U.alias.push(Q),O&&h.name&&!Bu(Q)&&o(h.name)),M.children){const H=M.children;for(let te=0;te<H.length;te++)i(H[te],Q,w&&w.children[te])}w=w||Q,(Q.record.components&&Object.keys(Q.record.components).length||Q.record.name||Q.record.redirect)&&f(Q)}return U?()=>{o(U)}:yi}function o(h){if(Sp(h)){const y=n.get(h);y&&(n.delete(h),s.splice(s.indexOf(y),1),y.children.forEach(o),y.alias.forEach(o))}else{const y=s.indexOf(h);y>-1&&(s.splice(y,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function c(){return s}function f(h){let y=0;for(;y<s.length&&qv(h,s[y])>=0&&(h.record.path!==s[y].record.path||!kp(h,s[y]));)y++;s.splice(y,0,h),h.record.name&&!Bu(h)&&n.set(h.record.name,h)}function _(h,y){let w,O={},M,G;if("name"in h&&h.name){if(w=n.get(h.name),!w)throw jr(1,{location:h});G=w.record.name,O=Lt($u(y.params,w.keys.filter(U=>!U.optional).map(U=>U.name)),h.params&&$u(h.params,w.keys.map(U=>U.name))),M=w.stringify(O)}else if("path"in h)M=h.path,w=s.find(U=>U.re.test(M)),w&&(O=w.parse(M),G=w.record.name);else{if(w=y.name?n.get(y.name):s.find(U=>U.re.test(y.path)),!w)throw jr(1,{location:h,currentLocation:y});G=w.record.name,O=Lt({},y.params,h.params),M=w.stringify(O)}const fe=[];let Q=w;for(;Q;)fe.unshift(Q.record),Q=Q.parent;return{name:G,path:M,params:O,matched:fe,meta:Iv(fe)}}return e.forEach(h=>i(h)),{addRoute:i,resolve:_,removeRoute:o,getRoutes:c,getRecordMatcher:r}}function $u(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function Tv(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Ov(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Ov(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function Bu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Iv(e){return e.reduce((t,s)=>Lt(t,s.meta),{})}function ju(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function kp(e,t){return t.children.some(s=>s===e||kp(e,s))}const Ap=/#/g,Pv=/&/g,Rv=/\//g,Lv=/=/g,Fv=/\?/g,Cp=/\+/g,Dv=/%5B/g,Mv=/%5D/g,Tp=/%5E/g,Nv=/%60/g,Op=/%7B/g,$v=/%7C/g,Ip=/%7D/g,Bv=/%20/g;function gc(e){return encodeURI(""+e).replace($v,"|").replace(Dv,"[").replace(Mv,"]")}function jv(e){return gc(e).replace(Op,"{").replace(Ip,"}").replace(Tp,"^")}function Tl(e){return gc(e).replace(Cp,"%2B").replace(Bv,"+").replace(Ap,"%23").replace(Pv,"%26").replace(Nv,"`").replace(Op,"{").replace(Ip,"}").replace(Tp,"^")}function Uv(e){return Tl(e).replace(Lv,"%3D")}function Vv(e){return gc(e).replace(Ap,"%23").replace(Fv,"%3F")}function zv(e){return e==null?"":Vv(e).replace(Rv,"%2F")}function Do(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Hv(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Cp," "),o=i.indexOf("="),c=Do(o<0?i:i.slice(0,o)),f=o<0?null:Do(i.slice(o+1));if(c in t){let _=t[c];Qn(_)||(_=t[c]=[_]),_.push(f)}else t[c]=f}return t}function Uu(e){let t="";for(let s in e){const n=e[s];if(s=Uv(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Qn(n)?n.map(i=>i&&Tl(i)):[n&&Tl(n)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Wv(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Qn(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return t}const Pp=Symbol(""),Vu=Symbol(""),ha=Symbol(""),yc=Symbol(""),Ol=Symbol("");function ri(){let e=[];function t(n){return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Qv(e,t,s){const n=()=>{e[t].delete(s)};ji(n),ic(n),rc(()=>{e[t].add(s)}),e[t].add(s)}function Kv(e){const t=gn(Pp,{}).value;t&&Qv(t,"updateGuards",e)}function Fs(e,t,s,n,r){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((o,c)=>{const f=y=>{y===!1?c(jr(4,{from:s,to:t})):y instanceof Error?c(y):yv(y)?c(jr(2,{from:t,to:y})):(i&&n.enterCallbacks[r]===i&&typeof y=="function"&&i.push(y),o())},_=e.call(n&&n.instances[r],t,s,f);let h=Promise.resolve(_);e.length<3&&(h=h.then(f)),h.catch(y=>c(y))})}function Ka(e,t,s,n){const r=[];for(const i of e)for(const o in i.components){let c=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Gv(c)){const _=(c.__vccOpts||c)[t];_&&r.push(Fs(_,s,n,i,o))}else{let f=c();r.push(()=>f.then(_=>{if(!_)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const h=Zy(_)?_.default:_;i.components[o]=h;const w=(h.__vccOpts||h)[t];return w&&Fs(w,s,n,i,o)()}))}}return r}function Gv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function zu(e){const t=gn(ha),s=gn(yc),n=ft(()=>t.resolve(X(e.to))),r=ft(()=>{const{matched:f}=n.value,{length:_}=f,h=f[_-1],y=s.matched;if(!h||!y.length)return-1;const w=y.findIndex(Br.bind(null,h));if(w>-1)return w;const O=Hu(f[_-2]);return _>1&&Hu(h)===O&&y[y.length-1].path!==O?y.findIndex(Br.bind(null,f[_-2])):w}),i=ft(()=>r.value>-1&&Zv(s.params,n.value.params)),o=ft(()=>r.value>-1&&r.value===s.matched.length-1&&Ep(s.params,n.value.params));function c(f={}){return Yv(f)?t[X(e.replace)?"replace":"push"](X(e.to)).catch(yi):Promise.resolve()}return{route:n,href:ft(()=>n.value.href),isActive:i,isExactActive:o,navigate:c}}const Jv=Rn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zu,setup(e,{slots:t}){const s=Gt(zu(e)),{options:n}=gn(ha),r=ft(()=>({[Wu(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Wu(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&t.default(s);return e.custom?i:la("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Xv=Jv;function Yv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Zv(e,t){for(const s in t){const n=t[s],r=e[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Qn(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function Hu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wu=(e,t,s)=>e??t??s,eb=Rn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=gn(Ol),r=ft(()=>e.route||n.value),i=gn(Vu,0),o=ft(()=>{let _=X(i);const{matched:h}=r.value;let y;for(;(y=h[_])&&!y.components;)_++;return _}),c=ft(()=>r.value.matched[o.value]);pi(Vu,ft(()=>o.value+1)),pi(Pp,c),pi(Ol,r);const f=It();return Ut(()=>[f.value,c.value,e.name],([_,h,y],[w,O,M])=>{h&&(h.instances[y]=_,O&&O!==h&&_&&_===w&&(h.leaveGuards.size||(h.leaveGuards=O.leaveGuards),h.updateGuards.size||(h.updateGuards=O.updateGuards))),_&&h&&(!O||!Br(h,O)||!w)&&(h.enterCallbacks[y]||[]).forEach(G=>G(_))},{flush:"post"}),()=>{const _=r.value,h=e.name,y=c.value,w=y&&y.components[h];if(!w)return Qu(s.default,{Component:w,route:_});const O=y.props[h],M=O?O===!0?_.params:typeof O=="function"?O(_):O:null,fe=la(w,Lt({},M,t,{onVnodeUnmounted:Q=>{Q.component.isUnmounted&&(y.instances[h]=null)},ref:f}));return Qu(s.default,{Component:fe,route:_})||fe}}});function Qu(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const tb=eb;function nb(e){const t=Cv(e.routes,e),s=e.parseQuery||Hv,n=e.stringifyQuery||Uu,r=e.history,i=ri(),o=ri(),c=ri(),f=Sf(Os);let _=Os;Cr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Wa.bind(null,ne=>""+ne),y=Wa.bind(null,zv),w=Wa.bind(null,Do);function O(ne,Te){let _e,De;return Sp(ne)?(_e=t.getRecordMatcher(ne),De=Te):De=ne,t.addRoute(De,_e)}function M(ne){const Te=t.getRecordMatcher(ne);Te&&t.removeRoute(Te)}function G(){return t.getRoutes().map(ne=>ne.record)}function fe(ne){return!!t.getRecordMatcher(ne)}function Q(ne,Te){if(Te=Lt({},Te||f.value),typeof ne=="string"){const Z=Qa(s,ne,Te.path),ue=t.resolve({path:Z.path},Te),ye=r.createHref(Z.fullPath);return Lt(Z,ue,{params:w(ue.params),hash:Do(Z.hash),redirectedFrom:void 0,href:ye})}let _e;if("path"in ne)_e=Lt({},ne,{path:Qa(s,ne.path,Te.path).path});else{const Z=Lt({},ne.params);for(const ue in Z)Z[ue]==null&&delete Z[ue];_e=Lt({},ne,{params:y(Z)}),Te.params=y(Te.params)}const De=t.resolve(_e,Te),ut=ne.hash||"";De.params=h(w(De.params));const P=nv(n,Lt({},ne,{hash:jv(ut),path:De.path})),R=r.createHref(P);return Lt({fullPath:P,hash:ut,query:n===Uu?Wv(ne.query):ne.query||{}},De,{redirectedFrom:void 0,href:R})}function U(ne){return typeof ne=="string"?Qa(s,ne,f.value.path):Lt({},ne)}function E(ne,Te){if(_!==ne)return jr(8,{from:Te,to:ne})}function A(ne){return Y(ne)}function H(ne){return A(Lt(U(ne),{replace:!0}))}function te(ne){const Te=ne.matched[ne.matched.length-1];if(Te&&Te.redirect){const{redirect:_e}=Te;let De=typeof _e=="function"?_e(ne):_e;return typeof De=="string"&&(De=De.includes("?")||De.includes("#")?De=U(De):{path:De},De.params={}),Lt({query:ne.query,hash:ne.hash,params:"path"in De?{}:ne.params},De)}}function Y(ne,Te){const _e=_=Q(ne),De=f.value,ut=ne.state,P=ne.force,R=ne.replace===!0,Z=te(_e);if(Z)return Y(Lt(U(Z),{state:typeof Z=="object"?Lt({},ut,Z.state):ut,force:P,replace:R}),Te||_e);const ue=_e;ue.redirectedFrom=Te;let ye;return!P&&sv(n,De,_e)&&(ye=jr(16,{to:ue,from:De}),dt(De,De,!0,!1)),(ye?Promise.resolve(ye):L(ue,De)).catch(we=>ds(we)?ds(we,2)?we:Et(we):ze(we,ue,De)).then(we=>{if(we){if(ds(we,2))return Y(Lt({replace:R},U(we.to),{state:typeof we.to=="object"?Lt({},ut,we.to.state):ut,force:P}),Te||ue)}else we=N(ue,De,!0,R,ut);return K(ue,De,we),we})}function x(ne,Te){const _e=E(ne,Te);return _e?Promise.reject(_e):Promise.resolve()}function S(ne){const Te=vt.values().next().value;return Te&&typeof Te.runWithContext=="function"?Te.runWithContext(ne):ne()}function L(ne,Te){let _e;const[De,ut,P]=sb(ne,Te);_e=Ka(De.reverse(),"beforeRouteLeave",ne,Te);for(const Z of De)Z.leaveGuards.forEach(ue=>{_e.push(Fs(ue,ne,Te))});const R=x.bind(null,ne,Te);return _e.push(R),qe(_e).then(()=>{_e=[];for(const Z of i.list())_e.push(Fs(Z,ne,Te));return _e.push(R),qe(_e)}).then(()=>{_e=Ka(ut,"beforeRouteUpdate",ne,Te);for(const Z of ut)Z.updateGuards.forEach(ue=>{_e.push(Fs(ue,ne,Te))});return _e.push(R),qe(_e)}).then(()=>{_e=[];for(const Z of P)if(Z.beforeEnter)if(Qn(Z.beforeEnter))for(const ue of Z.beforeEnter)_e.push(Fs(ue,ne,Te));else _e.push(Fs(Z.beforeEnter,ne,Te));return _e.push(R),qe(_e)}).then(()=>(ne.matched.forEach(Z=>Z.enterCallbacks={}),_e=Ka(P,"beforeRouteEnter",ne,Te),_e.push(R),qe(_e))).then(()=>{_e=[];for(const Z of o.list())_e.push(Fs(Z,ne,Te));return _e.push(R),qe(_e)}).catch(Z=>ds(Z,8)?Z:Promise.reject(Z))}function K(ne,Te,_e){c.list().forEach(De=>S(()=>De(ne,Te,_e)))}function N(ne,Te,_e,De,ut){const P=E(ne,Te);if(P)return P;const R=Te===Os,Z=Cr?history.state:{};_e&&(De||R?r.replace(ne.fullPath,Lt({scroll:R&&Z&&Z.scroll},ut)):r.push(ne.fullPath,ut)),f.value=ne,dt(ne,Te,_e,R),Et()}let re;function Ie(){re||(re=r.listen((ne,Te,_e)=>{if(!rt.listening)return;const De=Q(ne),ut=te(De);if(ut){Y(Lt(ut,{replace:!0}),De).catch(yi);return}_=De;const P=f.value;Cr&&fv(Lu(P.fullPath,_e.delta),_a()),L(De,P).catch(R=>ds(R,12)?R:ds(R,2)?(Y(R.to,De).then(Z=>{ds(Z,20)&&!_e.delta&&_e.type===Pi.pop&&r.go(-1,!1)}).catch(yi),Promise.reject()):(_e.delta&&r.go(-_e.delta,!1),ze(R,De,P))).then(R=>{R=R||N(De,P,!1),R&&(_e.delta&&!ds(R,8)?r.go(-_e.delta,!1):_e.type===Pi.pop&&ds(R,20)&&r.go(-1,!1)),K(De,P,R)}).catch(yi)}))}let Xe=ri(),ae=ri(),pe;function ze(ne,Te,_e){Et(ne);const De=ae.list();return De.length?De.forEach(ut=>ut(ne,Te,_e)):console.error(ne),Promise.reject(ne)}function Be(){return pe&&f.value!==Os?Promise.resolve():new Promise((ne,Te)=>{Xe.add([ne,Te])})}function Et(ne){return pe||(pe=!ne,Ie(),Xe.list().forEach(([Te,_e])=>ne?_e(ne):Te()),Xe.reset()),ne}function dt(ne,Te,_e,De){const{scrollBehavior:ut}=e;if(!Cr||!ut)return Promise.resolve();const P=!_e&&dv(Lu(ne.fullPath,0))||(De||!_e)&&history.state&&history.state.scroll||null;return zn().then(()=>ut(ne,Te,P)).then(R=>R&&uv(R)).catch(R=>ze(R,ne,Te))}const $e=ne=>r.go(ne);let qt;const vt=new Set,rt={currentRoute:f,listening:!0,addRoute:O,removeRoute:M,hasRoute:fe,getRoutes:G,resolve:Q,options:e,push:A,replace:H,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:c.add,onError:ae.add,isReady:Be,install(ne){const Te=this;ne.component("RouterLink",Xv),ne.component("RouterView",tb),ne.config.globalProperties.$router=Te,Object.defineProperty(ne.config.globalProperties,"$route",{enumerable:!0,get:()=>X(f)}),Cr&&!qt&&f.value===Os&&(qt=!0,A(r.location).catch(ut=>{}));const _e={};for(const ut in Os)Object.defineProperty(_e,ut,{get:()=>f.value[ut],enumerable:!0});ne.provide(ha,Te),ne.provide(yc,Vl(_e)),ne.provide(Ol,f);const De=ne.unmount;vt.add(ne),ne.unmount=function(){vt.delete(ne),vt.size<1&&(_=Os,re&&re(),re=null,f.value=Os,qt=!1,pe=!1),De()}}};function qe(ne){return ne.reduce((Te,_e)=>Te.then(()=>S(_e)),Promise.resolve())}return rt}function sb(e,t){const s=[],n=[],r=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const c=t.matched[o];c&&(e.matched.find(_=>Br(_,c))?n.push(c):s.push(c));const f=e.matched[o];f&&(t.matched.find(_=>Br(_,f))||r.push(f))}return[s,n,r]}function rb(){return gn(ha)}function ib(){return gn(yc)}const Ns=async(e,t,s=!1)=>{const n=new Request(t,{cache:s===!0?"reload":"default"});s===!0&&await e.delete(n);let r=await e.match(n);return r||(await e.add(n),r=await e.match(n)),await r.json()},Mo=async(e="",t={})=>{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error(await s.text());return await s.json()},ob=async(e="",t={})=>{await fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};var ma={library:"https://accounts.google.com/gsi/client",defaultButtonConfig:{theme:"outline",size:"large"},scopes:"email profile openid"};const hn=Gt({clientId:null,popupType:"CODE",prompt:!1,autoLogin:!1,idConfiguration:null,buttonConfig:ma.defaultButtonConfig,callback:()=>{},error:null}),Rr=Gt({apiLoaded:!1,apiLoadIntitited:!1}),ab=e=>{try{const t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(s)}catch{throw"JWT provided is invalid"}},Rp=new Promise(e=>{const t=typeof window<"u";if(!Rr.apiLoadIntitited&&t){const s=document.createElement("script");Rr.apiLoadIntitited=!0,s.addEventListener("load",()=>{Rr.apiLoaded=!0,e(window.google)}),s.src=ma.library,s.async=!0,s.defer=!0,document.head.appendChild(s)}}),ga=e=>{Rr.apiLoadIntitited?Rr.apiLoaded?e(window.google):Ut(()=>Rr.apiLoaded,t=>{t&&e(window.google)}):Rp.then(t=>{e(t)})},lb=(e,t,s,n)=>{if(!e.client_id)throw new Error("Prop client id required since plugin is not initialized with a client id");ga(()=>{((r,i,o,c,f)=>{if(f){const h=r.callback;r.callback=y=>{y.credential?h&&h(y):f(y)}}window.google.accounts.id.initialize(r);const _=i.value;_&&!c&&window.google.accounts.id.renderButton(_,o)})(e,t,s.buttonConfig,n,s.error),s.prompt&&fb({clientId:s.clientId,callback:s.callback,error:s.error,autoLogin:s.autoLogin})})},cb=e=>new Promise((t,s)=>{ga(n=>{if(!(e&&e.clientId||hn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");n.accounts.oauth2.initCodeClient({client_id:e&&e.clientId||hn.clientId||"",scope:ma.scopes,ux_mode:"popup",callback:r=>{r.code?t(r):s(r)},error_callback:r=>{s(r)}}).requestCode()})}),ub=e=>new Promise((t,s)=>{ga(n=>{if(!(e&&e.clientId||hn.clientId))throw new Error("clientId is required since the plugin is not initialized with a Client Id");n.accounts.oauth2.initTokenClient({client_id:e&&e.clientId||hn.clientId||"",scope:ma.scopes,callback:r=>{r.access_token?t(r):s(r)},error_callback:r=>{s(r)}}).requestAccessToken()})}),fb=e=>{if(!e&&(e={}),!e.clientId&&!hn.clientId)throw new Error("clientId is required");const t={};return e.clientId&&(t.client_id=e.clientId),!e.clientId&&hn.clientId&&(t.client_id=hn.clientId),e.context&&(t.context=e.context),e.autoLogin!=null&&(t.auto_select=e.autoLogin),e.cancelOnTapOutside!=null&&(t.cancel_on_tap_outside=e.cancelOnTapOutside),new Promise((s,n)=>{t.callback=r=>{e&&e.callback&&e.callback(r),r.credential?s(r):n(r)},ga(r=>{r.accounts.id.initialize(t),r.accounts.id.prompt(i=>{e&&e.onNotification&&e.onNotification(i),(o=>{const c=o.notification;let f="";c.isNotDisplayed()&&(f=c.getNotDisplayedReason()==="suppressed_by_user"?"Prompt was suppressed by user'. Refer https://developers.google.com/identity/gsi/web/guides/features#exponential_cooldown for more info":`Prompt was not displayed, reason for not displaying: ${c.getNotDisplayedReason()}`),c.isSkippedMoment()&&(f=`Prompt was skipped, reason for skipping: ${c.getSkippedReason()}`),f.length&&(o.error?o.error(f):o.reject(f))})({notification:i,reject:n,error:e&&e.error})})})})};var Il=Rn({name:"GoogleLogin",props:{clientId:{type:String,required:!1},prompt:{type:Boolean,required:!1,default:!1},autoLogin:{type:Boolean,required:!1,default:!1},popupType:{type:String,required:!1},idConfiguration:{type:Object,required:!1},buttonConfig:{type:Object,required:!1},callback:{type:Function,required:!1},error:{type:Function,required:!1}},setup(e){const t=e,s=!!nd().default,n=((o,c)=>{const f={...o};for(const _ in c)c[_]!==void 0&&c[_]!==null&&(f[_]=c[_]);return f})(hn,t),r={client_id:n.clientId||null,auto_select:n.autoLogin||!1,callback:n.callback,...n.idConfiguration},i=It();return cs(()=>{lb(r,i,n,s),t.popupType&&!s&&console.warn("Option 'popupType' is ignored since a slot which act as a custom login button was not found!!!")}),(o,c)=>(de(),be("div",{class:"g-btn-wrapper",onClick:c[0]||(c[0]=f=>X(s)&&void(X(n).popupType==="TOKEN"?ub({clientId:n.clientId}).then(_=>{n.callback&&n.callback(_)}).catch(_=>{n.error&&n.error(_)}):cb({clientId:n.clientId}).then(_=>{n.callback&&n.callback(_)}).catch(_=>{n.error&&n.error(_)})))},[X(s)?Je("v-if",!0):(de(),be("span",{key:0,ref_key:"buttonRef",ref:i,class:"g-btn"},null,512)),sn(o.$slots,"default")]))}});(function(e,t){t===void 0&&(t={});var s=t.insertAt;if(e&&typeof document<"u"){var n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",s==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}})(`
.g-btn-wrapper[data-v-5e610566] {
  display: inline-block;
}
`),Il.__scopeId="data-v-5e610566",Il.__file="src/plugin/GoogleLogin.vue";var db={install:(e,t)=>{t&&(s=>{s.clientId&&(hn.clientId=s.clientId),s.popupType&&(hn.popupType=s.popupType),s.prompt!=null&&(hn.prompt=s.prompt),s.autoLogin!=null&&(hn.autoLogin=s.autoLogin),s.idConfiguration&&(hn.idConfiguration=s.idConfiguration),s.buttonConfig&&(hn.buttonConfig=s.buttonConfig),s.callback&&(hn.callback=s.callback)})(t),Rp.then(()=>{if(t.clientId){const s={client_id:t.clientId,auto_select:t.autoLogin===!0,callback:t.callback,use_fedcm_for_prompt:!0,...t.idConfiguration};window.google.accounts.id.initialize(s),t.prompt&&window.google.accounts.id.prompt()}}),e.component("GoogleLogin",Il)}},Ku={expireTimes:"1d",path:"; path=/",domain:"",secure:!1,sameSite:"; SameSite=Lax"},pb=function(){function e(){this.current_default_config=Ku}return e.prototype.config=function(t){for(var s in this.current_default_config)this.current_default_config[s]=t[s]?t[s]:Ku[s]},e.prototype.get=function(t){var s=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(s&&s.substring(0,1)==="{"&&s.substring(s.length-1,s.length)==="}")try{s=JSON.parse(s)}catch{return s}return s},e.prototype.set=function(t,s,n,r,i,o,c){if(t){if(/^(?:expires|max-age|path|domain|secure|SameSite)$/i.test(t))throw new Error('Cookie name illegality. Cannot be set to ["expires","max-age","path","domain","secure","SameSite"]	 current key name: '+t)}else throw new Error("Cookie name is not found in the first argument.");s&&s.constructor===Object&&(s=JSON.stringify(s));var f="";if(n==null&&(n=this.current_default_config.expireTimes?this.current_default_config.expireTimes:""),n&&n!=0)switch(n.constructor){case Number:n===1/0||n===-1?f="; expires=Fri, 31 Dec 9999 23:59:59 GMT":f="; max-age="+n;break;case String:if(/^(?:\d+(y|m|d|h|min|s))$/i.test(n)){var _=n.replace(/^(\d+)(?:y|m|d|h|min|s)$/i,"$1");switch(n.replace(/^(?:\d+)(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":f="; max-age="+ +_*2592e3;break;case"d":f="; max-age="+ +_*86400;break;case"h":f="; max-age="+ +_*3600;break;case"min":f="; max-age="+ +_*60;break;case"s":f="; max-age="+_;break;case"y":f="; max-age="+ +_*31104e3;break}}else f="; expires="+n;break;case Date:f="; expires="+n.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(s)+f+(i?"; domain="+i:this.current_default_config.domain?this.current_default_config.domain:"")+(r?"; path="+r:this.current_default_config.path?this.current_default_config.path:"; path=/")+(o==null?this.current_default_config.secure?"; Secure":"":o?"; Secure":"")+(c==null?this.current_default_config.sameSite?"; SameSute="+this.current_default_config.sameSite:"":c?"; SameSite="+c:""),this},e.prototype.remove=function(t,s,n){return!t||!this.isKey(t)?!1:(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:this.current_default_config.domain?this.current_default_config.domain:"")+(s?"; path="+s:this.current_default_config.path?this.current_default_config.path:"; path=/")+"; SameSite=Lax",!0)},e.prototype.isKey=function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},e.prototype.keys=function(){if(!document.cookie)return[];for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),s=0;s<t.length;s++)t[s]=decodeURIComponent(t[s]);return t},e}(),Ga=null;function Gu(){Ga==null&&(Ga=new pb);var e=Gt(Ga);return{cookies:e}}const _b="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",No=fs("user",{state:()=>({token:null,collections:new Map}),getters:{info(e){return ab(e.token)}},actions:{logout(){this.$reset()},async loadCookie(){const e=Gu(),t=e.cookies.get("token");if(t)try{await this.handleGoogleLogin(t),console.log("User restored from cookie")}catch{console.log("Failed to restore user token from cookie"),this.token=null,e.cookies.remove("token")}},async handleGoogleLogin(e){const t=await Mo(_b+"/login",{token:e});this.token=e,Gu().cookies.set("token",e),this.collections=new Map;const n=mn();for(const r of t.data.collections)this.collections.set(r.name,r),n.collections.has(r.name)||n.collections.set(r.name,{lastSync:0,downloaded:!1})}}});var Lp=(()=>{var e=import.meta.url;return function(t){var s=t||{},n=typeof s<"u"?s:{},r,i;n.ready=new Promise(function(l,a){r=l,i=a});const o=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,o.debugModule("globalThis.location =",globalThis.location);const c="emscripten-bug-17951";n[c]=function l(a,d){a.env.foo=function(){};const u=n.locateFile(l.uri,typeof w>"u"?"":w);o.debugModule("instantiateWasm() uri =",u);const p=()=>fetch(u,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(p(),a).then(I=>d(I.instance,I.module)):async()=>p().then(I=>I.arrayBuffer()).then(I=>WebAssembly.instantiate(I,a)).then(I=>d(I.instance,I.module)))(),{}},n[c].uri="sqlite3.wasm";var f=Object.assign({},n),_="./this.program",h=typeof window=="object",y=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var w="";function O(l){return n.locateFile?n.locateFile(l,w):w+l}var M,G,fe;(h||y)&&(y?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),e&&(w=e),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",M=l=>{var a=new XMLHttpRequest;return a.open("GET",l,!1),a.send(null),a.responseText},y&&(fe=l=>{var a=new XMLHttpRequest;return a.open("GET",l,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),G=(l,a,d)=>{var u=new XMLHttpRequest;u.open("GET",l,!0),u.responseType="arraybuffer",u.onload=()=>{if(u.status==200||u.status==0&&u.response){a(u.response);return}d()},u.onerror=d,u.send(null)});var Q=n.print||console.log.bind(console),U=n.printErr||console.warn.bind(console);Object.assign(n,f),f=null,n.arguments&&n.arguments,n.thisProgram&&(_=n.thisProgram),n.quit&&n.quit;var E;n.wasmBinary&&(E=n.wasmBinary),n.noExitRuntime,typeof WebAssembly!="object"&&Z("no native wasm support detected");var A,H=!1;function te(l,a){l||Z(a)}var Y=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function x(l,a,d){for(var u=a+d,p=a;l[p]&&!(p>=u);)++p;if(p-a>16&&l.buffer&&Y)return Y.decode(l.subarray(a,p));for(var g="";a<p;){var I=l[a++];if(!(I&128)){g+=String.fromCharCode(I);continue}var J=l[a++]&63;if((I&224)==192){g+=String.fromCharCode((I&31)<<6|J);continue}var me=l[a++]&63;if((I&240)==224?I=(I&15)<<12|J<<6|me:I=(I&7)<<18|J<<12|me<<6|l[a++]&63,I<65536)g+=String.fromCharCode(I);else{var Ne=I-65536;g+=String.fromCharCode(55296|Ne>>10,56320|Ne&1023)}}return g}function S(l,a){return l?x(Ie,l,a):""}function L(l,a,d,u){if(!(u>0))return 0;for(var p=d,g=d+u-1,I=0;I<l.length;++I){var J=l.charCodeAt(I);if(J>=55296&&J<=57343){var me=l.charCodeAt(++I);J=65536+((J&1023)<<10)|me&1023}if(J<=127){if(d>=g)break;a[d++]=J}else if(J<=2047){if(d+1>=g)break;a[d++]=192|J>>6,a[d++]=128|J&63}else if(J<=65535){if(d+2>=g)break;a[d++]=224|J>>12,a[d++]=128|J>>6&63,a[d++]=128|J&63}else{if(d+3>=g)break;a[d++]=240|J>>18,a[d++]=128|J>>12&63,a[d++]=128|J>>6&63,a[d++]=128|J&63}}return a[d]=0,d-p}function K(l,a,d){return L(l,Ie,a,d)}function N(l){for(var a=0,d=0;d<l.length;++d){var u=l.charCodeAt(d);u<=127?a++:u<=2047?a+=2:u>=55296&&u<=57343?(a+=4,++d):a+=3}return a}var re,Ie,Xe,ae,pe;function ze(){var l=A.buffer;n.HEAP8=re=new Int8Array(l),n.HEAP16=Xe=new Int16Array(l),n.HEAP32=ae=new Int32Array(l),n.HEAPU8=Ie=new Uint8Array(l),n.HEAPU16=new Uint16Array(l),n.HEAPU32=pe=new Uint32Array(l),n.HEAPF32=new Float32Array(l),n.HEAPF64=new Float64Array(l),n.HEAP64=new BigInt64Array(l),n.HEAPU64=new BigUint64Array(l)}var Be=n.INITIAL_MEMORY||16777216;n.wasmMemory?A=n.wasmMemory:A=new WebAssembly.Memory({initial:Be/65536,maximum:2147483648/65536}),ze(),Be=A.buffer.byteLength;var Et=[],dt=[],$e=[];function qt(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)qe(n.preRun.shift());He(Et)}function vt(){!n.noFSInit&&!m.init.initialized&&m.init(),m.ignorePermissions=!1,He(dt)}function rt(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Te(n.postRun.shift());He($e)}function qe(l){Et.unshift(l)}function ne(l){dt.unshift(l)}function Te(l){$e.unshift(l)}var _e=0,De=null;function ut(l){return l}function P(l){_e++,n.monitorRunDependencies&&n.monitorRunDependencies(_e)}function R(l){if(_e--,n.monitorRunDependencies&&n.monitorRunDependencies(_e),_e==0&&De){var a=De;De=null,a()}}function Z(l){n.onAbort&&n.onAbort(l),l="Aborted("+l+")",U(l),H=!0,l+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(l);throw i(a),a}var ue="data:application/octet-stream;base64,";function ye(l){return l.startsWith(ue)}var we;n.locateFile?(we="sqlite3.wasm",ye(we)||(we=O(we))):we=new URL("/assets/sqlite3-25c52ce6.wasm",self.location).href;function Me(l){try{if(l==we&&E)return new Uint8Array(E);if(fe)return fe(l);throw"both async and sync fetching of the wasm failed"}catch(a){Z(a)}}function Ae(){return!E&&(h||y)&&typeof fetch=="function"?fetch(we,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+we+"'";return l.arrayBuffer()}).catch(function(){return Me(we)}):Promise.resolve().then(function(){return Me(we)})}function Fe(){var l={env:Ic,wasi_snapshot_preview1:Ic};function a(I,J){var me=I.exports;n.asm=me,n.asm.__indirect_function_table,ne(n.asm.__wasm_call_ctors),R()}P();function d(I){a(I.instance)}function u(I){return Ae().then(function(J){return WebAssembly.instantiate(J,l)}).then(function(J){return J}).then(I,function(J){U("failed to asynchronously prepare wasm: "+J),Z(J)})}function p(){return!E&&typeof WebAssembly.instantiateStreaming=="function"&&!ye(we)&&typeof fetch=="function"?fetch(we,{credentials:"same-origin"}).then(function(I){var J=WebAssembly.instantiateStreaming(I,l);return J.then(d,function(me){return U("wasm streaming compile failed: "+me),U("falling back to ArrayBuffer instantiation"),u(d)})}):u(d)}if(n.instantiateWasm)try{var g=n.instantiateWasm(l,a);return g}catch(I){U("Module.instantiateWasm callback failed with error: "+I),i(I)}return p().catch(i),{}}var ce,Le;function He(l){for(;l.length>0;)l.shift()(n)}var Oe={isAbs:l=>l.charAt(0)==="/",splitPath:l=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(l).slice(1)},normalizeArray:(l,a)=>{for(var d=0,u=l.length-1;u>=0;u--){var p=l[u];p==="."?l.splice(u,1):p===".."?(l.splice(u,1),d++):d&&(l.splice(u,1),d--)}if(a)for(;d;d--)l.unshift("..");return l},normalize:l=>{var a=Oe.isAbs(l),d=l.substr(-1)==="/";return l=Oe.normalizeArray(l.split("/").filter(u=>!!u),!a).join("/"),!l&&!a&&(l="."),l&&d&&(l+="/"),(a?"/":"")+l},dirname:l=>{var a=Oe.splitPath(l),d=a[0],u=a[1];return!d&&!u?".":(u&&(u=u.substr(0,u.length-1)),d+u)},basename:l=>{if(l==="/")return"/";l=Oe.normalize(l),l=l.replace(/\/$/,"");var a=l.lastIndexOf("/");return a===-1?l:l.substr(a+1)},join:function(){var l=Array.prototype.slice.call(arguments);return Oe.normalize(l.join("/"))},join2:(l,a)=>Oe.normalize(l+"/"+a)};function et(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var l=new Uint8Array(1);return()=>(crypto.getRandomValues(l),l[0])}else return()=>Z("randomDevice")}var lt={resolve:function(){for(var l="",a=!1,d=arguments.length-1;d>=-1&&!a;d--){var u=d>=0?arguments[d]:m.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!u)return"";l=u+"/"+l,a=Oe.isAbs(u)}return l=Oe.normalizeArray(l.split("/").filter(p=>!!p),!a).join("/"),(a?"/":"")+l||"."},relative:(l,a)=>{l=lt.resolve(l).substr(1),a=lt.resolve(a).substr(1);function d(Ne){for(var Ge=0;Ge<Ne.length&&Ne[Ge]==="";Ge++);for(var ct=Ne.length-1;ct>=0&&Ne[ct]==="";ct--);return Ge>ct?[]:Ne.slice(Ge,ct-Ge+1)}for(var u=d(l.split("/")),p=d(a.split("/")),g=Math.min(u.length,p.length),I=g,J=0;J<g;J++)if(u[J]!==p[J]){I=J;break}for(var me=[],J=I;J<u.length;J++)me.push("..");return me=me.concat(p.slice(I)),me.join("/")}};function wt(l,a,d){var u=d>0?d:N(l)+1,p=new Array(u),g=L(l,p,0,p.length);return a&&(p.length=g),p}var bt={ttys:[],init:function(){},shutdown:function(){},register:function(l,a){bt.ttys[l]={input:[],output:[],ops:a},m.registerDevice(l,bt.stream_ops)},stream_ops:{open:function(l){var a=bt.ttys[l.node.rdev];if(!a)throw new m.ErrnoError(43);l.tty=a,l.seekable=!1},close:function(l){l.tty.ops.fsync(l.tty)},fsync:function(l){l.tty.ops.fsync(l.tty)},read:function(l,a,d,u,p){if(!l.tty||!l.tty.ops.get_char)throw new m.ErrnoError(60);for(var g=0,I=0;I<u;I++){var J;try{J=l.tty.ops.get_char(l.tty)}catch{throw new m.ErrnoError(29)}if(J===void 0&&g===0)throw new m.ErrnoError(6);if(J==null)break;g++,a[d+I]=J}return g&&(l.node.timestamp=Date.now()),g},write:function(l,a,d,u,p){if(!l.tty||!l.tty.ops.put_char)throw new m.ErrnoError(60);try{for(var g=0;g<u;g++)l.tty.ops.put_char(l.tty,a[d+g])}catch{throw new m.ErrnoError(29)}return u&&(l.node.timestamp=Date.now()),g}},default_tty_ops:{get_char:function(l){if(!l.input.length){var a=null;if(typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`)),!a)return null;l.input=wt(a,!0)}return l.input.shift()},put_char:function(l,a){a===null||a===10?(Q(x(l.output,0)),l.output=[]):a!=0&&l.output.push(a)},fsync:function(l){l.output&&l.output.length>0&&(Q(x(l.output,0)),l.output=[])}},default_tty1_ops:{put_char:function(l,a){a===null||a===10?(U(x(l.output,0)),l.output=[]):a!=0&&l.output.push(a)},fsync:function(l){l.output&&l.output.length>0&&(U(x(l.output,0)),l.output=[])}}};function Ot(l,a){return Ie.fill(0,l,l+a),l}function Dt(l,a){return Math.ceil(l/a)*a}function Jt(l){l=Dt(l,65536);var a=Lc(65536,l);return a?Ot(a,l):0}var pt={ops_table:null,mount:function(l){return pt.createNode(null,"/",16895,0)},createNode:function(l,a,d,u){if(m.isBlkdev(d)||m.isFIFO(d))throw new m.ErrnoError(63);pt.ops_table||(pt.ops_table={dir:{node:{getattr:pt.node_ops.getattr,setattr:pt.node_ops.setattr,lookup:pt.node_ops.lookup,mknod:pt.node_ops.mknod,rename:pt.node_ops.rename,unlink:pt.node_ops.unlink,rmdir:pt.node_ops.rmdir,readdir:pt.node_ops.readdir,symlink:pt.node_ops.symlink},stream:{llseek:pt.stream_ops.llseek}},file:{node:{getattr:pt.node_ops.getattr,setattr:pt.node_ops.setattr},stream:{llseek:pt.stream_ops.llseek,read:pt.stream_ops.read,write:pt.stream_ops.write,allocate:pt.stream_ops.allocate,mmap:pt.stream_ops.mmap,msync:pt.stream_ops.msync}},link:{node:{getattr:pt.node_ops.getattr,setattr:pt.node_ops.setattr,readlink:pt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:pt.node_ops.getattr,setattr:pt.node_ops.setattr},stream:m.chrdev_stream_ops}});var p=m.createNode(l,a,d,u);return m.isDir(p.mode)?(p.node_ops=pt.ops_table.dir.node,p.stream_ops=pt.ops_table.dir.stream,p.contents={}):m.isFile(p.mode)?(p.node_ops=pt.ops_table.file.node,p.stream_ops=pt.ops_table.file.stream,p.usedBytes=0,p.contents=null):m.isLink(p.mode)?(p.node_ops=pt.ops_table.link.node,p.stream_ops=pt.ops_table.link.stream):m.isChrdev(p.mode)&&(p.node_ops=pt.ops_table.chrdev.node,p.stream_ops=pt.ops_table.chrdev.stream),p.timestamp=Date.now(),l&&(l.contents[a]=p,l.timestamp=p.timestamp),p},getFileDataAsTypedArray:function(l){return l.contents?l.contents.subarray?l.contents.subarray(0,l.usedBytes):new Uint8Array(l.contents):new Uint8Array(0)},expandFileStorage:function(l,a){var d=l.contents?l.contents.length:0;if(!(d>=a)){var u=1024*1024;a=Math.max(a,d*(d<u?2:1.125)>>>0),d!=0&&(a=Math.max(a,256));var p=l.contents;l.contents=new Uint8Array(a),l.usedBytes>0&&l.contents.set(p.subarray(0,l.usedBytes),0)}},resizeFileStorage:function(l,a){if(l.usedBytes!=a)if(a==0)l.contents=null,l.usedBytes=0;else{var d=l.contents;l.contents=new Uint8Array(a),d&&l.contents.set(d.subarray(0,Math.min(a,l.usedBytes))),l.usedBytes=a}},node_ops:{getattr:function(l){var a={};return a.dev=m.isChrdev(l.mode)?l.id:1,a.ino=l.id,a.mode=l.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=l.rdev,m.isDir(l.mode)?a.size=4096:m.isFile(l.mode)?a.size=l.usedBytes:m.isLink(l.mode)?a.size=l.link.length:a.size=0,a.atime=new Date(l.timestamp),a.mtime=new Date(l.timestamp),a.ctime=new Date(l.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(l,a){a.mode!==void 0&&(l.mode=a.mode),a.timestamp!==void 0&&(l.timestamp=a.timestamp),a.size!==void 0&&pt.resizeFileStorage(l,a.size)},lookup:function(l,a){throw m.genericErrors[44]},mknod:function(l,a,d,u){return pt.createNode(l,a,d,u)},rename:function(l,a,d){if(m.isDir(l.mode)){var u;try{u=m.lookupNode(a,d)}catch{}if(u)for(var p in u.contents)throw new m.ErrnoError(55)}delete l.parent.contents[l.name],l.parent.timestamp=Date.now(),l.name=d,a.contents[d]=l,a.timestamp=l.parent.timestamp,l.parent=a},unlink:function(l,a){delete l.contents[a],l.timestamp=Date.now()},rmdir:function(l,a){var d=m.lookupNode(l,a);for(var u in d.contents)throw new m.ErrnoError(55);delete l.contents[a],l.timestamp=Date.now()},readdir:function(l){var a=[".",".."];for(var d in l.contents)l.contents.hasOwnProperty(d)&&a.push(d);return a},symlink:function(l,a,d){var u=pt.createNode(l,a,41471,0);return u.link=d,u},readlink:function(l){if(!m.isLink(l.mode))throw new m.ErrnoError(28);return l.link}},stream_ops:{read:function(l,a,d,u,p){var g=l.node.contents;if(p>=l.node.usedBytes)return 0;var I=Math.min(l.node.usedBytes-p,u);if(I>8&&g.subarray)a.set(g.subarray(p,p+I),d);else for(var J=0;J<I;J++)a[d+J]=g[p+J];return I},write:function(l,a,d,u,p,g){if(a.buffer===re.buffer&&(g=!1),!u)return 0;var I=l.node;if(I.timestamp=Date.now(),a.subarray&&(!I.contents||I.contents.subarray)){if(g)return I.contents=a.subarray(d,d+u),I.usedBytes=u,u;if(I.usedBytes===0&&p===0)return I.contents=a.slice(d,d+u),I.usedBytes=u,u;if(p+u<=I.usedBytes)return I.contents.set(a.subarray(d,d+u),p),u}if(pt.expandFileStorage(I,p+u),I.contents.subarray&&a.subarray)I.contents.set(a.subarray(d,d+u),p);else for(var J=0;J<u;J++)I.contents[p+J]=a[d+J];return I.usedBytes=Math.max(I.usedBytes,p+u),u},llseek:function(l,a,d){var u=a;if(d===1?u+=l.position:d===2&&m.isFile(l.node.mode)&&(u+=l.node.usedBytes),u<0)throw new m.ErrnoError(28);return u},allocate:function(l,a,d){pt.expandFileStorage(l.node,a+d),l.node.usedBytes=Math.max(l.node.usedBytes,a+d)},mmap:function(l,a,d,u,p){if(!m.isFile(l.node.mode))throw new m.ErrnoError(43);var g,I,J=l.node.contents;if(!(p&2)&&J.buffer===re.buffer)I=!1,g=J.byteOffset;else{if((d>0||d+a<J.length)&&(J.subarray?J=J.subarray(d,d+a):J=Array.prototype.slice.call(J,d,d+a)),I=!0,g=Jt(a),!g)throw new m.ErrnoError(48);re.set(J,g)}return{ptr:g,allocated:I}},msync:function(l,a,d,u,p){return pt.stream_ops.write(l,a,0,u,d,!1),0}}};function bn(l,a,d,u){var p=u?"":"al "+l;G(l,g=>{te(g,'Loading data file "'+l+'" failed (no arrayBuffer).'),a(new Uint8Array(g)),p&&R()},g=>{if(d)d();else throw'Loading data file "'+l+'" failed.'}),p&&P()}var m={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(l,a={})=>{if(l=lt.resolve(l),!l)return{path:"",node:null};var d={follow_mount:!0,recurse_count:0};if(a=Object.assign(d,a),a.recurse_count>8)throw new m.ErrnoError(32);for(var u=l.split("/").filter(ct=>!!ct),p=m.root,g="/",I=0;I<u.length;I++){var J=I===u.length-1;if(J&&a.parent)break;if(p=m.lookupNode(p,u[I]),g=Oe.join2(g,u[I]),m.isMountpoint(p)&&(!J||J&&a.follow_mount)&&(p=p.mounted.root),!J||a.follow)for(var me=0;m.isLink(p.mode);){var Ne=m.readlink(g);g=lt.resolve(Oe.dirname(g),Ne);var Ge=m.lookupPath(g,{recurse_count:a.recurse_count+1});if(p=Ge.node,me++>40)throw new m.ErrnoError(32)}}return{path:g,node:p}},getPath:l=>{for(var a;;){if(m.isRoot(l)){var d=l.mount.mountpoint;return a?d[d.length-1]!=="/"?d+"/"+a:d+a:d}a=a?l.name+"/"+a:l.name,l=l.parent}},hashName:(l,a)=>{for(var d=0,u=0;u<a.length;u++)d=(d<<5)-d+a.charCodeAt(u)|0;return(l+d>>>0)%m.nameTable.length},hashAddNode:l=>{var a=m.hashName(l.parent.id,l.name);l.name_next=m.nameTable[a],m.nameTable[a]=l},hashRemoveNode:l=>{var a=m.hashName(l.parent.id,l.name);if(m.nameTable[a]===l)m.nameTable[a]=l.name_next;else for(var d=m.nameTable[a];d;){if(d.name_next===l){d.name_next=l.name_next;break}d=d.name_next}},lookupNode:(l,a)=>{var d=m.mayLookup(l);if(d)throw new m.ErrnoError(d,l);for(var u=m.hashName(l.id,a),p=m.nameTable[u];p;p=p.name_next){var g=p.name;if(p.parent.id===l.id&&g===a)return p}return m.lookup(l,a)},createNode:(l,a,d,u)=>{var p=new m.FSNode(l,a,d,u);return m.hashAddNode(p),p},destroyNode:l=>{m.hashRemoveNode(l)},isRoot:l=>l===l.parent,isMountpoint:l=>!!l.mounted,isFile:l=>(l&61440)===32768,isDir:l=>(l&61440)===16384,isLink:l=>(l&61440)===40960,isChrdev:l=>(l&61440)===8192,isBlkdev:l=>(l&61440)===24576,isFIFO:l=>(l&61440)===4096,isSocket:l=>(l&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:l=>{var a=m.flagModes[l];if(typeof a>"u")throw new Error("Unknown file open mode: "+l);return a},flagsToPermissionString:l=>{var a=["r","w","rw"][l&3];return l&512&&(a+="w"),a},nodePermissions:(l,a)=>m.ignorePermissions?0:a.includes("r")&&!(l.mode&292)||a.includes("w")&&!(l.mode&146)||a.includes("x")&&!(l.mode&73)?2:0,mayLookup:l=>{var a=m.nodePermissions(l,"x");return a||(l.node_ops.lookup?0:2)},mayCreate:(l,a)=>{try{var d=m.lookupNode(l,a);return 20}catch{}return m.nodePermissions(l,"wx")},mayDelete:(l,a,d)=>{var u;try{u=m.lookupNode(l,a)}catch(g){return g.errno}var p=m.nodePermissions(l,"wx");if(p)return p;if(d){if(!m.isDir(u.mode))return 54;if(m.isRoot(u)||m.getPath(u)===m.cwd())return 10}else if(m.isDir(u.mode))return 31;return 0},mayOpen:(l,a)=>l?m.isLink(l.mode)?32:m.isDir(l.mode)&&(m.flagsToPermissionString(a)!=="r"||a&512)?31:m.nodePermissions(l,m.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:(l=0,a=m.MAX_OPEN_FDS)=>{for(var d=l;d<=a;d++)if(!m.streams[d])return d;throw new m.ErrnoError(33)},getStream:l=>m.streams[l],createStream:(l,a,d)=>{m.FSStream||(m.FSStream=function(){this.shared={}},m.FSStream.prototype={},Object.defineProperties(m.FSStream.prototype,{object:{get:function(){return this.node},set:function(p){this.node=p}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(p){this.shared.flags=p}},position:{get:function(){return this.shared.position},set:function(p){this.shared.position=p}}})),l=Object.assign(new m.FSStream,l);var u=m.nextfd(a,d);return l.fd=u,m.streams[u]=l,l},closeStream:l=>{m.streams[l]=null},chrdev_stream_ops:{open:l=>{var a=m.getDevice(l.node.rdev);l.stream_ops=a.stream_ops,l.stream_ops.open&&l.stream_ops.open(l)},llseek:()=>{throw new m.ErrnoError(70)}},major:l=>l>>8,minor:l=>l&255,makedev:(l,a)=>l<<8|a,registerDevice:(l,a)=>{m.devices[l]={stream_ops:a}},getDevice:l=>m.devices[l],getMounts:l=>{for(var a=[],d=[l];d.length;){var u=d.pop();a.push(u),d.push.apply(d,u.mounts)}return a},syncfs:(l,a)=>{typeof l=="function"&&(a=l,l=!1),m.syncFSRequests++,m.syncFSRequests>1&&U("warning: "+m.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var d=m.getMounts(m.root.mount),u=0;function p(I){return m.syncFSRequests--,a(I)}function g(I){if(I)return g.errored?void 0:(g.errored=!0,p(I));++u>=d.length&&p(null)}d.forEach(I=>{if(!I.type.syncfs)return g(null);I.type.syncfs(I,l,g)})},mount:(l,a,d)=>{var u=d==="/",p=!d,g;if(u&&m.root)throw new m.ErrnoError(10);if(!u&&!p){var I=m.lookupPath(d,{follow_mount:!1});if(d=I.path,g=I.node,m.isMountpoint(g))throw new m.ErrnoError(10);if(!m.isDir(g.mode))throw new m.ErrnoError(54)}var J={type:l,opts:a,mountpoint:d,mounts:[]},me=l.mount(J);return me.mount=J,J.root=me,u?m.root=me:g&&(g.mounted=J,g.mount&&g.mount.mounts.push(J)),me},unmount:l=>{var a=m.lookupPath(l,{follow_mount:!1});if(!m.isMountpoint(a.node))throw new m.ErrnoError(28);var d=a.node,u=d.mounted,p=m.getMounts(u);Object.keys(m.nameTable).forEach(I=>{for(var J=m.nameTable[I];J;){var me=J.name_next;p.includes(J.mount)&&m.destroyNode(J),J=me}}),d.mounted=null;var g=d.mount.mounts.indexOf(u);d.mount.mounts.splice(g,1)},lookup:(l,a)=>l.node_ops.lookup(l,a),mknod:(l,a,d)=>{var u=m.lookupPath(l,{parent:!0}),p=u.node,g=Oe.basename(l);if(!g||g==="."||g==="..")throw new m.ErrnoError(28);var I=m.mayCreate(p,g);if(I)throw new m.ErrnoError(I);if(!p.node_ops.mknod)throw new m.ErrnoError(63);return p.node_ops.mknod(p,g,a,d)},create:(l,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,m.mknod(l,a,0)),mkdir:(l,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,m.mknod(l,a,0)),mkdirTree:(l,a)=>{for(var d=l.split("/"),u="",p=0;p<d.length;++p)if(d[p]){u+="/"+d[p];try{m.mkdir(u,a)}catch(g){if(g.errno!=20)throw g}}},mkdev:(l,a,d)=>(typeof d>"u"&&(d=a,a=438),a|=8192,m.mknod(l,a,d)),symlink:(l,a)=>{if(!lt.resolve(l))throw new m.ErrnoError(44);var d=m.lookupPath(a,{parent:!0}),u=d.node;if(!u)throw new m.ErrnoError(44);var p=Oe.basename(a),g=m.mayCreate(u,p);if(g)throw new m.ErrnoError(g);if(!u.node_ops.symlink)throw new m.ErrnoError(63);return u.node_ops.symlink(u,p,l)},rename:(l,a)=>{var d=Oe.dirname(l),u=Oe.dirname(a),p=Oe.basename(l),g=Oe.basename(a),I,J,me;if(I=m.lookupPath(l,{parent:!0}),J=I.node,I=m.lookupPath(a,{parent:!0}),me=I.node,!J||!me)throw new m.ErrnoError(44);if(J.mount!==me.mount)throw new m.ErrnoError(75);var Ne=m.lookupNode(J,p),Ge=lt.relative(l,u);if(Ge.charAt(0)!==".")throw new m.ErrnoError(28);if(Ge=lt.relative(a,d),Ge.charAt(0)!==".")throw new m.ErrnoError(55);var ct;try{ct=m.lookupNode(me,g)}catch{}if(Ne!==ct){var ie=m.isDir(Ne.mode),T=m.mayDelete(J,p,ie);if(T)throw new m.ErrnoError(T);if(T=ct?m.mayDelete(me,g,ie):m.mayCreate(me,g),T)throw new m.ErrnoError(T);if(!J.node_ops.rename)throw new m.ErrnoError(63);if(m.isMountpoint(Ne)||ct&&m.isMountpoint(ct))throw new m.ErrnoError(10);if(me!==J&&(T=m.nodePermissions(J,"w"),T))throw new m.ErrnoError(T);m.hashRemoveNode(Ne);try{J.node_ops.rename(Ne,me,g)}catch(C){throw C}finally{m.hashAddNode(Ne)}}},rmdir:l=>{var a=m.lookupPath(l,{parent:!0}),d=a.node,u=Oe.basename(l),p=m.lookupNode(d,u),g=m.mayDelete(d,u,!0);if(g)throw new m.ErrnoError(g);if(!d.node_ops.rmdir)throw new m.ErrnoError(63);if(m.isMountpoint(p))throw new m.ErrnoError(10);d.node_ops.rmdir(d,u),m.destroyNode(p)},readdir:l=>{var a=m.lookupPath(l,{follow:!0}),d=a.node;if(!d.node_ops.readdir)throw new m.ErrnoError(54);return d.node_ops.readdir(d)},unlink:l=>{var a=m.lookupPath(l,{parent:!0}),d=a.node;if(!d)throw new m.ErrnoError(44);var u=Oe.basename(l),p=m.lookupNode(d,u),g=m.mayDelete(d,u,!1);if(g)throw new m.ErrnoError(g);if(!d.node_ops.unlink)throw new m.ErrnoError(63);if(m.isMountpoint(p))throw new m.ErrnoError(10);d.node_ops.unlink(d,u),m.destroyNode(p)},readlink:l=>{var a=m.lookupPath(l),d=a.node;if(!d)throw new m.ErrnoError(44);if(!d.node_ops.readlink)throw new m.ErrnoError(28);return lt.resolve(m.getPath(d.parent),d.node_ops.readlink(d))},stat:(l,a)=>{var d=m.lookupPath(l,{follow:!a}),u=d.node;if(!u)throw new m.ErrnoError(44);if(!u.node_ops.getattr)throw new m.ErrnoError(63);return u.node_ops.getattr(u)},lstat:l=>m.stat(l,!0),chmod:(l,a,d)=>{var u;if(typeof l=="string"){var p=m.lookupPath(l,{follow:!d});u=p.node}else u=l;if(!u.node_ops.setattr)throw new m.ErrnoError(63);u.node_ops.setattr(u,{mode:a&4095|u.mode&-4096,timestamp:Date.now()})},lchmod:(l,a)=>{m.chmod(l,a,!0)},fchmod:(l,a)=>{var d=m.getStream(l);if(!d)throw new m.ErrnoError(8);m.chmod(d.node,a)},chown:(l,a,d,u)=>{var p;if(typeof l=="string"){var g=m.lookupPath(l,{follow:!u});p=g.node}else p=l;if(!p.node_ops.setattr)throw new m.ErrnoError(63);p.node_ops.setattr(p,{timestamp:Date.now()})},lchown:(l,a,d)=>{m.chown(l,a,d,!0)},fchown:(l,a,d)=>{var u=m.getStream(l);if(!u)throw new m.ErrnoError(8);m.chown(u.node,a,d)},truncate:(l,a)=>{if(a<0)throw new m.ErrnoError(28);var d;if(typeof l=="string"){var u=m.lookupPath(l,{follow:!0});d=u.node}else d=l;if(!d.node_ops.setattr)throw new m.ErrnoError(63);if(m.isDir(d.mode))throw new m.ErrnoError(31);if(!m.isFile(d.mode))throw new m.ErrnoError(28);var p=m.nodePermissions(d,"w");if(p)throw new m.ErrnoError(p);d.node_ops.setattr(d,{size:a,timestamp:Date.now()})},ftruncate:(l,a)=>{var d=m.getStream(l);if(!d)throw new m.ErrnoError(8);if(!(d.flags&2097155))throw new m.ErrnoError(28);m.truncate(d.node,a)},utime:(l,a,d)=>{var u=m.lookupPath(l,{follow:!0}),p=u.node;p.node_ops.setattr(p,{timestamp:Math.max(a,d)})},open:(l,a,d)=>{if(l==="")throw new m.ErrnoError(44);a=typeof a=="string"?m.modeStringToFlags(a):a,d=typeof d>"u"?438:d,a&64?d=d&4095|32768:d=0;var u;if(typeof l=="object")u=l;else{l=Oe.normalize(l);try{var p=m.lookupPath(l,{follow:!(a&131072)});u=p.node}catch{}}var g=!1;if(a&64)if(u){if(a&128)throw new m.ErrnoError(20)}else u=m.mknod(l,d,0),g=!0;if(!u)throw new m.ErrnoError(44);if(m.isChrdev(u.mode)&&(a&=-513),a&65536&&!m.isDir(u.mode))throw new m.ErrnoError(54);if(!g){var I=m.mayOpen(u,a);if(I)throw new m.ErrnoError(I)}a&512&&!g&&m.truncate(u,0),a&=-131713;var J=m.createStream({node:u,path:m.getPath(u),flags:a,seekable:!0,position:0,stream_ops:u.stream_ops,ungotten:[],error:!1});return J.stream_ops.open&&J.stream_ops.open(J),n.logReadFiles&&!(a&1)&&(m.readFiles||(m.readFiles={}),l in m.readFiles||(m.readFiles[l]=1)),J},close:l=>{if(m.isClosed(l))throw new m.ErrnoError(8);l.getdents&&(l.getdents=null);try{l.stream_ops.close&&l.stream_ops.close(l)}catch(a){throw a}finally{m.closeStream(l.fd)}l.fd=null},isClosed:l=>l.fd===null,llseek:(l,a,d)=>{if(m.isClosed(l))throw new m.ErrnoError(8);if(!l.seekable||!l.stream_ops.llseek)throw new m.ErrnoError(70);if(d!=0&&d!=1&&d!=2)throw new m.ErrnoError(28);return l.position=l.stream_ops.llseek(l,a,d),l.ungotten=[],l.position},read:(l,a,d,u,p)=>{if(u<0||p<0)throw new m.ErrnoError(28);if(m.isClosed(l))throw new m.ErrnoError(8);if((l.flags&2097155)===1)throw new m.ErrnoError(8);if(m.isDir(l.node.mode))throw new m.ErrnoError(31);if(!l.stream_ops.read)throw new m.ErrnoError(28);var g=typeof p<"u";if(!g)p=l.position;else if(!l.seekable)throw new m.ErrnoError(70);var I=l.stream_ops.read(l,a,d,u,p);return g||(l.position+=I),I},write:(l,a,d,u,p,g)=>{if(u<0||p<0)throw new m.ErrnoError(28);if(m.isClosed(l))throw new m.ErrnoError(8);if(!(l.flags&2097155))throw new m.ErrnoError(8);if(m.isDir(l.node.mode))throw new m.ErrnoError(31);if(!l.stream_ops.write)throw new m.ErrnoError(28);l.seekable&&l.flags&1024&&m.llseek(l,0,2);var I=typeof p<"u";if(!I)p=l.position;else if(!l.seekable)throw new m.ErrnoError(70);var J=l.stream_ops.write(l,a,d,u,p,g);return I||(l.position+=J),J},allocate:(l,a,d)=>{if(m.isClosed(l))throw new m.ErrnoError(8);if(a<0||d<=0)throw new m.ErrnoError(28);if(!(l.flags&2097155))throw new m.ErrnoError(8);if(!m.isFile(l.node.mode)&&!m.isDir(l.node.mode))throw new m.ErrnoError(43);if(!l.stream_ops.allocate)throw new m.ErrnoError(138);l.stream_ops.allocate(l,a,d)},mmap:(l,a,d,u,p)=>{if(u&2&&!(p&2)&&(l.flags&2097155)!==2)throw new m.ErrnoError(2);if((l.flags&2097155)===1)throw new m.ErrnoError(2);if(!l.stream_ops.mmap)throw new m.ErrnoError(43);return l.stream_ops.mmap(l,a,d,u,p)},msync:(l,a,d,u,p)=>l.stream_ops.msync?l.stream_ops.msync(l,a,d,u,p):0,munmap:l=>0,ioctl:(l,a,d)=>{if(!l.stream_ops.ioctl)throw new m.ErrnoError(59);return l.stream_ops.ioctl(l,a,d)},readFile:(l,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error('Invalid encoding type "'+a.encoding+'"');var d,u=m.open(l,a.flags),p=m.stat(l),g=p.size,I=new Uint8Array(g);return m.read(u,I,0,g,0),a.encoding==="utf8"?d=x(I,0):a.encoding==="binary"&&(d=I),m.close(u),d},writeFile:(l,a,d={})=>{d.flags=d.flags||577;var u=m.open(l,d.flags,d.mode);if(typeof a=="string"){var p=new Uint8Array(N(a)+1),g=L(a,p,0,p.length);m.write(u,p,0,g,void 0,d.canOwn)}else if(ArrayBuffer.isView(a))m.write(u,a,0,a.byteLength,void 0,d.canOwn);else throw new Error("Unsupported data type");m.close(u)},cwd:()=>m.currentPath,chdir:l=>{var a=m.lookupPath(l,{follow:!0});if(a.node===null)throw new m.ErrnoError(44);if(!m.isDir(a.node.mode))throw new m.ErrnoError(54);var d=m.nodePermissions(a.node,"x");if(d)throw new m.ErrnoError(d);m.currentPath=a.path},createDefaultDirectories:()=>{m.mkdir("/tmp"),m.mkdir("/home"),m.mkdir("/home/web_user")},createDefaultDevices:()=>{m.mkdir("/dev"),m.registerDevice(m.makedev(1,3),{read:()=>0,write:(a,d,u,p,g)=>p}),m.mkdev("/dev/null",m.makedev(1,3)),bt.register(m.makedev(5,0),bt.default_tty_ops),bt.register(m.makedev(6,0),bt.default_tty1_ops),m.mkdev("/dev/tty",m.makedev(5,0)),m.mkdev("/dev/tty1",m.makedev(6,0));var l=et();m.createDevice("/dev","random",l),m.createDevice("/dev","urandom",l),m.mkdir("/dev/shm"),m.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{m.mkdir("/proc");var l=m.mkdir("/proc/self");m.mkdir("/proc/self/fd"),m.mount({mount:()=>{var a=m.createNode(l,"fd",16895,73);return a.node_ops={lookup:(d,u)=>{var p=+u,g=m.getStream(p);if(!g)throw new m.ErrnoError(8);var I={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>g.path}};return I.parent=I,I}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{n.stdin?m.createDevice("/dev","stdin",n.stdin):m.symlink("/dev/tty","/dev/stdin"),n.stdout?m.createDevice("/dev","stdout",null,n.stdout):m.symlink("/dev/tty","/dev/stdout"),n.stderr?m.createDevice("/dev","stderr",null,n.stderr):m.symlink("/dev/tty1","/dev/stderr"),m.open("/dev/stdin",0),m.open("/dev/stdout",1),m.open("/dev/stderr",1)},ensureErrnoError:()=>{m.ErrnoError||(m.ErrnoError=function(a,d){this.node=d,this.setErrno=function(u){this.errno=u},this.setErrno(a),this.message="FS error"},m.ErrnoError.prototype=new Error,m.ErrnoError.prototype.constructor=m.ErrnoError,[44].forEach(l=>{m.genericErrors[l]=new m.ErrnoError(l),m.genericErrors[l].stack="<generic error, no stack>"}))},staticInit:()=>{m.ensureErrnoError(),m.nameTable=new Array(4096),m.mount(pt,{},"/"),m.createDefaultDirectories(),m.createDefaultDevices(),m.createSpecialDirectories(),m.filesystems={MEMFS:pt}},init:(l,a,d)=>{m.init.initialized=!0,m.ensureErrnoError(),n.stdin=l||n.stdin,n.stdout=a||n.stdout,n.stderr=d||n.stderr,m.createStandardStreams()},quit:()=>{m.init.initialized=!1;for(var l=0;l<m.streams.length;l++){var a=m.streams[l];a&&m.close(a)}},getMode:(l,a)=>{var d=0;return l&&(d|=365),a&&(d|=146),d},findObject:(l,a)=>{var d=m.analyzePath(l,a);return d.exists?d.object:null},analyzePath:(l,a)=>{try{var d=m.lookupPath(l,{follow:!a});l=d.path}catch{}var u={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var d=m.lookupPath(l,{parent:!0});u.parentExists=!0,u.parentPath=d.path,u.parentObject=d.node,u.name=Oe.basename(l),d=m.lookupPath(l,{follow:!a}),u.exists=!0,u.path=d.path,u.object=d.node,u.name=d.node.name,u.isRoot=d.path==="/"}catch(p){u.error=p.errno}return u},createPath:(l,a,d,u)=>{l=typeof l=="string"?l:m.getPath(l);for(var p=a.split("/").reverse();p.length;){var g=p.pop();if(g){var I=Oe.join2(l,g);try{m.mkdir(I)}catch{}l=I}}return I},createFile:(l,a,d,u,p)=>{var g=Oe.join2(typeof l=="string"?l:m.getPath(l),a),I=m.getMode(u,p);return m.create(g,I)},createDataFile:(l,a,d,u,p,g)=>{var I=a;l&&(l=typeof l=="string"?l:m.getPath(l),I=a?Oe.join2(l,a):l);var J=m.getMode(u,p),me=m.create(I,J);if(d){if(typeof d=="string"){for(var Ne=new Array(d.length),Ge=0,ct=d.length;Ge<ct;++Ge)Ne[Ge]=d.charCodeAt(Ge);d=Ne}m.chmod(me,J|146);var ie=m.open(me,577);m.write(ie,d,0,d.length,0,g),m.close(ie),m.chmod(me,J)}return me},createDevice:(l,a,d,u)=>{var p=Oe.join2(typeof l=="string"?l:m.getPath(l),a),g=m.getMode(!!d,!!u);m.createDevice.major||(m.createDevice.major=64);var I=m.makedev(m.createDevice.major++,0);return m.registerDevice(I,{open:J=>{J.seekable=!1},close:J=>{u&&u.buffer&&u.buffer.length&&u(10)},read:(J,me,Ne,Ge,ct)=>{for(var ie=0,T=0;T<Ge;T++){var C;try{C=d()}catch{throw new m.ErrnoError(29)}if(C===void 0&&ie===0)throw new m.ErrnoError(6);if(C==null)break;ie++,me[Ne+T]=C}return ie&&(J.node.timestamp=Date.now()),ie},write:(J,me,Ne,Ge,ct)=>{for(var ie=0;ie<Ge;ie++)try{u(me[Ne+ie])}catch{throw new m.ErrnoError(29)}return Ge&&(J.node.timestamp=Date.now()),ie}}),m.mkdev(p,g,I)},forceLoadFile:l=>{if(l.isDevice||l.isFolder||l.link||l.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(M)try{l.contents=wt(M(l.url),!0),l.usedBytes=l.contents.length}catch{throw new m.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(l,a,d,u,p)=>{function g(){this.lengthKnown=!1,this.chunks=[]}if(g.prototype.get=function(T){if(!(T>this.length-1||T<0)){var C=T%this.chunkSize,B=T/this.chunkSize|0;return this.getter(B)[C]}},g.prototype.setDataGetter=function(T){this.getter=T},g.prototype.cacheLength=function(){var T=new XMLHttpRequest;if(T.open("HEAD",d,!1),T.send(null),!(T.status>=200&&T.status<300||T.status===304))throw new Error("Couldn't load "+d+". Status: "+T.status);var C=Number(T.getResponseHeader("Content-length")),B,z=(B=T.getResponseHeader("Accept-Ranges"))&&B==="bytes",F=(B=T.getResponseHeader("Content-Encoding"))&&B==="gzip",xe=1024*1024;z||(xe=C);var Re=(je,gt)=>{if(je>gt)throw new Error("invalid range ("+je+", "+gt+") or no bytes requested!");if(gt>C-1)throw new Error("only "+C+" bytes available! programmer error!");var q=new XMLHttpRequest;if(q.open("GET",d,!1),C!==xe&&q.setRequestHeader("Range","bytes="+je+"-"+gt),q.responseType="arraybuffer",q.overrideMimeType&&q.overrideMimeType("text/plain; charset=x-user-defined"),q.send(null),!(q.status>=200&&q.status<300||q.status===304))throw new Error("Couldn't load "+d+". Status: "+q.status);return q.response!==void 0?new Uint8Array(q.response||[]):wt(q.responseText||"",!0)},ve=this;ve.setDataGetter(je=>{var gt=je*xe,q=(je+1)*xe-1;if(q=Math.min(q,C-1),typeof ve.chunks[je]>"u"&&(ve.chunks[je]=Re(gt,q)),typeof ve.chunks[je]>"u")throw new Error("doXHR failed!");return ve.chunks[je]}),(F||!C)&&(xe=C=1,C=this.getter(0).length,xe=C,Q("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=C,this._chunkSize=xe,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!y)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var I=new g;Object.defineProperties(I,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var J={isDevice:!1,contents:I}}else var J={isDevice:!1,url:d};var me=m.createFile(l,a,J,u,p);J.contents?me.contents=J.contents:J.url&&(me.contents=null,me.url=J.url),Object.defineProperties(me,{usedBytes:{get:function(){return this.contents.length}}});var Ne={},Ge=Object.keys(me.stream_ops);Ge.forEach(ie=>{var T=me.stream_ops[ie];Ne[ie]=function(){return m.forceLoadFile(me),T.apply(null,arguments)}});function ct(ie,T,C,B,z){var F=ie.node.contents;if(z>=F.length)return 0;var xe=Math.min(F.length-z,B);if(F.slice)for(var Re=0;Re<xe;Re++)T[C+Re]=F[z+Re];else for(var Re=0;Re<xe;Re++)T[C+Re]=F.get(z+Re);return xe}return Ne.read=(ie,T,C,B,z)=>(m.forceLoadFile(me),ct(ie,T,C,B,z)),Ne.mmap=(ie,T,C,B,z)=>{m.forceLoadFile(me);var F=Jt(T);if(!F)throw new m.ErrnoError(48);return ct(ie,re,F,T,C),{ptr:F,allocated:!0}},me.stream_ops=Ne,me},createPreloadedFile:(l,a,d,u,p,g,I,J,me,Ne)=>{var Ge=a?lt.resolve(Oe.join2(l,a)):l;function ct(ie){function T(C){Ne&&Ne(),J||m.createDataFile(l,a,C,u,p,me),g&&g(),R()}Browser.handledByPreloadPlugin(ie,Ge,T,()=>{I&&I(),R()})||T(ie)}P(),typeof d=="string"?bn(d,ie=>ct(ie),I):ct(d)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(l,a,d)=>{a=a||(()=>{}),d=d||(()=>{});var u=m.indexedDB();try{var p=u.open(m.DB_NAME(),m.DB_VERSION)}catch(g){return d(g)}p.onupgradeneeded=()=>{Q("creating db");var g=p.result;g.createObjectStore(m.DB_STORE_NAME)},p.onsuccess=()=>{var g=p.result,I=g.transaction([m.DB_STORE_NAME],"readwrite"),J=I.objectStore(m.DB_STORE_NAME),me=0,Ne=0,Ge=l.length;function ct(){Ne==0?a():d()}l.forEach(ie=>{var T=J.put(m.analyzePath(ie).object.contents,ie);T.onsuccess=()=>{me++,me+Ne==Ge&&ct()},T.onerror=()=>{Ne++,me+Ne==Ge&&ct()}}),I.onerror=d},p.onerror=d},loadFilesFromDB:(l,a,d)=>{a=a||(()=>{}),d=d||(()=>{});var u=m.indexedDB();try{var p=u.open(m.DB_NAME(),m.DB_VERSION)}catch(g){return d(g)}p.onupgradeneeded=d,p.onsuccess=()=>{var g=p.result;try{var I=g.transaction([m.DB_STORE_NAME],"readonly")}catch(ie){d(ie);return}var J=I.objectStore(m.DB_STORE_NAME),me=0,Ne=0,Ge=l.length;function ct(){Ne==0?a():d()}l.forEach(ie=>{var T=J.get(ie);T.onsuccess=()=>{m.analyzePath(ie).exists&&m.unlink(ie),m.createDataFile(Oe.dirname(ie),Oe.basename(ie),T.result,!0,!0,!0),me++,me+Ne==Ge&&ct()},T.onerror=()=>{Ne++,me+Ne==Ge&&ct()}}),I.onerror=d},p.onerror=d}},nt={DEFAULT_POLLMASK:5,calculateAt:function(l,a,d){if(Oe.isAbs(a))return a;var u;if(l===-100)u=m.cwd();else{var p=nt.getStreamFromFD(l);u=p.path}if(a.length==0){if(!d)throw new m.ErrnoError(44);return u}return Oe.join2(u,a)},doStat:function(l,a,d){try{var u=l(a)}catch(J){if(J&&J.node&&Oe.normalize(a)!==Oe.normalize(m.getPath(J.node)))return-54;throw J}ae[d>>2]=u.dev,ae[d+8>>2]=u.ino,ae[d+12>>2]=u.mode,pe[d+16>>2]=u.nlink,ae[d+20>>2]=u.uid,ae[d+24>>2]=u.gid,ae[d+28>>2]=u.rdev,Le=[u.size>>>0,(ce=u.size,+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],ae[d+40>>2]=Le[0],ae[d+44>>2]=Le[1],ae[d+48>>2]=4096,ae[d+52>>2]=u.blocks;var p=u.atime.getTime(),g=u.mtime.getTime(),I=u.ctime.getTime();return Le=[Math.floor(p/1e3)>>>0,(ce=Math.floor(p/1e3),+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],ae[d+56>>2]=Le[0],ae[d+60>>2]=Le[1],pe[d+64>>2]=p%1e3*1e3,Le=[Math.floor(g/1e3)>>>0,(ce=Math.floor(g/1e3),+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],ae[d+72>>2]=Le[0],ae[d+76>>2]=Le[1],pe[d+80>>2]=g%1e3*1e3,Le=[Math.floor(I/1e3)>>>0,(ce=Math.floor(I/1e3),+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],ae[d+88>>2]=Le[0],ae[d+92>>2]=Le[1],pe[d+96>>2]=I%1e3*1e3,Le=[u.ino>>>0,(ce=u.ino,+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],ae[d+104>>2]=Le[0],ae[d+108>>2]=Le[1],0},doMsync:function(l,a,d,u,p){if(!m.isFile(a.node.mode))throw new m.ErrnoError(43);if(u&2)return 0;var g=Ie.slice(l,l+d);m.msync(a,g,p,d,u)},varargs:void 0,get:function(){nt.varargs+=4;var l=ae[nt.varargs-4>>2];return l},getStr:function(l){var a=S(l);return a},getStreamFromFD:function(l){var a=m.getStream(l);if(!a)throw new m.ErrnoError(8);return a}};function nn(l,a){try{return l=nt.getStr(l),m.chmod(l,a),0}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return-d.errno}}function yr(l,a,d,u){try{if(a=nt.getStr(a),a=nt.calculateAt(l,a),d&-8)return-28;var p=m.lookupPath(a,{follow:!0}),g=p.node;if(!g)return-44;var I="";return d&4&&(I+="r"),d&2&&(I+="w"),d&1&&(I+="x"),I&&m.nodePermissions(g,I)?-2:0}catch(J){if(typeof m>"u"||!(J instanceof m.ErrnoError))throw J;return-J.errno}}function xs(l,a){try{return m.fchmod(l,a),0}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return-d.errno}}function ks(l,a,d){try{return m.fchown(l,a,d),0}catch(u){if(typeof m>"u"||!(u instanceof m.ErrnoError))throw u;return-u.errno}}function Gi(l){return ae[Pc()>>2]=l,l}function Ji(l,a,d){nt.varargs=d;try{var u=nt.getStreamFromFD(l);switch(a){case 0:{var p=nt.get();if(p<0)return-28;var g;return g=m.createStream(u,p),g.fd}case 1:case 2:return 0;case 3:return u.flags;case 4:{var p=nt.get();return u.flags|=p,0}case 5:{var p=nt.get(),I=0;return Xe[p+I>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Gi(28),-1;default:return-28}}catch(J){if(typeof m>"u"||!(J instanceof m.ErrnoError))throw J;return-J.errno}}function qa(l,a){try{var d=nt.getStreamFromFD(l);return nt.doStat(m.stat,d.path,a)}catch(u){if(typeof m>"u"||!(u instanceof m.ErrnoError))throw u;return-u.errno}}var Xi=9007199254740992,Nn=-9007199254740992;function vr(l){return l<Nn||l>Xi?NaN:Number(l)}function Gr(l,a){try{return a=vr(a),isNaN(a)?-61:(m.ftruncate(l,a),0)}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return-d.errno}}function Sa(l,a){try{if(a===0)return-28;var d=m.cwd(),u=N(d)+1;return a<u?-68:(K(d,l,a),u)}catch(p){if(typeof m>"u"||!(p instanceof m.ErrnoError))throw p;return-p.errno}}function Yi(l,a,d){nt.varargs=d;try{var u=nt.getStreamFromFD(l);switch(a){case 21509:case 21505:return u.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return u.tty?0:-59;case 21519:{if(!u.tty)return-59;var p=nt.get();return ae[p>>2]=0,0}case 21520:return u.tty?-28:-59;case 21531:{var p=nt.get();return m.ioctl(u,a,p)}case 21523:return u.tty?0:-59;case 21524:return u.tty?0:-59;default:return-28}}catch(g){if(typeof m>"u"||!(g instanceof m.ErrnoError))throw g;return-g.errno}}function xa(l,a){try{return l=nt.getStr(l),nt.doStat(m.lstat,l,a)}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return-d.errno}}function Jr(l,a,d){try{return a=nt.getStr(a),a=nt.calculateAt(l,a),a=Oe.normalize(a),a[a.length-1]==="/"&&(a=a.substr(0,a.length-1)),m.mkdir(a,d,0),0}catch(u){if(typeof m>"u"||!(u instanceof m.ErrnoError))throw u;return-u.errno}}function ka(l,a,d,u){try{a=nt.getStr(a);var p=u&256,g=u&4096;return u=u&-6401,a=nt.calculateAt(l,a,g),nt.doStat(p?m.lstat:m.stat,a,d)}catch(I){if(typeof m>"u"||!(I instanceof m.ErrnoError))throw I;return-I.errno}}function Aa(l,a,d,u){nt.varargs=u;try{a=nt.getStr(a),a=nt.calculateAt(l,a);var p=u?nt.get():0;return m.open(a,d,p).fd}catch(g){if(typeof m>"u"||!(g instanceof m.ErrnoError))throw g;return-g.errno}}function Ca(l,a,d,u){try{if(a=nt.getStr(a),a=nt.calculateAt(l,a),u<=0)return-28;var p=m.readlink(a),g=Math.min(u,N(p)),I=re[d+g];return K(p,d,u+1),re[d+g]=I,g}catch(J){if(typeof m>"u"||!(J instanceof m.ErrnoError))throw J;return-J.errno}}function $n(l){try{return l=nt.getStr(l),m.rmdir(l),0}catch(a){if(typeof m>"u"||!(a instanceof m.ErrnoError))throw a;return-a.errno}}function Ta(l,a){try{return l=nt.getStr(l),nt.doStat(m.stat,l,a)}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return-d.errno}}function Oa(l,a,d){try{return a=nt.getStr(a),a=nt.calculateAt(l,a),d===0?m.unlink(a):d===512?m.rmdir(a):Z("Invalid flags passed to unlinkat"),0}catch(u){if(typeof m>"u"||!(u instanceof m.ErrnoError))throw u;return-u.errno}}function Xr(l){return pe[l>>2]+ae[l+4>>2]*4294967296}function Ia(l,a,d,u){try{if(a=nt.getStr(a),a=nt.calculateAt(l,a,!0),d){var I=Xr(d),J=ae[d+8>>2];p=I*1e3+J/(1e3*1e3),d+=16,I=Xr(d),J=ae[d+8>>2],g=I*1e3+J/(1e3*1e3)}else var p=Date.now(),g=p;return m.utime(a,p,g),0}catch(me){if(typeof m>"u"||!(me instanceof m.ErrnoError))throw me;return-me.errno}}var Yr=!0;function Zr(){return Yr}function br(l){return l%4===0&&(l%100!==0||l%400===0)}var wr=[0,31,60,91,121,152,182,213,244,274,305,335],ei=[0,31,59,90,120,151,181,212,243,273,304,334];function Pa(l){var a=br(l.getFullYear()),d=a?wr:ei,u=d[l.getMonth()]+l.getDate()-1;return u}function Er(l,a){var d=new Date(Xr(l)*1e3);ae[a>>2]=d.getSeconds(),ae[a+4>>2]=d.getMinutes(),ae[a+8>>2]=d.getHours(),ae[a+12>>2]=d.getDate(),ae[a+16>>2]=d.getMonth(),ae[a+20>>2]=d.getFullYear()-1900,ae[a+24>>2]=d.getDay();var u=Pa(d)|0;ae[a+28>>2]=u,ae[a+36>>2]=-(d.getTimezoneOffset()*60);var p=new Date(d.getFullYear(),0,1),g=new Date(d.getFullYear(),6,1).getTimezoneOffset(),I=p.getTimezoneOffset(),J=(g!=I&&d.getTimezoneOffset()==Math.min(I,g))|0;ae[a+32>>2]=J}function Zi(l,a,d,u,p,g,I){try{var J=nt.getStreamFromFD(u),me=m.mmap(J,l,p,a,d),Ne=me.ptr;return ae[g>>2]=me.allocated,pe[I>>2]=Ne,0}catch(Ge){if(typeof m>"u"||!(Ge instanceof m.ErrnoError))throw Ge;return-Ge.errno}}function oe(l,a,d,u,p,g){try{var I=nt.getStreamFromFD(p);d&2&&nt.doMsync(l,I,a,u,g),m.munmap(I)}catch(J){if(typeof m>"u"||!(J instanceof m.ErrnoError))throw J;return-J.errno}}function Ke(l){var a=N(l)+1,d=Rc(a);return d&&L(l,re,d,a),d}function Ct(l,a,d){var u=new Date().getFullYear(),p=new Date(u,0,1),g=new Date(u,6,1),I=p.getTimezoneOffset(),J=g.getTimezoneOffset(),me=Math.max(I,J);pe[l>>2]=me*60,ae[a>>2]=+(I!=J);function Ne(C){var B=C.toTimeString().match(/\(([A-Za-z ]+)\)$/);return B?B[1]:"GMT"}var Ge=Ne(p),ct=Ne(g),ie=Ke(Ge),T=Ke(ct);J<I?(pe[d>>2]=ie,pe[d+4>>2]=T):(pe[d>>2]=T,pe[d+4>>2]=ie)}function zt(){return Date.now()}var Xn;Xn=()=>performance.now();function eo(){return 2147483648}function Tc(l){var a=A.buffer;try{return A.grow(l-a.byteLength+65535>>>16),ze(),1}catch{}}function Ra(l){var a=Ie.length;l=l>>>0;var d=eo();if(l>d)return!1;let u=(me,Ne)=>me+(Ne-me%Ne)%Ne;for(var p=1;p<=4;p*=2){var g=a*(1+.2/p);g=Math.min(g,l+100663296);var I=Math.min(d,u(Math.max(l,g),65536)),J=Tc(I);if(J)return!0}return!1}var qr={};function d_(){return _||"./this.program"}function ti(){if(!ti.strings){var l=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:l,_:d_()};for(var d in qr)qr[d]===void 0?delete a[d]:a[d]=qr[d];var u=[];for(var d in a)u.push(d+"="+a[d]);ti.strings=u}return ti.strings}function p_(l,a,d){for(var u=0;u<l.length;++u)re[a++>>0]=l.charCodeAt(u);d||(re[a>>0]=0)}function __(l,a){var d=0;return ti().forEach(function(u,p){var g=a+d;pe[l+p*4>>2]=g,p_(u,g),d+=u.length+1}),0}function h_(l,a){var d=ti();pe[l>>2]=d.length;var u=0;return d.forEach(function(p){u+=p.length+1}),pe[a>>2]=u,0}function m_(l){try{var a=nt.getStreamFromFD(l);return m.close(a),0}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return d.errno}}function g_(l,a){try{var d=nt.getStreamFromFD(l),u=d.tty?2:m.isDir(d.mode)?3:m.isLink(d.mode)?7:4;return re[a>>0]=u,0}catch(p){if(typeof m>"u"||!(p instanceof m.ErrnoError))throw p;return p.errno}}function y_(l,a,d,u){for(var p=0,g=0;g<d;g++){var I=pe[a>>2],J=pe[a+4>>2];a+=8;var me=m.read(l,re,I,J,u);if(me<0)return-1;if(p+=me,me<J)break;typeof u<"u"&&(u+=me)}return p}function v_(l,a,d,u){try{var p=nt.getStreamFromFD(l),g=y_(p,a,d);return pe[u>>2]=g,0}catch(I){if(typeof m>"u"||!(I instanceof m.ErrnoError))throw I;return I.errno}}function b_(l,a,d,u){try{if(a=vr(a),isNaN(a))return 61;var p=nt.getStreamFromFD(l);return m.llseek(p,a,d),Le=[p.position>>>0,(ce=p.position,+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],ae[u>>2]=Le[0],ae[u+4>>2]=Le[1],p.getdents&&a===0&&d===0&&(p.getdents=null),0}catch(g){if(typeof m>"u"||!(g instanceof m.ErrnoError))throw g;return g.errno}}function w_(l){try{var a=nt.getStreamFromFD(l);return a.stream_ops&&a.stream_ops.fsync?a.stream_ops.fsync(a):0}catch(d){if(typeof m>"u"||!(d instanceof m.ErrnoError))throw d;return d.errno}}function E_(l,a,d,u){for(var p=0,g=0;g<d;g++){var I=pe[a>>2],J=pe[a+4>>2];a+=8;var me=m.write(l,re,I,J,u);if(me<0)return-1;p+=me,typeof u<"u"&&(u+=me)}return p}function q_(l,a,d,u){try{var p=nt.getStreamFromFD(l),g=E_(p,a,d);return pe[u>>2]=g,0}catch(I){if(typeof m>"u"||!(I instanceof m.ErrnoError))throw I;return I.errno}}var Oc=function(l,a,d,u){l||(l=this),this.parent=l,this.mount=l.mount,this.mounted=null,this.id=m.nextInode++,this.name=a,this.mode=d,this.node_ops={},this.stream_ops={},this.rdev=u},to=365,no=146;Object.defineProperties(Oc.prototype,{read:{get:function(){return(this.mode&to)===to},set:function(l){l?this.mode|=to:this.mode&=~to}},write:{get:function(){return(this.mode&no)===no},set:function(l){l?this.mode|=no:this.mode&=~no}},isFolder:{get:function(){return m.isDir(this.mode)}},isDevice:{get:function(){return m.isChrdev(this.mode)}}}),m.FSNode=Oc,m.staticInit();var Ic={__syscall_chmod:nn,__syscall_faccessat:yr,__syscall_fchmod:xs,__syscall_fchown32:ks,__syscall_fcntl64:Ji,__syscall_fstat64:qa,__syscall_ftruncate64:Gr,__syscall_getcwd:Sa,__syscall_ioctl:Yi,__syscall_lstat64:xa,__syscall_mkdirat:Jr,__syscall_newfstatat:ka,__syscall_openat:Aa,__syscall_readlinkat:Ca,__syscall_rmdir:$n,__syscall_stat64:Ta,__syscall_unlinkat:Oa,__syscall_utimensat:Ia,_emscripten_get_now_is_monotonic:Zr,_localtime_js:Er,_mmap_js:Zi,_munmap_js:oe,_tzset_js:Ct,emscripten_date_now:zt,emscripten_get_now:Xn,emscripten_resize_heap:Ra,environ_get:__,environ_sizes_get:h_,fd_close:m_,fd_fdstat_get:g_,fd_read:v_,fd_seek:b_,fd_sync:w_,fd_write:q_,memory:A};Fe(),n.___wasm_call_ctors=function(){return(n.___wasm_call_ctors=n.asm.__wasm_call_ctors).apply(null,arguments)},n._sqlite3_status64=function(){return(n._sqlite3_status64=n.asm.sqlite3_status64).apply(null,arguments)},n._sqlite3_status=function(){return(n._sqlite3_status=n.asm.sqlite3_status).apply(null,arguments)},n._sqlite3_db_status=function(){return(n._sqlite3_db_status=n.asm.sqlite3_db_status).apply(null,arguments)},n._sqlite3_msize=function(){return(n._sqlite3_msize=n.asm.sqlite3_msize).apply(null,arguments)},n._sqlite3_vfs_find=function(){return(n._sqlite3_vfs_find=n.asm.sqlite3_vfs_find).apply(null,arguments)},n._sqlite3_initialize=function(){return(n._sqlite3_initialize=n.asm.sqlite3_initialize).apply(null,arguments)},n._sqlite3_malloc=function(){return(n._sqlite3_malloc=n.asm.sqlite3_malloc).apply(null,arguments)},n._sqlite3_free=function(){return(n._sqlite3_free=n.asm.sqlite3_free).apply(null,arguments)},n._sqlite3_vfs_register=function(){return(n._sqlite3_vfs_register=n.asm.sqlite3_vfs_register).apply(null,arguments)},n._sqlite3_vfs_unregister=function(){return(n._sqlite3_vfs_unregister=n.asm.sqlite3_vfs_unregister).apply(null,arguments)},n._sqlite3_malloc64=function(){return(n._sqlite3_malloc64=n.asm.sqlite3_malloc64).apply(null,arguments)},n._sqlite3_realloc=function(){return(n._sqlite3_realloc=n.asm.sqlite3_realloc).apply(null,arguments)},n._sqlite3_realloc64=function(){return(n._sqlite3_realloc64=n.asm.sqlite3_realloc64).apply(null,arguments)},n._sqlite3_value_text=function(){return(n._sqlite3_value_text=n.asm.sqlite3_value_text).apply(null,arguments)},n._sqlite3_randomness=function(){return(n._sqlite3_randomness=n.asm.sqlite3_randomness).apply(null,arguments)},n._sqlite3_stricmp=function(){return(n._sqlite3_stricmp=n.asm.sqlite3_stricmp).apply(null,arguments)},n._sqlite3_strnicmp=function(){return(n._sqlite3_strnicmp=n.asm.sqlite3_strnicmp).apply(null,arguments)},n._sqlite3_uri_parameter=function(){return(n._sqlite3_uri_parameter=n.asm.sqlite3_uri_parameter).apply(null,arguments)};var Pc=n.___errno_location=function(){return(Pc=n.___errno_location=n.asm.__errno_location).apply(null,arguments)};n._sqlite3_uri_boolean=function(){return(n._sqlite3_uri_boolean=n.asm.sqlite3_uri_boolean).apply(null,arguments)},n._sqlite3_serialize=function(){return(n._sqlite3_serialize=n.asm.sqlite3_serialize).apply(null,arguments)},n._sqlite3_prepare_v2=function(){return(n._sqlite3_prepare_v2=n.asm.sqlite3_prepare_v2).apply(null,arguments)},n._sqlite3_step=function(){return(n._sqlite3_step=n.asm.sqlite3_step).apply(null,arguments)},n._sqlite3_column_int64=function(){return(n._sqlite3_column_int64=n.asm.sqlite3_column_int64).apply(null,arguments)},n._sqlite3_column_int=function(){return(n._sqlite3_column_int=n.asm.sqlite3_column_int).apply(null,arguments)},n._sqlite3_finalize=function(){return(n._sqlite3_finalize=n.asm.sqlite3_finalize).apply(null,arguments)},n._sqlite3_file_control=function(){return(n._sqlite3_file_control=n.asm.sqlite3_file_control).apply(null,arguments)},n._sqlite3_reset=function(){return(n._sqlite3_reset=n.asm.sqlite3_reset).apply(null,arguments)},n._sqlite3_deserialize=function(){return(n._sqlite3_deserialize=n.asm.sqlite3_deserialize).apply(null,arguments)},n._sqlite3_clear_bindings=function(){return(n._sqlite3_clear_bindings=n.asm.sqlite3_clear_bindings).apply(null,arguments)},n._sqlite3_value_blob=function(){return(n._sqlite3_value_blob=n.asm.sqlite3_value_blob).apply(null,arguments)},n._sqlite3_value_bytes=function(){return(n._sqlite3_value_bytes=n.asm.sqlite3_value_bytes).apply(null,arguments)},n._sqlite3_value_double=function(){return(n._sqlite3_value_double=n.asm.sqlite3_value_double).apply(null,arguments)},n._sqlite3_value_int=function(){return(n._sqlite3_value_int=n.asm.sqlite3_value_int).apply(null,arguments)},n._sqlite3_value_int64=function(){return(n._sqlite3_value_int64=n.asm.sqlite3_value_int64).apply(null,arguments)},n._sqlite3_value_subtype=function(){return(n._sqlite3_value_subtype=n.asm.sqlite3_value_subtype).apply(null,arguments)},n._sqlite3_value_pointer=function(){return(n._sqlite3_value_pointer=n.asm.sqlite3_value_pointer).apply(null,arguments)},n._sqlite3_value_type=function(){return(n._sqlite3_value_type=n.asm.sqlite3_value_type).apply(null,arguments)},n._sqlite3_value_nochange=function(){return(n._sqlite3_value_nochange=n.asm.sqlite3_value_nochange).apply(null,arguments)},n._sqlite3_value_frombind=function(){return(n._sqlite3_value_frombind=n.asm.sqlite3_value_frombind).apply(null,arguments)},n._sqlite3_value_dup=function(){return(n._sqlite3_value_dup=n.asm.sqlite3_value_dup).apply(null,arguments)},n._sqlite3_value_free=function(){return(n._sqlite3_value_free=n.asm.sqlite3_value_free).apply(null,arguments)},n._sqlite3_result_blob=function(){return(n._sqlite3_result_blob=n.asm.sqlite3_result_blob).apply(null,arguments)},n._sqlite3_result_error_nomem=function(){return(n._sqlite3_result_error_nomem=n.asm.sqlite3_result_error_nomem).apply(null,arguments)},n._sqlite3_result_error_toobig=function(){return(n._sqlite3_result_error_toobig=n.asm.sqlite3_result_error_toobig).apply(null,arguments)},n._sqlite3_result_double=function(){return(n._sqlite3_result_double=n.asm.sqlite3_result_double).apply(null,arguments)},n._sqlite3_result_error=function(){return(n._sqlite3_result_error=n.asm.sqlite3_result_error).apply(null,arguments)},n._sqlite3_result_int=function(){return(n._sqlite3_result_int=n.asm.sqlite3_result_int).apply(null,arguments)},n._sqlite3_result_int64=function(){return(n._sqlite3_result_int64=n.asm.sqlite3_result_int64).apply(null,arguments)},n._sqlite3_result_null=function(){return(n._sqlite3_result_null=n.asm.sqlite3_result_null).apply(null,arguments)},n._sqlite3_result_pointer=function(){return(n._sqlite3_result_pointer=n.asm.sqlite3_result_pointer).apply(null,arguments)},n._sqlite3_result_subtype=function(){return(n._sqlite3_result_subtype=n.asm.sqlite3_result_subtype).apply(null,arguments)},n._sqlite3_result_text=function(){return(n._sqlite3_result_text=n.asm.sqlite3_result_text).apply(null,arguments)},n._sqlite3_result_zeroblob=function(){return(n._sqlite3_result_zeroblob=n.asm.sqlite3_result_zeroblob).apply(null,arguments)},n._sqlite3_result_zeroblob64=function(){return(n._sqlite3_result_zeroblob64=n.asm.sqlite3_result_zeroblob64).apply(null,arguments)},n._sqlite3_result_error_code=function(){return(n._sqlite3_result_error_code=n.asm.sqlite3_result_error_code).apply(null,arguments)},n._sqlite3_user_data=function(){return(n._sqlite3_user_data=n.asm.sqlite3_user_data).apply(null,arguments)},n._sqlite3_context_db_handle=function(){return(n._sqlite3_context_db_handle=n.asm.sqlite3_context_db_handle).apply(null,arguments)},n._sqlite3_vtab_nochange=function(){return(n._sqlite3_vtab_nochange=n.asm.sqlite3_vtab_nochange).apply(null,arguments)},n._sqlite3_vtab_in_first=function(){return(n._sqlite3_vtab_in_first=n.asm.sqlite3_vtab_in_first).apply(null,arguments)},n._sqlite3_vtab_in_next=function(){return(n._sqlite3_vtab_in_next=n.asm.sqlite3_vtab_in_next).apply(null,arguments)},n._sqlite3_aggregate_context=function(){return(n._sqlite3_aggregate_context=n.asm.sqlite3_aggregate_context).apply(null,arguments)},n._sqlite3_get_auxdata=function(){return(n._sqlite3_get_auxdata=n.asm.sqlite3_get_auxdata).apply(null,arguments)},n._sqlite3_set_auxdata=function(){return(n._sqlite3_set_auxdata=n.asm.sqlite3_set_auxdata).apply(null,arguments)},n._sqlite3_column_count=function(){return(n._sqlite3_column_count=n.asm.sqlite3_column_count).apply(null,arguments)},n._sqlite3_data_count=function(){return(n._sqlite3_data_count=n.asm.sqlite3_data_count).apply(null,arguments)},n._sqlite3_column_blob=function(){return(n._sqlite3_column_blob=n.asm.sqlite3_column_blob).apply(null,arguments)},n._sqlite3_column_bytes=function(){return(n._sqlite3_column_bytes=n.asm.sqlite3_column_bytes).apply(null,arguments)},n._sqlite3_column_double=function(){return(n._sqlite3_column_double=n.asm.sqlite3_column_double).apply(null,arguments)},n._sqlite3_column_text=function(){return(n._sqlite3_column_text=n.asm.sqlite3_column_text).apply(null,arguments)},n._sqlite3_column_value=function(){return(n._sqlite3_column_value=n.asm.sqlite3_column_value).apply(null,arguments)},n._sqlite3_column_type=function(){return(n._sqlite3_column_type=n.asm.sqlite3_column_type).apply(null,arguments)},n._sqlite3_column_name=function(){return(n._sqlite3_column_name=n.asm.sqlite3_column_name).apply(null,arguments)},n._sqlite3_bind_blob=function(){return(n._sqlite3_bind_blob=n.asm.sqlite3_bind_blob).apply(null,arguments)},n._sqlite3_bind_double=function(){return(n._sqlite3_bind_double=n.asm.sqlite3_bind_double).apply(null,arguments)},n._sqlite3_bind_int=function(){return(n._sqlite3_bind_int=n.asm.sqlite3_bind_int).apply(null,arguments)},n._sqlite3_bind_int64=function(){return(n._sqlite3_bind_int64=n.asm.sqlite3_bind_int64).apply(null,arguments)},n._sqlite3_bind_null=function(){return(n._sqlite3_bind_null=n.asm.sqlite3_bind_null).apply(null,arguments)},n._sqlite3_bind_pointer=function(){return(n._sqlite3_bind_pointer=n.asm.sqlite3_bind_pointer).apply(null,arguments)},n._sqlite3_bind_text=function(){return(n._sqlite3_bind_text=n.asm.sqlite3_bind_text).apply(null,arguments)},n._sqlite3_bind_parameter_count=function(){return(n._sqlite3_bind_parameter_count=n.asm.sqlite3_bind_parameter_count).apply(null,arguments)},n._sqlite3_bind_parameter_index=function(){return(n._sqlite3_bind_parameter_index=n.asm.sqlite3_bind_parameter_index).apply(null,arguments)},n._sqlite3_db_handle=function(){return(n._sqlite3_db_handle=n.asm.sqlite3_db_handle).apply(null,arguments)},n._sqlite3_stmt_readonly=function(){return(n._sqlite3_stmt_readonly=n.asm.sqlite3_stmt_readonly).apply(null,arguments)},n._sqlite3_stmt_isexplain=function(){return(n._sqlite3_stmt_isexplain=n.asm.sqlite3_stmt_isexplain).apply(null,arguments)},n._sqlite3_stmt_status=function(){return(n._sqlite3_stmt_status=n.asm.sqlite3_stmt_status).apply(null,arguments)},n._sqlite3_sql=function(){return(n._sqlite3_sql=n.asm.sqlite3_sql).apply(null,arguments)},n._sqlite3_expanded_sql=function(){return(n._sqlite3_expanded_sql=n.asm.sqlite3_expanded_sql).apply(null,arguments)},n._sqlite3_preupdate_old=function(){return(n._sqlite3_preupdate_old=n.asm.sqlite3_preupdate_old).apply(null,arguments)},n._sqlite3_preupdate_count=function(){return(n._sqlite3_preupdate_count=n.asm.sqlite3_preupdate_count).apply(null,arguments)},n._sqlite3_preupdate_depth=function(){return(n._sqlite3_preupdate_depth=n.asm.sqlite3_preupdate_depth).apply(null,arguments)},n._sqlite3_preupdate_blobwrite=function(){return(n._sqlite3_preupdate_blobwrite=n.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},n._sqlite3_preupdate_new=function(){return(n._sqlite3_preupdate_new=n.asm.sqlite3_preupdate_new).apply(null,arguments)},n._sqlite3_value_numeric_type=function(){return(n._sqlite3_value_numeric_type=n.asm.sqlite3_value_numeric_type).apply(null,arguments)},n._sqlite3_errmsg=function(){return(n._sqlite3_errmsg=n.asm.sqlite3_errmsg).apply(null,arguments)},n._sqlite3_set_authorizer=function(){return(n._sqlite3_set_authorizer=n.asm.sqlite3_set_authorizer).apply(null,arguments)},n._sqlite3_strglob=function(){return(n._sqlite3_strglob=n.asm.sqlite3_strglob).apply(null,arguments)},n._sqlite3_strlike=function(){return(n._sqlite3_strlike=n.asm.sqlite3_strlike).apply(null,arguments)},n._sqlite3_exec=function(){return(n._sqlite3_exec=n.asm.sqlite3_exec).apply(null,arguments)},n._sqlite3_auto_extension=function(){return(n._sqlite3_auto_extension=n.asm.sqlite3_auto_extension).apply(null,arguments)},n._sqlite3_cancel_auto_extension=function(){return(n._sqlite3_cancel_auto_extension=n.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},n._sqlite3_reset_auto_extension=function(){return(n._sqlite3_reset_auto_extension=n.asm.sqlite3_reset_auto_extension).apply(null,arguments)},n._sqlite3_prepare_v3=function(){return(n._sqlite3_prepare_v3=n.asm.sqlite3_prepare_v3).apply(null,arguments)},n._sqlite3_create_module=function(){return(n._sqlite3_create_module=n.asm.sqlite3_create_module).apply(null,arguments)},n._sqlite3_create_module_v2=function(){return(n._sqlite3_create_module_v2=n.asm.sqlite3_create_module_v2).apply(null,arguments)},n._sqlite3_drop_modules=function(){return(n._sqlite3_drop_modules=n.asm.sqlite3_drop_modules).apply(null,arguments)},n._sqlite3_declare_vtab=function(){return(n._sqlite3_declare_vtab=n.asm.sqlite3_declare_vtab).apply(null,arguments)},n._sqlite3_vtab_on_conflict=function(){return(n._sqlite3_vtab_on_conflict=n.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},n._sqlite3_vtab_collation=function(){return(n._sqlite3_vtab_collation=n.asm.sqlite3_vtab_collation).apply(null,arguments)},n._sqlite3_vtab_in=function(){return(n._sqlite3_vtab_in=n.asm.sqlite3_vtab_in).apply(null,arguments)},n._sqlite3_vtab_rhs_value=function(){return(n._sqlite3_vtab_rhs_value=n.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},n._sqlite3_vtab_distinct=function(){return(n._sqlite3_vtab_distinct=n.asm.sqlite3_vtab_distinct).apply(null,arguments)},n._sqlite3_keyword_name=function(){return(n._sqlite3_keyword_name=n.asm.sqlite3_keyword_name).apply(null,arguments)},n._sqlite3_keyword_count=function(){return(n._sqlite3_keyword_count=n.asm.sqlite3_keyword_count).apply(null,arguments)},n._sqlite3_keyword_check=function(){return(n._sqlite3_keyword_check=n.asm.sqlite3_keyword_check).apply(null,arguments)},n._sqlite3_complete=function(){return(n._sqlite3_complete=n.asm.sqlite3_complete).apply(null,arguments)},n._sqlite3_libversion=function(){return(n._sqlite3_libversion=n.asm.sqlite3_libversion).apply(null,arguments)},n._sqlite3_libversion_number=function(){return(n._sqlite3_libversion_number=n.asm.sqlite3_libversion_number).apply(null,arguments)},n._sqlite3_shutdown=function(){return(n._sqlite3_shutdown=n.asm.sqlite3_shutdown).apply(null,arguments)},n._sqlite3_last_insert_rowid=function(){return(n._sqlite3_last_insert_rowid=n.asm.sqlite3_last_insert_rowid).apply(null,arguments)},n._sqlite3_set_last_insert_rowid=function(){return(n._sqlite3_set_last_insert_rowid=n.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},n._sqlite3_changes64=function(){return(n._sqlite3_changes64=n.asm.sqlite3_changes64).apply(null,arguments)},n._sqlite3_changes=function(){return(n._sqlite3_changes=n.asm.sqlite3_changes).apply(null,arguments)},n._sqlite3_total_changes64=function(){return(n._sqlite3_total_changes64=n.asm.sqlite3_total_changes64).apply(null,arguments)},n._sqlite3_total_changes=function(){return(n._sqlite3_total_changes=n.asm.sqlite3_total_changes).apply(null,arguments)},n._sqlite3_txn_state=function(){return(n._sqlite3_txn_state=n.asm.sqlite3_txn_state).apply(null,arguments)},n._sqlite3_close_v2=function(){return(n._sqlite3_close_v2=n.asm.sqlite3_close_v2).apply(null,arguments)},n._sqlite3_busy_handler=function(){return(n._sqlite3_busy_handler=n.asm.sqlite3_busy_handler).apply(null,arguments)},n._sqlite3_progress_handler=function(){return(n._sqlite3_progress_handler=n.asm.sqlite3_progress_handler).apply(null,arguments)},n._sqlite3_busy_timeout=function(){return(n._sqlite3_busy_timeout=n.asm.sqlite3_busy_timeout).apply(null,arguments)},n._sqlite3_create_function=function(){return(n._sqlite3_create_function=n.asm.sqlite3_create_function).apply(null,arguments)},n._sqlite3_create_function_v2=function(){return(n._sqlite3_create_function_v2=n.asm.sqlite3_create_function_v2).apply(null,arguments)},n._sqlite3_create_window_function=function(){return(n._sqlite3_create_window_function=n.asm.sqlite3_create_window_function).apply(null,arguments)},n._sqlite3_overload_function=function(){return(n._sqlite3_overload_function=n.asm.sqlite3_overload_function).apply(null,arguments)},n._sqlite3_trace_v2=function(){return(n._sqlite3_trace_v2=n.asm.sqlite3_trace_v2).apply(null,arguments)},n._sqlite3_commit_hook=function(){return(n._sqlite3_commit_hook=n.asm.sqlite3_commit_hook).apply(null,arguments)},n._sqlite3_update_hook=function(){return(n._sqlite3_update_hook=n.asm.sqlite3_update_hook).apply(null,arguments)},n._sqlite3_rollback_hook=function(){return(n._sqlite3_rollback_hook=n.asm.sqlite3_rollback_hook).apply(null,arguments)},n._sqlite3_preupdate_hook=function(){return(n._sqlite3_preupdate_hook=n.asm.sqlite3_preupdate_hook).apply(null,arguments)},n._sqlite3_error_offset=function(){return(n._sqlite3_error_offset=n.asm.sqlite3_error_offset).apply(null,arguments)},n._sqlite3_errcode=function(){return(n._sqlite3_errcode=n.asm.sqlite3_errcode).apply(null,arguments)},n._sqlite3_extended_errcode=function(){return(n._sqlite3_extended_errcode=n.asm.sqlite3_extended_errcode).apply(null,arguments)},n._sqlite3_errstr=function(){return(n._sqlite3_errstr=n.asm.sqlite3_errstr).apply(null,arguments)},n._sqlite3_limit=function(){return(n._sqlite3_limit=n.asm.sqlite3_limit).apply(null,arguments)},n._sqlite3_open=function(){return(n._sqlite3_open=n.asm.sqlite3_open).apply(null,arguments)},n._sqlite3_open_v2=function(){return(n._sqlite3_open_v2=n.asm.sqlite3_open_v2).apply(null,arguments)},n._sqlite3_create_collation=function(){return(n._sqlite3_create_collation=n.asm.sqlite3_create_collation).apply(null,arguments)},n._sqlite3_create_collation_v2=function(){return(n._sqlite3_create_collation_v2=n.asm.sqlite3_create_collation_v2).apply(null,arguments)},n._sqlite3_collation_needed=function(){return(n._sqlite3_collation_needed=n.asm.sqlite3_collation_needed).apply(null,arguments)},n._sqlite3_table_column_metadata=function(){return(n._sqlite3_table_column_metadata=n.asm.sqlite3_table_column_metadata).apply(null,arguments)},n._sqlite3_extended_result_codes=function(){return(n._sqlite3_extended_result_codes=n.asm.sqlite3_extended_result_codes).apply(null,arguments)},n._sqlite3_uri_key=function(){return(n._sqlite3_uri_key=n.asm.sqlite3_uri_key).apply(null,arguments)},n._sqlite3_uri_int64=function(){return(n._sqlite3_uri_int64=n.asm.sqlite3_uri_int64).apply(null,arguments)},n._sqlite3_db_name=function(){return(n._sqlite3_db_name=n.asm.sqlite3_db_name).apply(null,arguments)},n._sqlite3_db_filename=function(){return(n._sqlite3_db_filename=n.asm.sqlite3_db_filename).apply(null,arguments)},n._sqlite3_compileoption_used=function(){return(n._sqlite3_compileoption_used=n.asm.sqlite3_compileoption_used).apply(null,arguments)},n._sqlite3_compileoption_get=function(){return(n._sqlite3_compileoption_get=n.asm.sqlite3_compileoption_get).apply(null,arguments)},n._sqlite3session_diff=function(){return(n._sqlite3session_diff=n.asm.sqlite3session_diff).apply(null,arguments)},n._sqlite3session_attach=function(){return(n._sqlite3session_attach=n.asm.sqlite3session_attach).apply(null,arguments)},n._sqlite3session_create=function(){return(n._sqlite3session_create=n.asm.sqlite3session_create).apply(null,arguments)},n._sqlite3session_delete=function(){return(n._sqlite3session_delete=n.asm.sqlite3session_delete).apply(null,arguments)},n._sqlite3session_table_filter=function(){return(n._sqlite3session_table_filter=n.asm.sqlite3session_table_filter).apply(null,arguments)},n._sqlite3session_changeset=function(){return(n._sqlite3session_changeset=n.asm.sqlite3session_changeset).apply(null,arguments)},n._sqlite3session_changeset_strm=function(){return(n._sqlite3session_changeset_strm=n.asm.sqlite3session_changeset_strm).apply(null,arguments)},n._sqlite3session_patchset_strm=function(){return(n._sqlite3session_patchset_strm=n.asm.sqlite3session_patchset_strm).apply(null,arguments)},n._sqlite3session_patchset=function(){return(n._sqlite3session_patchset=n.asm.sqlite3session_patchset).apply(null,arguments)},n._sqlite3session_enable=function(){return(n._sqlite3session_enable=n.asm.sqlite3session_enable).apply(null,arguments)},n._sqlite3session_indirect=function(){return(n._sqlite3session_indirect=n.asm.sqlite3session_indirect).apply(null,arguments)},n._sqlite3session_isempty=function(){return(n._sqlite3session_isempty=n.asm.sqlite3session_isempty).apply(null,arguments)},n._sqlite3session_memory_used=function(){return(n._sqlite3session_memory_used=n.asm.sqlite3session_memory_used).apply(null,arguments)},n._sqlite3session_object_config=function(){return(n._sqlite3session_object_config=n.asm.sqlite3session_object_config).apply(null,arguments)},n._sqlite3session_changeset_size=function(){return(n._sqlite3session_changeset_size=n.asm.sqlite3session_changeset_size).apply(null,arguments)},n._sqlite3changeset_start=function(){return(n._sqlite3changeset_start=n.asm.sqlite3changeset_start).apply(null,arguments)},n._sqlite3changeset_start_v2=function(){return(n._sqlite3changeset_start_v2=n.asm.sqlite3changeset_start_v2).apply(null,arguments)},n._sqlite3changeset_start_strm=function(){return(n._sqlite3changeset_start_strm=n.asm.sqlite3changeset_start_strm).apply(null,arguments)},n._sqlite3changeset_start_v2_strm=function(){return(n._sqlite3changeset_start_v2_strm=n.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},n._sqlite3changeset_next=function(){return(n._sqlite3changeset_next=n.asm.sqlite3changeset_next).apply(null,arguments)},n._sqlite3changeset_op=function(){return(n._sqlite3changeset_op=n.asm.sqlite3changeset_op).apply(null,arguments)},n._sqlite3changeset_pk=function(){return(n._sqlite3changeset_pk=n.asm.sqlite3changeset_pk).apply(null,arguments)},n._sqlite3changeset_old=function(){return(n._sqlite3changeset_old=n.asm.sqlite3changeset_old).apply(null,arguments)},n._sqlite3changeset_new=function(){return(n._sqlite3changeset_new=n.asm.sqlite3changeset_new).apply(null,arguments)},n._sqlite3changeset_conflict=function(){return(n._sqlite3changeset_conflict=n.asm.sqlite3changeset_conflict).apply(null,arguments)},n._sqlite3changeset_fk_conflicts=function(){return(n._sqlite3changeset_fk_conflicts=n.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},n._sqlite3changeset_finalize=function(){return(n._sqlite3changeset_finalize=n.asm.sqlite3changeset_finalize).apply(null,arguments)},n._sqlite3changeset_invert=function(){return(n._sqlite3changeset_invert=n.asm.sqlite3changeset_invert).apply(null,arguments)},n._sqlite3changeset_invert_strm=function(){return(n._sqlite3changeset_invert_strm=n.asm.sqlite3changeset_invert_strm).apply(null,arguments)},n._sqlite3changeset_apply_v2=function(){return(n._sqlite3changeset_apply_v2=n.asm.sqlite3changeset_apply_v2).apply(null,arguments)},n._sqlite3changeset_apply=function(){return(n._sqlite3changeset_apply=n.asm.sqlite3changeset_apply).apply(null,arguments)},n._sqlite3changeset_apply_v2_strm=function(){return(n._sqlite3changeset_apply_v2_strm=n.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},n._sqlite3changeset_apply_strm=function(){return(n._sqlite3changeset_apply_strm=n.asm.sqlite3changeset_apply_strm).apply(null,arguments)},n._sqlite3changegroup_new=function(){return(n._sqlite3changegroup_new=n.asm.sqlite3changegroup_new).apply(null,arguments)},n._sqlite3changegroup_add=function(){return(n._sqlite3changegroup_add=n.asm.sqlite3changegroup_add).apply(null,arguments)},n._sqlite3changegroup_output=function(){return(n._sqlite3changegroup_output=n.asm.sqlite3changegroup_output).apply(null,arguments)},n._sqlite3changegroup_add_strm=function(){return(n._sqlite3changegroup_add_strm=n.asm.sqlite3changegroup_add_strm).apply(null,arguments)},n._sqlite3changegroup_output_strm=function(){return(n._sqlite3changegroup_output_strm=n.asm.sqlite3changegroup_output_strm).apply(null,arguments)},n._sqlite3changegroup_delete=function(){return(n._sqlite3changegroup_delete=n.asm.sqlite3changegroup_delete).apply(null,arguments)},n._sqlite3changeset_concat=function(){return(n._sqlite3changeset_concat=n.asm.sqlite3changeset_concat).apply(null,arguments)},n._sqlite3changeset_concat_strm=function(){return(n._sqlite3changeset_concat_strm=n.asm.sqlite3changeset_concat_strm).apply(null,arguments)},n._sqlite3session_config=function(){return(n._sqlite3session_config=n.asm.sqlite3session_config).apply(null,arguments)},n._sqlite3_sourceid=function(){return(n._sqlite3_sourceid=n.asm.sqlite3_sourceid).apply(null,arguments)},n._sqlite3_wasm_pstack_ptr=function(){return(n._sqlite3_wasm_pstack_ptr=n.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},n._sqlite3_wasm_pstack_restore=function(){return(n._sqlite3_wasm_pstack_restore=n.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},n._sqlite3_wasm_pstack_alloc=function(){return(n._sqlite3_wasm_pstack_alloc=n.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},n._sqlite3_wasm_pstack_remaining=function(){return(n._sqlite3_wasm_pstack_remaining=n.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},n._sqlite3_wasm_pstack_quota=function(){return(n._sqlite3_wasm_pstack_quota=n.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},n._sqlite3_wasm_db_error=function(){return(n._sqlite3_wasm_db_error=n.asm.sqlite3_wasm_db_error).apply(null,arguments)},n._sqlite3_wasm_test_struct=function(){return(n._sqlite3_wasm_test_struct=n.asm.sqlite3_wasm_test_struct).apply(null,arguments)},n._sqlite3_wasm_enum_json=function(){return(n._sqlite3_wasm_enum_json=n.asm.sqlite3_wasm_enum_json).apply(null,arguments)},n._sqlite3_wasm_vfs_unlink=function(){return(n._sqlite3_wasm_vfs_unlink=n.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},n._sqlite3_wasm_db_vfs=function(){return(n._sqlite3_wasm_db_vfs=n.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},n._sqlite3_wasm_db_reset=function(){return(n._sqlite3_wasm_db_reset=n.asm.sqlite3_wasm_db_reset).apply(null,arguments)},n._sqlite3_wasm_db_export_chunked=function(){return(n._sqlite3_wasm_db_export_chunked=n.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},n._sqlite3_wasm_db_serialize=function(){return(n._sqlite3_wasm_db_serialize=n.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},n._sqlite3_wasm_vfs_create_file=function(){return(n._sqlite3_wasm_vfs_create_file=n.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},n._sqlite3_wasm_posix_create_file=function(){return(n._sqlite3_wasm_posix_create_file=n.asm.sqlite3_wasm_posix_create_file).apply(null,arguments)},n._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(n._sqlite3_wasm_kvvfsMakeKeyOnPstack=n.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},n._sqlite3_wasm_kvvfs_methods=function(){return(n._sqlite3_wasm_kvvfs_methods=n.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},n._sqlite3_wasm_vtab_config=function(){return(n._sqlite3_wasm_vtab_config=n.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},n._sqlite3_wasm_db_config_ip=function(){return(n._sqlite3_wasm_db_config_ip=n.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},n._sqlite3_wasm_db_config_pii=function(){return(n._sqlite3_wasm_db_config_pii=n.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},n._sqlite3_wasm_db_config_s=function(){return(n._sqlite3_wasm_db_config_s=n.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},n._sqlite3_wasm_config_i=function(){return(n._sqlite3_wasm_config_i=n.asm.sqlite3_wasm_config_i).apply(null,arguments)},n._sqlite3_wasm_config_ii=function(){return(n._sqlite3_wasm_config_ii=n.asm.sqlite3_wasm_config_ii).apply(null,arguments)},n._sqlite3_wasm_config_j=function(){return(n._sqlite3_wasm_config_j=n.asm.sqlite3_wasm_config_j).apply(null,arguments)},n._sqlite3_wasm_init_wasmfs=function(){return(n._sqlite3_wasm_init_wasmfs=n.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},n._sqlite3_wasm_test_intptr=function(){return(n._sqlite3_wasm_test_intptr=n.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},n._sqlite3_wasm_test_voidptr=function(){return(n._sqlite3_wasm_test_voidptr=n.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},n._sqlite3_wasm_test_int64_max=function(){return(n._sqlite3_wasm_test_int64_max=n.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},n._sqlite3_wasm_test_int64_min=function(){return(n._sqlite3_wasm_test_int64_min=n.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},n._sqlite3_wasm_test_int64_times2=function(){return(n._sqlite3_wasm_test_int64_times2=n.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},n._sqlite3_wasm_test_int64_minmax=function(){return(n._sqlite3_wasm_test_int64_minmax=n.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},n._sqlite3_wasm_test_int64ptr=function(){return(n._sqlite3_wasm_test_int64ptr=n.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},n._sqlite3_wasm_test_stack_overflow=function(){return(n._sqlite3_wasm_test_stack_overflow=n.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},n._sqlite3_wasm_test_str_hello=function(){return(n._sqlite3_wasm_test_str_hello=n.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var Rc=n._malloc=function(){return(Rc=n._malloc=n.asm.malloc).apply(null,arguments)};n._free=function(){return(n._free=n.asm.free).apply(null,arguments)},n._realloc=function(){return(n._realloc=n.asm.realloc).apply(null,arguments)};var Lc=n._emscripten_builtin_memalign=function(){return(Lc=n._emscripten_builtin_memalign=n.asm.emscripten_builtin_memalign).apply(null,arguments)};n.stackSave=function(){return(n.stackSave=n.asm.stackSave).apply(null,arguments)},n.stackRestore=function(){return(n.stackRestore=n.asm.stackRestore).apply(null,arguments)},n.stackAlloc=function(){return(n.stackAlloc=n.asm.stackAlloc).apply(null,arguments)},n.wasmMemory=A;var so;De=function l(){so||Fc(),so||(De=l)};function Fc(l){if(_e>0||(qt(),_e>0))return;function a(){so||(so=!0,n.calledRun=!0,!H&&(vt(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),rt()))}n.setStatus?(n.setStatus("Running..."),setTimeout(function(){setTimeout(function(){n.setStatus("")},1),a()},1)):a()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Fc(),n.postRun||(n.postRun=[]),n.postRun.push(function(l){if(globalThis.sqlite3ApiBootstrap=function a(d=globalThis.sqlite3ApiConfig||a.defaultConfig){if(a.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),a.sqlite3;const u=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:(()=>typeof l<"u"?!!l.HEAPU64:!!globalThis.BigInt64Array)(),debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},d||{});Object.assign(u,{allocExportName:u.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:u.useStdAlloc?"free":"sqlite3_free",reallocExportName:u.useStdAlloc?"realloc":"sqlite3_realloc"},u),["exports","memory","wasmfsOpfsDir"].forEach(b=>{typeof u[b]=="function"&&(u[b]=u[b]())});const p=Object.create(null),g=Object.create(null),I=b=>p.sqlite3_js_rc_str&&p.sqlite3_js_rc_str(b)||"Unknown result code #"+b,J=b=>typeof b=="number"&&b===(b|0);class me extends Error{constructor(...v){let D;if(v.length)if(J(v[0]))if(D=v[0],v.length===1)super(I(v[0]));else{const he=I(D);typeof v[1]=="object"?super(he,v[1]):(v[0]=he+":",super(v.join(" ")))}else v.length===2&&typeof v[1]=="object"?super(...v):super(v.join(" "));this.resultCode=D||p.SQLITE_ERROR,this.name="SQLite3Error"}}me.toss=(...b)=>{throw new me(...b)};const Ne=me.toss;u.wasmfsOpfsDir&&!/^\/[^/]+$/.test(u.wasmfsOpfsDir)&&Ne("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Ge=b=>typeof b!="bigint"&&b===(b|0)&&b<=2147483647&&b>=-2147483648,ct=function b(v){return b._max||(b._max=BigInt("0x7fffffffffffffff"),b._min=~b._max),v>=b._min&&v<=b._max},ie=b=>b>=-0x7fffffffn-1n&&b<=0x7fffffffn,T=function b(v){return b._min||(b._min=Number.MIN_SAFE_INTEGER,b._max=Number.MAX_SAFE_INTEGER),v>=b._min&&v<=b._max},C=b=>b&&b.constructor&&Ge(b.constructor.BYTES_PER_ELEMENT)?b:!1,B=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,z=b=>b.buffer instanceof B,F=(b,v,D)=>z(b)?b.slice(v,D):b.subarray(v,D),xe=b=>b&&(b instanceof Uint8Array||b instanceof Int8Array||b instanceof ArrayBuffer),Re=b=>b&&(b instanceof Uint8Array||b instanceof Int8Array||b instanceof ArrayBuffer),ve=b=>xe(b)||Ne("Value is not of a supported TypedArray type."),je=new TextDecoder("utf-8"),gt=function(b,v,D){return je.decode(F(b,v,D))},q=function(b){return Re(b)?gt(b instanceof ArrayBuffer?new Uint8Array(b):b):Array.isArray(b)?b.join(""):(g.isPtr(b)&&(b=g.cstrToJs(b)),b)};class j extends Error{constructor(...v){v.length===2&&typeof v[1]=="object"?super(...v):v.length?super(v.join(" ")):super("Allocation failed."),this.resultCode=p.SQLITE_NOMEM,this.name="WasmAllocError"}}j.toss=(...b)=>{throw new j(...b)},Object.assign(p,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(b,v,D,he,Ue,at,_t,Ce,V)=>{},sqlite3_create_function:(b,v,D,he,Ue,at,_t,Ce)=>{},sqlite3_create_window_function:(b,v,D,he,Ue,at,_t,Ce,V,le)=>{},sqlite3_prepare_v3:(b,v,D,he,Ue,at)=>{},sqlite3_prepare_v2:(b,v,D,he,Ue)=>{},sqlite3_exec:(b,v,D,he,Ue)=>{},sqlite3_randomness:(b,v)=>{}});const ee={affirmBindableTypedArray:ve,flexibleString:q,bigIntFits32:ie,bigIntFits64:ct,bigIntFitsDouble:T,isBindableTypedArray:xe,isInt32:Ge,isSQLableTypedArray:Re,isTypedArray:C,typedArrayToString:gt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:z,toss:function(...b){throw new Error(b.join(" "))},toss3:Ne,typedArrayPart:F};Object.assign(g,{ptrSizeof:u.wasmPtrSizeof||4,ptrIR:u.wasmPtrIR||"i32",bigIntEnabled:!!u.bigIntEnabled,exports:u.exports||Ne("Missing API config.exports (WASM module exports)."),memory:u.memory||u.exports.memory||Ne("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),g.allocFromTypedArray=function(b){b instanceof ArrayBuffer&&(b=new Uint8Array(b)),ve(b);const v=g.alloc(b.byteLength||1);return g.heapForSize(b.constructor).set(b.byteLength?b:[0],v),v};{const b=u.allocExportName,v=u.deallocExportName,D=u.reallocExportName;for(const he of[b,v,D])g.exports[he]instanceof Function||Ne("Missing required exports[",he,"] function.");g.alloc=function he(Ue){return he.impl(Ue)||j.toss("Failed to allocate",Ue," bytes.")},g.alloc.impl=g.exports[b],g.realloc=function he(Ue,at){const _t=he.impl(Ue,at);return at?_t||j.toss("Failed to reallocate",at," bytes."):0},g.realloc.impl=g.exports[D],g.dealloc=g.exports[v]}g.compileOptionUsed=function b(v){if(arguments.length){if(Array.isArray(v)){const D={};return v.forEach(he=>{D[he]=p.sqlite3_compileoption_used(he)}),D}else if(typeof v=="object")return Object.keys(v).forEach(D=>{v[D]=p.sqlite3_compileoption_used(D)}),v}else{if(b._result)return b._result;b._opt||(b._rx=/^([^=]+)=(.+)/,b._rxInt=/^-?\d+$/,b._opt=function(_t,Ce){const V=b._rx.exec(_t);Ce[0]=V?V[1]:_t,Ce[1]=V?b._rxInt.test(V[2])?+V[2]:V[2]:!0});const D={},he=[0,0];let Ue=0,at;for(;at=p.sqlite3_compileoption_get(Ue++);)b._opt(at,he),D[he[0]]=he[1];return b._result=D}return typeof v=="string"?!!p.sqlite3_compileoption_used(v):!1},g.pstack=Object.assign(Object.create(null),{restore:g.exports.sqlite3_wasm_pstack_restore,alloc:function(b){return typeof b=="string"&&!(b=g.sizeofIR(b))&&j.toss("Invalid value for pstack.alloc(",arguments[0],")"),g.exports.sqlite3_wasm_pstack_alloc(b)||j.toss("Could not allocate",b,"bytes from the pstack.")},allocChunks:function(b,v){typeof v=="string"&&!(v=g.sizeofIR(v))&&j.toss("Invalid size value for allocChunks(",arguments[1],")");const D=g.pstack.alloc(b*v),he=[];let Ue=0,at=0;for(;Ue<b;++Ue,at+=v)he.push(D+at);return he},allocPtr:(b=1,v=!0)=>b===1?g.pstack.alloc(v?8:g.ptrSizeof):g.pstack.allocChunks(b,v?8:g.ptrSizeof)}),Object.defineProperties(g.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:g.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:g.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:g.exports.sqlite3_wasm_pstack_remaining}}),p.sqlite3_randomness=(...b)=>{if(b.length===1&&ee.isTypedArray(b[0])&&b[0].BYTES_PER_ELEMENT===1){const v=b[0];if(v.byteLength===0)return g.exports.sqlite3_randomness(0,0),v;const D=g.pstack.pointer;try{let he=v.byteLength,Ue=0;const at=g.exports.sqlite3_randomness,_t=g.heap8u(),Ce=he<512?he:512,V=g.pstack.alloc(Ce);do{const le=he>Ce?Ce:he;at(le,V),v.set(F(_t,V,V+le),Ue),he-=le,Ue+=le}while(he>0)}catch(he){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",he)}finally{g.pstack.restore(D)}return v}g.exports.sqlite3_randomness(...b)};let Pe;if(p.sqlite3_wasmfs_opfs_dir=function(){if(Pe!==void 0)return Pe;const b=u.wasmfsOpfsDir;if(!b||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Pe="";try{return b&&g.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],b)===0?Pe=b:Pe=""}catch{return Pe=""}},p.sqlite3_wasmfs_filename_is_persistent=function(b){const v=p.sqlite3_wasmfs_opfs_dir();return v&&b?b.startsWith(v+"/"):!1},p.sqlite3_js_db_uses_vfs=function(b,v,D=0){try{const he=p.sqlite3_vfs_find(v);return he?b?he===p.sqlite3_js_db_vfs(b,D)?he:!1:he===p.sqlite3_vfs_find(0)?he:!1:!1}catch{return!1}},p.sqlite3_js_vfs_list=function(){const b=[];let v=p.sqlite3_vfs_find(0);for(;v;){const D=new p.sqlite3_vfs(v);b.push(g.cstrToJs(D.$zName)),v=D.$pNext,D.dispose()}return b},p.sqlite3_js_db_export=function(b,v=0){b=g.xWrap.testConvertArg("sqlite3*",b),b||Ne("Invalid sqlite3* argument."),g.bigIntEnabled||Ne("BigInt64 support is not enabled.");const D=g.scopedAllocPush();let he;try{const Ue=g.scopedAlloc(8+g.ptrSizeof),at=Ue+8,_t=v?g.isPtr(v)?v:g.scopedAllocCString(""+v):0;let Ce=g.exports.sqlite3_wasm_db_serialize(b,_t,at,Ue,0);Ce&&Ne("Database serialization failed with code",$.capi.sqlite3_js_rc_str(Ce)),he=g.peekPtr(at);const V=g.peek(Ue,"i64");return Ce=V?g.heap8u().slice(he,he+Number(V)):new Uint8Array,Ce}finally{he&&g.exports.sqlite3_free(he),g.scopedAllocPop(D)}},p.sqlite3_js_db_vfs=(b,v=0)=>g.sqlite3_wasm_db_vfs(b,v),p.sqlite3_js_aggregate_context=(b,v)=>p.sqlite3_aggregate_context(b,v)||(v?j.toss("Cannot allocate",v,"bytes for sqlite3_aggregate_context()"):0),p.sqlite3_js_posix_create_file=function(b,v,D){let he;v&&g.isPtr(v)?he=v:v instanceof ArrayBuffer||v instanceof Uint8Array?(he=g.allocFromTypedArray(v),(arguments.length<3||!ee.isInt32(D)||D<0)&&(D=v.byteLength)):me.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!ee.isInt32(D)||D<0)&&me.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Ue=g.sqlite3_wasm_posix_create_file(b,he,D);Ue&&me.toss("Creation of file failed with sqlite3 result code",p.sqlite3_js_rc_str(Ue))}finally{g.dealloc(he)}},p.sqlite3_js_vfs_create_file=function(b,v,D,he){u.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Ue;D?(g.isPtr(D)?Ue=D:D instanceof ArrayBuffer&&(D=new Uint8Array(D)),D instanceof Uint8Array?(Ue=g.allocFromTypedArray(D),(arguments.length<4||!ee.isInt32(he)||he<0)&&(he=D.byteLength)):me.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):Ue=0,(!ee.isInt32(he)||he<0)&&(g.dealloc(Ue),me.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const at=g.sqlite3_wasm_vfs_create_file(b,v,Ue,he);at&&me.toss("Creation of file failed with sqlite3 result code",p.sqlite3_js_rc_str(at))}finally{g.dealloc(Ue)}},ee.isUIThread()){const b=function(v){const D=Object.create(null);return D.prefix="kvvfs-"+v,D.stores=[],(v==="session"||v==="")&&D.stores.push(globalThis.sessionStorage),(v==="local"||v==="")&&D.stores.push(globalThis.localStorage),D};p.sqlite3_js_kvvfs_clear=function(v=""){let D=0;const he=b(v);return he.stores.forEach(Ue=>{const at=[];let _t;for(_t=0;_t<Ue.length;++_t){const Ce=Ue.key(_t);Ce.startsWith(he.prefix)&&at.push(Ce)}at.forEach(Ce=>Ue.removeItem(Ce)),D+=at.length}),D},p.sqlite3_js_kvvfs_size=function(v=""){let D=0;const he=b(v);return he.stores.forEach(Ue=>{let at;for(at=0;at<Ue.length;++at){const _t=Ue.key(at);_t.startsWith(he.prefix)&&(D+=_t.length,D+=Ue.getItem(_t).length)}}),D*2}}p.sqlite3_db_config=function(b,v,...D){switch(this.s||(this.s=g.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=g.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=g.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),v){case p.SQLITE_DBCONFIG_ENABLE_FKEY:case p.SQLITE_DBCONFIG_ENABLE_TRIGGER:case p.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case p.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case p.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case p.SQLITE_DBCONFIG_ENABLE_QPSG:case p.SQLITE_DBCONFIG_TRIGGER_EQP:case p.SQLITE_DBCONFIG_RESET_DATABASE:case p.SQLITE_DBCONFIG_DEFENSIVE:case p.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case p.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case p.SQLITE_DBCONFIG_DQS_DML:case p.SQLITE_DBCONFIG_DQS_DDL:case p.SQLITE_DBCONFIG_ENABLE_VIEW:case p.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case p.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case p.SQLITE_DBCONFIG_STMT_SCANSTATUS:case p.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(b,v,D[0],D[1]||0);case p.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(b,v,D[0],D[1],D[2]);case p.SQLITE_DBCONFIG_MAINDBNAME:return this.s(b,v,D[0]);default:return p.SQLITE_MISUSE}}.bind(Object.create(null)),p.sqlite3_value_to_js=function(b,v=!0){let D;const he=p.sqlite3_value_type(b);switch(he){case p.SQLITE_INTEGER:g.bigIntEnabled?(D=p.sqlite3_value_int64(b),ee.bigIntFitsDouble(D)&&(D=Number(D))):D=p.sqlite3_value_double(b);break;case p.SQLITE_FLOAT:D=p.sqlite3_value_double(b);break;case p.SQLITE_TEXT:D=p.sqlite3_value_text(b);break;case p.SQLITE_BLOB:{const Ue=p.sqlite3_value_bytes(b),at=p.sqlite3_value_blob(b);Ue&&!at&&$.WasmAllocError.toss("Cannot allocate memory for blob argument of",Ue,"byte(s)"),D=Ue?g.heap8u().slice(at,at+Number(Ue)):null;break}case p.SQLITE_NULL:D=null;break;default:v&&Ne(p.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",he),D=void 0}return D},p.sqlite3_values_to_js=function(b,v,D=!0){let he;const Ue=[];for(he=0;he<b;++he)Ue.push(p.sqlite3_value_to_js(g.peekPtr(v+g.ptrSizeof*he),D));return Ue},p.sqlite3_result_error_js=function(b,v){v instanceof j?p.sqlite3_result_error_nomem(b):p.sqlite3_result_error(b,""+v,-1)},p.sqlite3_result_js=function(b,v){if(v instanceof Error){p.sqlite3_result_error_js(b,v);return}try{switch(typeof v){case"undefined":break;case"boolean":p.sqlite3_result_int(b,v?1:0);break;case"bigint":ee.bigIntFits32(v)?p.sqlite3_result_int(b,Number(v)):ee.bigIntFitsDouble(v)?p.sqlite3_result_double(b,Number(v)):g.bigIntEnabled?ee.bigIntFits64(v)?p.sqlite3_result_int64(b,v):Ne("BigInt value",v.toString(),"is too BigInt for int64."):Ne("BigInt value",v.toString(),"is too BigInt.");break;case"number":{let D;ee.isInt32(v)?D=p.sqlite3_result_int:g.bigIntEnabled&&Number.isInteger(v)&&ee.bigIntFits64(BigInt(v))?D=p.sqlite3_result_int64:D=p.sqlite3_result_double,D(b,v);break}case"string":{const[D,he]=g.allocCString(v,!0);p.sqlite3_result_text(b,D,he,p.SQLITE_WASM_DEALLOC);break}case"object":if(v===null){p.sqlite3_result_null(b);break}else if(ee.isBindableTypedArray(v)){const D=g.allocFromTypedArray(v);p.sqlite3_result_blob(b,D,v.byteLength,p.SQLITE_WASM_DEALLOC);break}default:Ne("Don't not how to handle this UDF result value:",typeof v,v)}}catch(D){p.sqlite3_result_error_js(b,D)}},p.sqlite3_column_js=function(b,v,D=!0){const he=p.sqlite3_column_value(b,v);return he===0?void 0:p.sqlite3_value_to_js(he,D)};const k=function(b,v,D){D=p[D],this.ptr?g.pokePtr(this.ptr,0):this.ptr=g.allocPtr();const he=D(b,v,this.ptr);if(he)return me.toss(he,arguments[2]+"() failed with code "+he);const Ue=g.peekPtr(this.ptr);return Ue?p.sqlite3_value_to_js(Ue,!0):void 0}.bind(Object.create(null));p.sqlite3_preupdate_new_js=(b,v)=>k(b,v,"sqlite3_preupdate_new"),p.sqlite3_preupdate_old_js=(b,v)=>k(b,v,"sqlite3_preupdate_old"),p.sqlite3changeset_new_js=(b,v)=>k(b,v,"sqlite3changeset_new"),p.sqlite3changeset_old_js=(b,v)=>k(b,v,"sqlite3changeset_old");const $={WasmAllocError:j,SQLite3Error:me,capi:p,util:ee,wasm:g,config:u,version:Object.create(null),client:void 0,asyncPostInit:async function b(){if(b.isReady instanceof Promise)return b.isReady;let v=a.initializersAsync;delete a.initializersAsync;const D=async()=>($.__isUnderTest||(delete $.util,delete $.StructBinder),$),he=at=>{throw u.error("an async sqlite3 initializer failed:",at),at};if(!v||!v.length)return b.isReady=D().catch(he);v=v.map(at=>at instanceof Function?async _t=>at($):at),v.push(D);let Ue=Promise.resolve($);for(;v.length;)Ue=Ue.then(v.shift());return b.isReady=Ue.catch(he)},scriptInfo:void 0};try{a.initializers.forEach(b=>{b($)})}catch(b){throw console.error("sqlite3 bootstrap initializer threw:",b),b}return delete a.initializers,a.sqlite3=$,$},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(a){a.bigIntEnabled===void 0&&(a.bigIntEnabled=!!globalThis.BigInt64Array);const d=(...q)=>{throw new Error(q.join(" "))};a.exports||Object.defineProperty(a,"exports",{enumerable:!0,configurable:!0,get:()=>a.instance&&a.instance.exports});const u=a.pointerIR||"i32",p=a.ptrSizeof=u==="i32"?4:u==="i64"?8:d("Unhandled ptrSizeof:",u),g=Object.create(null);g.heapSize=0,g.memory=null,g.freeFuncIndexes=[],g.scopedAlloc=[],g.utf8Decoder=new TextDecoder,g.utf8Encoder=new TextEncoder("utf-8"),a.sizeofIR=q=>{switch(q){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return p;default:return(""+q).endsWith("*")?p:void 0}};const I=function(){if(!g.memory)g.memory=a.memory instanceof WebAssembly.Memory?a.memory:a.exports.memory;else if(g.heapSize===g.memory.buffer.byteLength)return g;const q=g.memory.buffer;return g.HEAP8=new Int8Array(q),g.HEAP8U=new Uint8Array(q),g.HEAP16=new Int16Array(q),g.HEAP16U=new Uint16Array(q),g.HEAP32=new Int32Array(q),g.HEAP32U=new Uint32Array(q),a.bigIntEnabled&&(g.HEAP64=new BigInt64Array(q),g.HEAP64U=new BigUint64Array(q)),g.HEAP32F=new Float32Array(q),g.HEAP64F=new Float64Array(q),g.heapSize=q.byteLength,g};a.heap8=()=>I().HEAP8,a.heap8u=()=>I().HEAP8U,a.heap16=()=>I().HEAP16,a.heap16u=()=>I().HEAP16U,a.heap32=()=>I().HEAP32,a.heap32u=()=>I().HEAP32U,a.heapForSize=function(q,j=!0){const ee=g.memory&&g.heapSize===g.memory.buffer.byteLength?g:I();switch(q){case Int8Array:return ee.HEAP8;case Uint8Array:return ee.HEAP8U;case Int16Array:return ee.HEAP16;case Uint16Array:return ee.HEAP16U;case Int32Array:return ee.HEAP32;case Uint32Array:return ee.HEAP32U;case 8:return j?ee.HEAP8U:ee.HEAP8;case 16:return j?ee.HEAP16U:ee.HEAP16;case 32:return j?ee.HEAP32U:ee.HEAP32;case 64:if(ee.HEAP64)return j?ee.HEAP64U:ee.HEAP64;break;default:if(a.bigIntEnabled){if(q===globalThis.BigUint64Array)return ee.HEAP64U;if(q===globalThis.BigInt64Array)return ee.HEAP64;break}}d("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},a.functionTable=function(){return a.exports.__indirect_function_table},a.functionEntry=function(q){const j=a.functionTable();return q<j.length?j.get(q):void 0},a.jsFuncToWasm=function q(j,ee){if(q._||(q._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function($,b,v){v<128?$[b](v):$[b](v%128|128,v>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function($){const b=q._.rxJSig.exec($);return b?b[2]:$.substr(1)},letterType:$=>q._.sigTypes[$]||d("Invalid signature letter:",$),pushSigType:($,b)=>$.push(q._.typeCodes[q._.letterType(b)])}),typeof j=="string"){const $=ee;ee=j,j=$}const Pe=q._.sigParams(ee),k=[1,96];q._.uleb128Encode(k,"push",Pe.length);for(const $ of Pe)q._.pushSigType(k,$);return ee[0]==="v"?k.push(0):(k.push(1),q._.pushSigType(k,ee[0])),q._.uleb128Encode(k,"unshift",k.length),k.unshift(0,97,115,109,1,0,0,0,1),k.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(k)),{e:{f:j}}).exports.f};const J=function(j,ee,Pe){if(Pe&&!g.scopedAlloc.length&&d("No scopedAllocPush() scope is active."),typeof j=="string"){const v=ee;ee=j,j=v}(typeof ee!="string"||!(j instanceof Function))&&d("Invalid arguments: expecting (function,signature) or (signature,function).");const k=a.functionTable(),$=k.length;let b;for(;g.freeFuncIndexes.length&&(b=g.freeFuncIndexes.pop(),k.get(b));){b=null;continue}b||(b=$,k.grow(1));try{return k.set(b,j),Pe&&g.scopedAlloc[g.scopedAlloc.length-1].push(b),b}catch(v){if(!(v instanceof TypeError))throw b===$&&g.freeFuncIndexes.push($),v}try{const v=a.jsFuncToWasm(j,ee);k.set(b,v),Pe&&g.scopedAlloc[g.scopedAlloc.length-1].push(b)}catch(v){throw b===$&&g.freeFuncIndexes.push($),v}return b};a.installFunction=(q,j)=>J(q,j,!1),a.scopedInstallFunction=(q,j)=>J(q,j,!0),a.uninstallFunction=function(q){if(!q&&q!==0)return;const j=g.freeFuncIndexes,ee=a.functionTable();j.push(q);const Pe=ee.get(q);return ee.set(q,null),Pe},a.peek=function(j,ee="i8"){ee.endsWith("*")&&(ee=u);const Pe=g.memory&&g.heapSize===g.memory.buffer.byteLength?g:I(),k=Array.isArray(j)?[]:void 0;let $;do{switch(k&&(j=arguments[0].shift()),ee){case"i1":case"i8":$=Pe.HEAP8[j>>0];break;case"i16":$=Pe.HEAP16[j>>1];break;case"i32":$=Pe.HEAP32[j>>2];break;case"float":case"f32":$=Pe.HEAP32F[j>>2];break;case"double":case"f64":$=Number(Pe.HEAP64F[j>>3]);break;case"i64":if(a.bigIntEnabled){$=BigInt(Pe.HEAP64[j>>3]);break}default:d("Invalid type for peek():",ee)}k&&k.push($)}while(k&&arguments[0].length);return k||$},a.poke=function(q,j,ee="i8"){ee.endsWith("*")&&(ee=u);const Pe=g.memory&&g.heapSize===g.memory.buffer.byteLength?g:I();for(const k of Array.isArray(q)?q:[q])switch(ee){case"i1":case"i8":Pe.HEAP8[k>>0]=j;continue;case"i16":Pe.HEAP16[k>>1]=j;continue;case"i32":Pe.HEAP32[k>>2]=j;continue;case"float":case"f32":Pe.HEAP32F[k>>2]=j;continue;case"double":case"f64":Pe.HEAP64F[k>>3]=j;continue;case"i64":if(Pe.HEAP64){Pe.HEAP64[k>>3]=BigInt(j);continue}default:d("Invalid type for poke(): "+ee)}return this},a.peekPtr=(...q)=>a.peek(q.length===1?q[0]:q,u),a.pokePtr=(q,j=0)=>a.poke(q,j,u),a.peek8=(...q)=>a.peek(q.length===1?q[0]:q,"i8"),a.poke8=(q,j)=>a.poke(q,j,"i8"),a.peek16=(...q)=>a.peek(q.length===1?q[0]:q,"i16"),a.poke16=(q,j)=>a.poke(q,j,"i16"),a.peek32=(...q)=>a.peek(q.length===1?q[0]:q,"i32"),a.poke32=(q,j)=>a.poke(q,j,"i32"),a.peek64=(...q)=>a.peek(q.length===1?q[0]:q,"i64"),a.poke64=(q,j)=>a.poke(q,j,"i64"),a.peek32f=(...q)=>a.peek(q.length===1?q[0]:q,"f32"),a.poke32f=(q,j)=>a.poke(q,j,"f32"),a.peek64f=(...q)=>a.peek(q.length===1?q[0]:q,"f64"),a.poke64f=(q,j)=>a.poke(q,j,"f64"),a.getMemValue=a.peek,a.getPtrValue=a.peekPtr,a.setMemValue=a.poke,a.setPtrValue=a.pokePtr,a.isPtr32=q=>typeof q=="number"&&q===(q|0)&&q>=0,a.isPtr=a.isPtr32,a.cstrlen=function(q){if(!q||!a.isPtr(q))return null;const j=I().HEAP8U;let ee=q;for(;j[ee]!==0;++ee);return ee-q};const me=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ne=function(q,j,ee){return g.utf8Decoder.decode(q.buffer instanceof me?q.slice(j,ee):q.subarray(j,ee))};a.cstrToJs=function(q){const j=a.cstrlen(q);return j?Ne(I().HEAP8U,q,q+j):j===null?j:""},a.jstrlen=function(q){if(typeof q!="string")return null;const j=q.length;let ee=0;for(let Pe=0;Pe<j;++Pe){let k=q.charCodeAt(Pe);k>=55296&&k<=57343&&(k=65536+((k&1023)<<10)|q.charCodeAt(++Pe)&1023),k<=127?++ee:k<=2047?ee+=2:k<=65535?ee+=3:ee+=4}return ee},a.jstrcpy=function(q,j,ee=0,Pe=-1,k=!0){if((!j||!(j instanceof Int8Array)&&!(j instanceof Uint8Array))&&d("jstrcpy() target must be an Int8Array or Uint8Array."),Pe<0&&(Pe=j.length-ee),!(Pe>0)||!(ee>=0))return 0;let $=0,b=q.length;const v=ee,D=ee+Pe-(k?1:0);for(;$<b&&ee<D;++$){let he=q.charCodeAt($);if(he>=55296&&he<=57343&&(he=65536+((he&1023)<<10)|q.charCodeAt(++$)&1023),he<=127){if(ee>=D)break;j[ee++]=he}else if(he<=2047){if(ee+1>=D)break;j[ee++]=192|he>>6,j[ee++]=128|he&63}else if(he<=65535){if(ee+2>=D)break;j[ee++]=224|he>>12,j[ee++]=128|he>>6&63,j[ee++]=128|he&63}else{if(ee+3>=D)break;j[ee++]=240|he>>18,j[ee++]=128|he>>12&63,j[ee++]=128|he>>6&63,j[ee++]=128|he&63}}return k&&(j[ee++]=0),ee-v},a.cstrncpy=function(q,j,ee){if((!q||!j)&&d("cstrncpy() does not accept NULL strings."),ee<0)ee=a.cstrlen(strPtr)+1;else if(!(ee>0))return 0;const Pe=a.heap8u();let k=0,$;for(;k<ee&&($=Pe[j+k]);++k)Pe[q+k]=$;return k<ee&&(Pe[q+k++]=0),k},a.jstrToUintArray=(q,j=!1)=>g.utf8Encoder.encode(j?q+"\0":q);const Ge=(q,j)=>{(!(q.alloc instanceof Function)||!(q.dealloc instanceof Function))&&d("Object is missing alloc() and/or dealloc() function(s)","required by",j+"().")},ct=function(q,j,ee,Pe){if(Ge(a,Pe),typeof q!="string")return null;{const k=g.utf8Encoder.encode(q),$=ee(k.length+1),b=I().HEAP8U;return b.set(k,$),b[$+k.length]=0,j?[$,k.length]:$}};a.allocCString=(q,j=!1)=>ct(q,j,a.alloc,"allocCString()"),a.scopedAllocPush=function(){Ge(a,"scopedAllocPush");const q=[];return g.scopedAlloc.push(q),q},a.scopedAllocPop=function(q){Ge(a,"scopedAllocPop");const j=arguments.length?g.scopedAlloc.indexOf(q):g.scopedAlloc.length-1;j<0&&d("Invalid state object for scopedAllocPop()."),arguments.length===0&&(q=g.scopedAlloc[j]),g.scopedAlloc.splice(j,1);for(let ee;ee=q.pop();)a.functionEntry(ee)?a.uninstallFunction(ee):a.dealloc(ee)},a.scopedAlloc=function(q){g.scopedAlloc.length||d("No scopedAllocPush() scope is active.");const j=a.alloc(q);return g.scopedAlloc[g.scopedAlloc.length-1].push(j),j},Object.defineProperty(a.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>g.scopedAlloc.length,set:()=>d("The 'active' property is read-only.")}),a.scopedAllocCString=(q,j=!1)=>ct(q,j,a.scopedAlloc,"scopedAllocCString()");const ie=function(q,j){const ee=a[q?"scopedAlloc":"alloc"]((j.length+1)*a.ptrSizeof);let Pe=0;return j.forEach(k=>{a.pokePtr(ee+a.ptrSizeof*Pe++,a[q?"scopedAllocCString":"allocCString"](""+k))}),a.pokePtr(ee+a.ptrSizeof*Pe,0),ee};a.scopedAllocMainArgv=q=>ie(!0,q),a.allocMainArgv=q=>ie(!1,q),a.cArgvToJs=(q,j)=>{const ee=[];for(let Pe=0;Pe<q;++Pe){const k=a.peekPtr(j+a.ptrSizeof*Pe);ee.push(k?a.cstrToJs(k):null)}return ee},a.scopedAllocCall=function(q){a.scopedAllocPush();try{return q()}finally{a.scopedAllocPop()}};const T=function(q,j,ee){Ge(a,ee);const Pe=j?"i64":u;let k=a[ee](q*(j?8:p));if(a.poke(k,0,Pe),q===1)return k;const $=[k];for(let b=1;b<q;++b)k+=j?8:p,$[b]=k,a.poke(k,0,Pe);return $};a.allocPtr=(q=1,j=!0)=>T(q,j,"alloc"),a.scopedAllocPtr=(q=1,j=!0)=>T(q,j,"scopedAlloc"),a.xGet=function(q){return a.exports[q]||d("Cannot find exported symbol:",q)};const C=(q,j)=>d(q+"() requires",j,"argument(s).");a.xCall=function(q,...j){const ee=a.xGet(q);return ee instanceof Function||d("Exported symbol",q,"is not a function."),ee.length!==j.length&&C(q,ee.length),arguments.length===2&&Array.isArray(arguments[1])?ee.apply(null,arguments[1]):ee.apply(null,j)},g.xWrap=Object.create(null),g.xWrap.convert=Object.create(null),g.xWrap.convert.arg=new Map,g.xWrap.convert.result=new Map;const B=g.xWrap.convert.arg,z=g.xWrap.convert.result;a.bigIntEnabled&&B.set("i64",q=>BigInt(q));const F=u==="i32"?q=>q|0:q=>BigInt(q)|BigInt(0);B.set("i32",F).set("i16",q=>(q|0)&65535).set("i8",q=>(q|0)&255).set("f32",q=>Number(q).valueOf()).set("float",B.get("f32")).set("f64",B.get("f32")).set("double",B.get("f64")).set("int",B.get("i32")).set("null",q=>q).set(null,B.get("null")).set("**",F).set("*",F),z.set("*",F).set("pointer",F).set("number",q=>Number(q)).set("void",q=>{}).set("null",q=>q).set(null,z.get("null"));{const q=["i8","i16","i32","int","f32","float","f64","double"];a.bigIntEnabled&&q.push("i64");const j=B.get(u);for(const ee of q)B.set(ee+"*",j),z.set(ee+"*",j),z.set(ee,B.get(ee)||d("Missing arg converter:",ee))}const xe=function(q){return typeof q=="string"?a.scopedAllocCString(q):q?F(q):null};B.set("string",xe).set("utf8",xe).set("pointer",xe),z.set("string",q=>a.cstrToJs(q)).set("utf8",z.get("string")).set("string:dealloc",q=>{try{return q?a.cstrToJs(q):null}finally{a.dealloc(q)}}).set("utf8:dealloc",z.get("string:dealloc")).set("json",q=>JSON.parse(a.cstrToJs(q))).set("json:dealloc",q=>{try{return q?JSON.parse(a.cstrToJs(q)):null}finally{a.dealloc(q)}});const Re=class{constructor(q){this.name=q.name||"unnamed adapter"}convertArg(q,j,ee){d("AbstractArgAdapter must be subclassed.")}};B.FuncPtrAdapter=class _s extends Re{constructor(j){super(j),B.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",j),this.name=j.name||"unnamed",this.signature=j.signature,j.contextKey instanceof Function&&(this.contextKey=j.contextKey,j.bindScope||(j.bindScope="context")),this.bindScope=j.bindScope||d("FuncPtrAdapter options requires a bindScope (explicit or implied)."),_s.bindScopes.indexOf(j.bindScope)<0&&d("Invalid options.bindScope ("+j.bindMod+") for FuncPtrAdapter. Expecting one of: ("+_s.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=j.callProxy instanceof Function?j.callProxy:void 0}contextKey(j,ee){return this}contextMap(j){const ee=this.__cmap||(this.__cmap=new Map);let Pe=ee.get(j);return Pe===void 0&&ee.set(j,Pe=[]),Pe}convertArg(j,ee,Pe){let k=this.singleton;if(!k&&this.isContext&&(k=this.contextMap(this.contextKey(ee,Pe))),k&&k[0]===j)return k[1];if(j instanceof Function){this.callProxy&&(j=this.callProxy(j));const $=J(j,this.signature,this.isTransient);if(_s.debugFuncInstall&&_s.debugOut("FuncPtrAdapter installed",this,this.contextKey(ee,Pe),"@"+$,j),k){if(k[1]){_s.debugFuncInstall&&_s.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(ee,Pe),"@"+k[1],j);try{g.scopedAlloc[g.scopedAlloc.length-1].push(k[1])}catch{}}k[0]=j,k[1]=$}return $}else if(a.isPtr(j)||j===null||j===void 0){if(k&&k[1]&&k[1]!==j){_s.debugFuncInstall&&_s.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(ee,Pe),"@"+k[1],j);try{g.scopedAlloc[g.scopedAlloc.length-1].push(k[1])}catch{}k[0]=k[1]=j|0}return j||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},B.FuncPtrAdapter.warnOnUse=!1,B.FuncPtrAdapter.debugFuncInstall=!1,B.FuncPtrAdapter.debugOut=console.debug.bind(console),B.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const ve=q=>B.get(q)||d("Argument adapter not found:",q),je=q=>z.get(q)||d("Result adapter not found:",q);g.xWrap.convertArg=(q,...j)=>ve(q)(...j),g.xWrap.convertArgNoCheck=(q,...j)=>B.get(q)(...j),g.xWrap.convertResult=(q,j)=>q===null?j:q?je(q)(j):void 0,g.xWrap.convertResultNoCheck=(q,j)=>q===null?j:q?z.get(q)(j):void 0,a.xWrap=function(q,j,...ee){arguments.length===3&&Array.isArray(arguments[2])&&(ee=arguments[2]),a.isPtr(q)&&(q=a.functionEntry(q)||d("Function pointer not found in WASM function table."));const Pe=q instanceof Function,k=Pe?q:a.xGet(q);if(Pe&&(q=k.name||"unnamed function"),ee.length!==k.length&&C(q,k.length),j===null&&k.length===0)return k;j!=null&&je(j);for(const b of ee)b instanceof Re?B.set(b,(...v)=>b.convertArg(...v)):ve(b);const $=g.xWrap;return k.length===0?(...b)=>b.length?C(q,k.length):$.convertResult(j,k.call(null)):function(...b){b.length!==k.length&&C(q,k.length);const v=a.scopedAllocPush();try{for(const D in b)b[D]=$.convertArgNoCheck(ee[D],b[D],b,D);return $.convertResultNoCheck(j,k.apply(null,b))}finally{a.scopedAllocPop(v)}}};const gt=function(q,j,ee,Pe,k,$){if(typeof ee=="string"){if(j===1)return $.get(ee);if(j===2){if(Pe)Pe instanceof Function||d(k,"requires a function argument.");else return delete $.get(ee),q;return $.set(ee,Pe),q}}d("Invalid arguments to",k)};return a.xWrap.resultAdapter=function q(j,ee){return gt(q,arguments.length,j,ee,"resultAdapter()",z)},a.xWrap.argAdapter=function q(j,ee){return gt(q,arguments.length,j,ee,"argAdapter()",B)},a.xWrap.FuncPtrAdapter=B.FuncPtrAdapter,a.xCallWrapped=function(q,j,ee,...Pe){return Array.isArray(arguments[3])&&(Pe=arguments[3]),a.xWrap(q,j,ee||[]).apply(null,Pe||[])},a.xWrap.testConvertArg=g.xWrap.convertArg,a.xWrap.testConvertResult=g.xWrap.convertResult,a},globalThis.WhWasmUtilInstaller.yawl=function(a){const d=()=>fetch(a.uri,{credentials:"same-origin"}),u=this,p=function(I){if(a.wasmUtilTarget){const J=(...Ne)=>{throw new Error(Ne.join(" "))},me=a.wasmUtilTarget;if(me.module=I.module,me.instance=I.instance,me.instance.exports.memory||(me.memory=a.imports&&a.imports.env&&a.imports.env.memory||J("Missing 'memory' object!")),!me.alloc&&I.instance.exports.malloc){const Ne=I.instance.exports;me.alloc=function(Ge){return Ne.malloc(Ge)||J("Allocation of",Ge,"bytes failed.")},me.dealloc=function(Ge){Ne.free(Ge)}}u(me)}return a.onload&&a.onload(I,a),I};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(d(),a.imports||{}).then(p)}:function(){return d().then(J=>J.arrayBuffer()).then(J=>WebAssembly.instantiate(J,a.imports||{})).then(p)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function a(d){const u=(...ge)=>{throw new Error(ge.join(" "))};!(d.heap instanceof WebAssembly.Memory)&&!(d.heap instanceof Function)&&u("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(ge){d[ge]instanceof Function||u("Config option '"+ge+"' must be a function.")});const p=a,g=d.heap instanceof Function?d.heap:()=>new Uint8Array(d.heap.buffer),I=d.alloc,J=d.dealloc,me=d.log||console.log.bind(console),Ne=d.memberPrefix||"",Ge=d.memberSuffix||"",ct=d.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!d.bigIntEnabled,ie=globalThis.BigInt,T=globalThis.BigInt64Array,C=d.ptrSizeof||4,B=d.ptrIR||"i32";p.debugFlags||(p.__makeDebugFlags=function(ge=null){ge&&ge.__flags&&(ge=ge.__flags);const We=function Ye(it){return arguments.length===0?Ye.__flags:(it<0?(delete Ye.__flags.getter,delete Ye.__flags.setter,delete Ye.__flags.alloc,delete Ye.__flags.dealloc):(Ye.__flags.getter=(1&it)!==0,Ye.__flags.setter=(2&it)!==0,Ye.__flags.alloc=(4&it)!==0,Ye.__flags.dealloc=(8&it)!==0),Ye._flags)};return Object.defineProperty(We,"__flags",{iterable:!1,writable:!1,value:Object.create(ge)}),ge||We(0),We},p.debugFlags=p.__makeDebugFlags());const z=function(){const ge=new ArrayBuffer(2);return new DataView(ge).setInt16(0,256,!0),new Int16Array(ge)[0]===256}(),F=ge=>ge[1]==="(",xe=ge=>ge==="P",Re=ge=>F(ge)?"p":ge[0],ve=function(ge){switch(Re(ge)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return B;case"j":return"i64";case"f":return"float";case"d":return"double"}u("Unhandled signature IR:",ge)},je=T?()=>!0:()=>u("BigInt64Array is not available."),gt=function(ge){switch(Re(ge)){case"p":case"P":case"s":{switch(C){case 4:return"getInt32";case 8:return je()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return je()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}u("Unhandled DataView getter for signature:",ge)},q=function(ge){switch(Re(ge)){case"p":case"P":case"s":{switch(C){case 4:return"setInt32";case 8:return je()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return je()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}u("Unhandled DataView setter for signature:",ge)},j=function(ge){switch(Re(ge)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return je()&&ie;case"p":case"P":case"s":switch(C){case 4:return Number;case 8:return je()&&ie}break}u("Unhandled DataView set wrapper for signature:",ge)},ee=(ge,We)=>ge+"::"+We,Pe=function(ge,We){return()=>u(ee(ge,We),"is read-only.")},k=new WeakMap,$="(pointer-is-external)",b=function(ge,We,Ye){if(Ye||(Ye=k.get(We)),Ye){if(k.delete(We),Array.isArray(We.ondispose)){let it;for(;it=We.ondispose.shift();)try{it instanceof Function?it.call(We):it instanceof tt?it.dispose():typeof it=="number"&&J(it)}catch(Rt){console.warn("ondispose() for",ge.structName,"@",Ye,"threw. NOT propagating it.",Rt)}}else if(We.ondispose instanceof Function)try{We.ondispose()}catch(it){console.warn("ondispose() for",ge.structName,"@",Ye,"threw. NOT propagating it.",it)}delete We.ondispose,ge.debugFlags.__flags.dealloc&&me("debug.dealloc:",We[$]?"EXTERNAL":"",ge.structName,"instance:",ge.structInfo.sizeof,"bytes @"+Ye),We[$]||J(Ye)}},v=ge=>({configurable:!1,writable:!1,iterable:!1,value:ge}),D=function(ge,We,Ye){let it=!Ye;Ye?Object.defineProperty(We,$,v(Ye)):(Ye=I(ge.structInfo.sizeof),Ye||u("Allocation of",ge.structName,"structure failed."));try{ge.debugFlags.__flags.alloc&&me("debug.alloc:",it?"":"EXTERNAL",ge.structName,"instance:",ge.structInfo.sizeof,"bytes @"+Ye),it&&g().fill(0,Ye,Ye+ge.structInfo.sizeof),k.set(We,Ye)}catch(Rt){throw b(ge,We,Ye),Rt}},he=function(){const ge=this.pointer;return ge?new Uint8Array(g().slice(ge,ge+this.structInfo.sizeof)):null},at=v(ge=>Ne+ge+Ge),_t=function(ge,We,Ye=!0){let it=ge.members[We];if(!it&&(Ne||Ge)){for(const Rt of Object.values(ge.members))if(Rt.key===We){it=Rt;break}!it&&Ye&&u(ee(ge.name,We),"is not a mapped struct member.")}return it},Ce=function ge(We,Ye,it=!1){ge._||(ge._=Mt=>Mt.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const Rt=_t(We.structInfo,Ye,!0);return it?ge._(Rt.signature):Rt.signature},V={configurable:!1,enumerable:!1,get:function(){return k.get(this)},set:()=>u("Cannot assign the 'pointer' property of a struct.")},le=v(function(){const ge=[];for(const We of Object.keys(this.structInfo.members))ge.push(this.memberKey(We));return ge}),ke=new TextDecoder("utf-8"),Ve=new TextEncoder,mt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,se=function(ge,We,Ye){return ke.decode(ge.buffer instanceof mt?ge.slice(We,Ye):ge.subarray(We,Ye))},Ee=function(ge,We,Ye=!1){const it=_t(ge.structInfo,We,Ye);return it&&it.signature.length===1&&it.signature[0]==="s"?it:!1},Se=function(ge){ge.signature!=="s"&&u("Invalid member type signature for C-string value:",JSON.stringify(ge))},st=function(We,Ye){const it=_t(We.structInfo,Ye,!0);Se(it);const Rt=We[it.key];if(!Rt)return null;let Mt=Rt;const Bt=g();for(;Bt[Mt]!==0;++Mt);return Rt===Mt?"":se(Bt,Rt,Mt)},Qe=function(ge,...We){ge.ondispose?Array.isArray(ge.ondispose)||(ge.ondispose=[ge.ondispose]):ge.ondispose=[],ge.ondispose.push(...We)},kt=function(ge){const We=Ve.encode(ge),Ye=I(We.length+1);Ye||u("Allocation error while duplicating string:",ge);const it=g();return it.set(We,Ye),it[Ye+We.length]=0,Ye},Pt=function(ge,We,Ye){const it=_t(ge.structInfo,We,!0);Se(it);const Rt=kt(Ye);return ge[it.key]=Rt,Qe(ge,Rt),ge},tt=function(We,Ye){arguments[2]!==v&&u("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:v(We),structInfo:v(Ye)})};tt.prototype=Object.create(null,{dispose:v(function(){b(this.constructor,this)}),lookupMember:v(function(ge,We=!0){return _t(this.structInfo,ge,We)}),memberToJsString:v(function(ge){return st(this,ge)}),memberIsString:v(function(ge,We=!0){return Ee(this,ge,We)}),memberKey:at,memberKeys:le,memberSignature:v(function(ge,We=!1){return Ce(this,ge,We)}),memoryDump:v(he),pointer:V,setMemberCString:v(function(ge,We){return Pt(this,ge,We)})}),Object.assign(tt.prototype,{addOnDispose:function(...ge){return Qe(this,...ge),this}}),Object.defineProperties(tt,{allocCString:v(kt),isA:v(ge=>ge instanceof tt),hasExternalPointer:v(ge=>ge instanceof tt&&!!ge[$]),memberKey:at});const cn=ge=>Number.isFinite(ge)||ge instanceof(ie||Number),kn=function ge(We,Ye,it){if(!ge._){ge._={getters:{},setters:{},sw:{}};const dn=["i","c","C","p","P","s","f","d","v()"];ct&&dn.push("j"),dn.forEach(function(Yn){ge._.getters[Yn]=gt(Yn),ge._.setters[Yn]=q(Yn),ge._.sw[Yn]=j(Yn)});const S_=/^[ipPsjfdcC]$/,x_=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;ge.sigCheck=function(Yn,k_,Dc,La){Object.prototype.hasOwnProperty.call(Yn,Dc)&&u(Yn.structName,"already has a property named",Dc+"."),S_.test(La)||x_.test(La)||u("Malformed signature for",ee(Yn.structName,k_)+":",La)}}const Rt=We.memberKey(Ye);ge.sigCheck(We.prototype,Ye,Rt,it.signature),it.key=Rt,it.name=Ye;const Mt=Re(it.signature),Bt=ee(We.prototype.structName,Rt),Ht=We.prototype.debugFlags.__flags,Sr=Object.create(null);Sr.configurable=!1,Sr.enumerable=!1,Sr.get=function(){Ht.getter&&me("debug.getter:",ge._.getters[Mt],"for",ve(Mt),Bt,"@",this.pointer,"+",it.offset,"sz",it.sizeof);let dn=new DataView(g().buffer,this.pointer+it.offset,it.sizeof)[ge._.getters[Mt]](0,z);return Ht.getter&&me("debug.getter:",Bt,"result =",dn),dn},it.readOnly?Sr.set=Pe(We.prototype.structName,Rt):Sr.set=function(dn){if(Ht.setter&&me("debug.setter:",ge._.setters[Mt],"for",ve(Mt),Bt,"@",this.pointer,"+",it.offset,"sz",it.sizeof,dn),this.pointer||u("Cannot set struct property on disposed instance."),dn===null)dn=0;else for(;!cn(dn);){if(xe(it.signature)&&dn instanceof tt){dn=dn.pointer||0,Ht.setter&&me("debug.setter:",Bt,"resolved to",dn);break}u("Invalid value for pointer-type",Bt+".")}new DataView(g().buffer,this.pointer+it.offset,it.sizeof)[ge._.setters[Mt]](0,ge._.sw[Mt](dn),z)},Object.defineProperty(We.prototype,Rt,Sr)},Xt=function ge(We,Ye){arguments.length===1?(Ye=We,We=Ye.name):Ye.name||(Ye.name=We),We||u("Struct name is required.");let it=!1;Object.keys(Ye.members).forEach(Bt=>{const Ht=Ye.members[Bt];Ht.sizeof?Ht.sizeof===1?Ht.signature==="c"||Ht.signature==="C"||u("Unexpected sizeof==1 member",ee(Ye.name,Bt),"with signature",Ht.signature):(Ht.sizeof%4!==0&&(console.warn("Invalid struct member description =",Ht,"from",Ye),u(We,"member",Bt,"sizeof is not aligned. sizeof="+Ht.sizeof)),Ht.offset%4!==0&&(console.warn("Invalid struct member description =",Ht,"from",Ye),u(We,"member",Bt,"offset is not aligned. offset="+Ht.offset))):u(We,"member",Bt,"is missing sizeof."),(!it||it.offset<Ht.offset)&&(it=Ht)}),it?Ye.sizeof<it.offset+it.sizeof&&u("Invalid struct config:",We,"max member offset ("+it.offset+") ","extends past end of struct (sizeof="+Ye.sizeof+")."):u("No member property descriptions found.");const Rt=v(p.__makeDebugFlags(ge.debugFlags)),Mt=function Bt(Ht){this instanceof Bt?arguments.length?((Ht!==(Ht|0)||Ht<=0)&&u("Invalid pointer value for",We,"constructor."),D(Bt,this,Ht)):D(Bt,this):u("The",We,"constructor may only be called via 'new'.")};return Object.defineProperties(Mt,{debugFlags:Rt,isA:v(Bt=>Bt instanceof Mt),memberKey:at,memberKeys:le,methodInfoForKey:v(function(Bt){}),structInfo:v(Ye),structName:v(We)}),Mt.prototype=new tt(We,Ye,v),Object.defineProperties(Mt.prototype,{debugFlags:Rt,constructor:v(Mt)}),Object.keys(Ye.members).forEach(Bt=>kn(Mt,Bt,Ye.members[Bt])),Mt};return Xt.StructType=tt,Xt.config=d,Xt.allocCString=kt,Xt.debugFlags||(Xt.debugFlags=p.__makeDebugFlags(p.debugFlags)),Xt},globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=(...ie)=>{throw new Error(ie.join(" "))};a.SQLite3Error.toss;const u=a.capi,p=a.wasm,g=a.util;if(globalThis.WhWasmUtilInstaller(p),delete globalThis.WhWasmUtilInstaller,p.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new p.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ie,T)=>ie[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ie=>ie[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new p.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ie=>{let T;return(C,B,z,F)=>{try{const xe=p.cArgvToJs(B,z);return T||(T=p.cArgvToJs(B,F)),ie(xe,T)|0}catch(xe){return xe.resultCode||u.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new p.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ie,T)=>ie[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ie=>ie[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ie,T)=>ie[0],callProxy:ie=>(T,C,B,z,F,xe)=>{try{return B=B&&p.cstrToJs(B),z=z&&p.cstrToJs(z),F=F&&p.cstrToJs(F),xe=xe&&p.cstrToJs(xe),ie(T,C,B,z,F,xe)||0}catch(Re){return Re.resultCode||u.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new p.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ie,T)=>ie[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new p.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ie,T)=>ie[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],p.exports.sqlite3_activate_see instanceof Function&&p.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),p.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ie=>ie[0],callProxy:ie=>(T,C,B,z,F,xe,Re)=>{ie(T,C,B,p.cstrToJs(z),p.cstrToJs(F),xe,Re)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ie=>ie[0],callProxy:ie=>(T,C,B,z,F)=>{ie(T,C,p.cstrToJs(B),p.cstrToJs(z),F)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],p.bigIntEnabled&&p.exports.sqlite3changegroup_add){const ie={signature:"i(ps)",callProxy:T=>(C,B)=>{try{return T(C,p.cstrToJs(B))|0}catch(z){return z.resultCode||u.SQLITE_ERROR}}};p.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new p.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new p.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new p.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ie}),new p.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new p.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ie}),new p.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new p.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ie}),new p.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new p.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new p.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ie}),new p.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new p.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new p.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new p.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new p.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new p.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new p.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new p.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new p.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new p.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new p.xWrap.FuncPtrAdapter({name:"xFilter",...ie,contextKey:(T,C)=>T[0]}),"*"]])}p.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],a.StructBinder=globalThis.Jaccwabyt({heap:p.heap8u,alloc:p.alloc,dealloc:p.dealloc,bigIntEnabled:p.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ie=p.xWrap.argAdapter("string");p.xWrap.argAdapter("string:flexible",F=>ie(g.flexibleString(F))),p.xWrap.argAdapter("string:static",function(F){return p.isPtr(F)?F:(F=""+F,this[F]||(this[F]=p.allocCString(F)))}.bind(Object.create(null)));const T=p.xWrap.argAdapter("*"),C=function(){};p.xWrap.argAdapter("sqlite3_filename",T)("sqlite3_context*",T)("sqlite3_value*",T)("void*",T)("sqlite3_changegroup*",T)("sqlite3_changeset_iter*",T)("sqlite3_session*",T)("sqlite3_stmt*",F=>T(F instanceof(a?.oo1?.Stmt||C)?F.pointer:F))("sqlite3*",F=>T(F instanceof(a?.oo1?.DB||C)?F.pointer:F))("sqlite3_index_info*",F=>T(F instanceof(u.sqlite3_index_info||C)?F.pointer:F))("sqlite3_module*",F=>T(F instanceof(u.sqlite3_module||C)?F.pointer:F))("sqlite3_vfs*",F=>typeof F=="string"?u.sqlite3_vfs_find(F)||a.SQLite3Error.toss(u.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",F):T(F instanceof(u.sqlite3_vfs||C)?F.pointer:F));const B=p.xWrap.resultAdapter("*");p.xWrap.resultAdapter("sqlite3*",B)("sqlite3_context*",B)("sqlite3_stmt*",B)("sqlite3_value*",B)("sqlite3_vfs*",B)("void*",B),p.exports.sqlite3_step.length===0&&(p.xWrap.doArgcCheck=!1,a.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const F of p.bindingSignatures)u[F[0]]=p.xWrap.apply(null,F);for(const F of p.bindingSignatures.wasm)p[F[0]]=p.xWrap.apply(null,F);const z=function(F){return()=>d(F+"() is unavailable due to lack","of BigInt support in this build.")};for(const F of p.bindingSignatures.int64)u[F[0]]=p.bigIntEnabled?p.xWrap.apply(null,F):z(F[0]);if(delete p.bindingSignatures,p.exports.sqlite3_wasm_db_error){const F=p.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");g.sqlite3_wasm_db_error=function(xe,Re,ve){return Re instanceof a.WasmAllocError?(Re=u.SQLITE_NOMEM,ve=0):Re instanceof Error&&(ve=ve||""+Re,Re=Re.resultCode||u.SQLITE_ERROR),xe?F(xe,Re,ve):Re}}else g.sqlite3_wasm_db_error=function(F,xe,Re){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),xe}}{const ie=p.xCall("sqlite3_wasm_enum_json");ie||d("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),p.ctype=JSON.parse(p.cstrToJs(ie));const T=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];p.bigIntEnabled&&T.push("serialize","session","vtab");for(const z of T)for(const F of Object.entries(p.ctype[z]))u[F[0]]=F[1];p.functionEntry(u.SQLITE_WASM_DEALLOC)||d("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+u.SQLITE_WASM_DEALLOC+").");const C=Object.create(null);for(const z of["resultCodes"])for(const F of Object.entries(p.ctype[z]))C[F[1]]=F[0];u.sqlite3_js_rc_str=z=>C[z];const B=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!g.isUIThread(),sqlite3_index_info:!p.bigIntEnabled,sqlite3_index_constraint:!p.bigIntEnabled,sqlite3_index_orderby:!p.bigIntEnabled,sqlite3_index_constraint_usage:!p.bigIntEnabled});for(const z of p.ctype.structs)B[z.name]||(u[z.name]=a.StructBinder(z));if(u.sqlite3_index_info){for(const z of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])u.sqlite3_index_info[z]=u[z],delete u[z];u.sqlite3_vtab_config=p.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const I=(ie,T,C)=>a.util.sqlite3_wasm_db_error(ie,u.SQLITE_MISUSE,T+"() requires "+C+" argument"+(C===1?"":"s")+"."),J=ie=>g.sqlite3_wasm_db_error(ie,u.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),me=ie=>p.xWrap.argAdapter("sqlite3*")(ie),Ne=ie=>p.isPtr(ie)?p.cstrToJs(ie):ie,Ge=function(ie,T){ie=me(ie);let C=this.dbMap.get(ie);if(T)!C&&T>0&&this.dbMap.set(ie,C=Object.create(null));else return this.dbMap.delete(ie),C;return C}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Ge.addCollation=function(ie,T){const C=Ge(ie,1);C.collation||(C.collation=new Set),C.collation.add(Ne(T).toLowerCase())},Ge._addUDF=function(ie,T,C,B){T=Ne(T).toLowerCase();let z=B.get(T);z||B.set(T,z=new Set),z.add(C<0?-1:C)},Ge.addFunction=function(ie,T,C){const B=Ge(ie,1);B.udf||(B.udf=new Map),this._addUDF(ie,T,C,B.udf)},Ge.addWindowFunc=function(ie,T,C){const B=Ge(ie,1);B.wudf||(B.wudf=new Map),this._addUDF(ie,T,C,B.wudf)},Ge.cleanup=function(ie){ie=me(ie);const T=[ie];for(const z of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const F=p.exports[z];T.length=F.length;try{u[z](...T)}catch(xe){console.warn("close-time call of",z+"(",T,") threw:",xe)}}const C=Ge(ie,0);if(!C)return;if(C.collation){for(const z of C.collation)try{u.sqlite3_create_collation_v2(ie,z,u.SQLITE_UTF8,0,0,0)}catch{}delete C.collation}let B;for(B=0;B<2;++B){const z=B?C.wudf:C.udf;if(!z)continue;const F=B?u.sqlite3_create_window_function:u.sqlite3_create_function_v2;for(const xe of z){const Re=xe[0],ve=xe[1],je=[ie,Re,0,u.SQLITE_UTF8,0,0,0,0,0];B&&je.push(0);for(const gt of ve)try{je[2]=gt,F.apply(null,je)}catch{}ve.clear()}z.clear()}delete C.udf,delete C.wudf};{const ie=p.xWrap("sqlite3_close_v2","int","sqlite3*");u.sqlite3_close_v2=function(T){if(arguments.length!==1)return I(T,"sqlite3_close_v2",1);if(T)try{Ge.cleanup(T)}catch{}return ie(T)}}if(u.sqlite3session_table_filter){const ie=p.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);u.sqlite3session_delete=function(T){if(arguments.length!==1)return I(pDb,"sqlite3session_delete",1);T&&u.sqlite3session_table_filter(T,0,0),ie(T)}}{const ie=(C,B)=>"argv["+B+"]:"+C[0]+":"+p.cstrToJs(C[1]).toLowerCase(),T=p.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new p.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ie}),new p.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ie})]);u.sqlite3_create_collation_v2=function(C,B,z,F,xe,Re){if(arguments.length!==6)return I(C,"sqlite3_create_collation_v2",6);if(!(z&15))z|=u.SQLITE_UTF8;else if(u.SQLITE_UTF8!==(z&15))return J(C);try{const ve=T(C,B,z,F,xe,Re);return ve===0&&xe instanceof Function&&Ge.addCollation(C,B),ve}catch(ve){return g.sqlite3_wasm_db_error(C,ve)}},u.sqlite3_create_collation=(C,B,z,F,xe)=>arguments.length===5?u.sqlite3_create_collation_v2(C,B,z,F,xe,0):I(C,"sqlite3_create_collation",5)}{const ie=function(z,F){return z[0]+":"+(z[2]<0?-1:z[2])+":"+F+":"+p.cstrToJs(z[1]).toLowerCase()},T=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ie,callProxy:z=>(F,xe,Re)=>{try{z(F,...u.sqlite3_values_to_js(xe,Re))}catch(ve){u.sqlite3_result_error_js(F,ve)}}},xFinalAndValue:{signature:"v(p)",contextKey:ie,callProxy:z=>F=>{try{u.sqlite3_result_js(F,z(F))}catch(xe){u.sqlite3_result_error_js(F,xe)}}},xFunc:{signature:"v(pip)",contextKey:ie,callProxy:z=>(F,xe,Re)=>{try{u.sqlite3_result_js(F,z(F,...u.sqlite3_values_to_js(xe,Re)))}catch(ve){u.sqlite3_result_error_js(F,ve)}}},xDestroy:{signature:"v(p)",contextKey:ie,callProxy:z=>F=>{try{z(F)}catch(xe){console.error("UDF xDestroy method threw:",xe)}}}}),C=p.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new p.xWrap.FuncPtrAdapter({name:"xFunc",...T.xFunc}),new p.xWrap.FuncPtrAdapter({name:"xStep",...T.xInverseAndStep}),new p.xWrap.FuncPtrAdapter({name:"xFinal",...T.xFinalAndValue}),new p.xWrap.FuncPtrAdapter({name:"xDestroy",...T.xDestroy})]),B=p.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new p.xWrap.FuncPtrAdapter({name:"xStep",...T.xInverseAndStep}),new p.xWrap.FuncPtrAdapter({name:"xFinal",...T.xFinalAndValue}),new p.xWrap.FuncPtrAdapter({name:"xValue",...T.xFinalAndValue}),new p.xWrap.FuncPtrAdapter({name:"xInverse",...T.xInverseAndStep}),new p.xWrap.FuncPtrAdapter({name:"xDestroy",...T.xDestroy})]);u.sqlite3_create_function_v2=function z(F,xe,Re,ve,je,gt,q,j,ee){if(z.length!==arguments.length)return I(F,"sqlite3_create_function_v2",z.length);if(!(ve&15))ve|=u.SQLITE_UTF8;else if(u.SQLITE_UTF8!==(ve&15))return J(F);try{const Pe=C(F,xe,Re,ve,je,gt,q,j,ee);return Pe===0&&(gt instanceof Function||q instanceof Function||j instanceof Function||ee instanceof Function)&&Ge.addFunction(F,xe,Re),Pe}catch(Pe){return console.error("sqlite3_create_function_v2() setup threw:",Pe),g.sqlite3_wasm_db_error(F,Pe,"Creation of UDF threw: "+Pe)}},u.sqlite3_create_function=function z(F,xe,Re,ve,je,gt,q,j){return z.length===arguments.length?u.sqlite3_create_function_v2(F,xe,Re,ve,je,gt,q,j,0):I(F,"sqlite3_create_function",z.length)},u.sqlite3_create_window_function=function z(F,xe,Re,ve,je,gt,q,j,ee,Pe){if(z.length!==arguments.length)return I(F,"sqlite3_create_window_function",z.length);if(!(ve&15))ve|=u.SQLITE_UTF8;else if(u.SQLITE_UTF8!==(ve&15))return J(F);try{const k=B(F,xe,Re,ve,je,gt,q,j,ee,Pe);return k===0&&(gt instanceof Function||q instanceof Function||j instanceof Function||ee instanceof Function||Pe instanceof Function)&&Ge.addWindowFunc(F,xe,Re),k}catch(k){return console.error("sqlite3_create_window_function() setup threw:",k),g.sqlite3_wasm_db_error(F,k,"Creation of UDF threw: "+k)}},u.sqlite3_create_function_v2.udfSetResult=u.sqlite3_create_function.udfSetResult=u.sqlite3_create_window_function.udfSetResult=u.sqlite3_result_js,u.sqlite3_create_function_v2.udfConvertArgs=u.sqlite3_create_function.udfConvertArgs=u.sqlite3_create_window_function.udfConvertArgs=u.sqlite3_values_to_js,u.sqlite3_create_function_v2.udfSetError=u.sqlite3_create_function.udfSetError=u.sqlite3_create_window_function.udfSetError=u.sqlite3_result_error_js}{const ie=(C,B)=>(typeof C=="string"?B=-1:g.isSQLableTypedArray(C)?(B=C.byteLength,C=g.typedArrayToString(C instanceof ArrayBuffer?new Uint8Array(C):C)):Array.isArray(C)&&(C=C.join(""),B=-1),[C,B]),T={basic:p.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:p.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};u.sqlite3_prepare_v3=function C(B,z,F,xe,Re,ve){if(C.length!==arguments.length)return I(B,"sqlite3_prepare_v3",C.length);const[je,gt]=ie(z,F);switch(typeof je){case"string":return T.basic(B,je,gt,xe,Re,null);case"number":return T.full(B,je,gt,xe,Re,ve);default:return g.sqlite3_wasm_db_error(B,u.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},u.sqlite3_prepare_v2=function C(B,z,F,xe,Re){return C.length===arguments.length?u.sqlite3_prepare_v3(B,z,F,0,xe,Re):I(B,"sqlite3_prepare_v2",C.length)}}{const ie=p.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),T=p.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);u.sqlite3_bind_text=function C(B,z,F,xe,Re){if(C.length!==arguments.length)return I(u.sqlite3_db_handle(B),"sqlite3_bind_text",C.length);if(p.isPtr(F)||F===null)return ie(B,z,F,xe,Re);F instanceof ArrayBuffer?F=new Uint8Array(F):Array.isArray(pMem)&&(F=pMem.join(""));let ve,je;try{if(g.isSQLableTypedArray(F))ve=p.allocFromTypedArray(F),je=F.byteLength;else if(typeof F=="string")[ve,je]=p.allocCString(F);else return g.sqlite3_wasm_db_error(u.sqlite3_db_handle(B),u.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ie(B,z,ve,je,u.SQLITE_WASM_DEALLOC)}catch(gt){return p.dealloc(ve),g.sqlite3_wasm_db_error(u.sqlite3_db_handle(B),gt)}},u.sqlite3_bind_blob=function C(B,z,F,xe,Re){if(C.length!==arguments.length)return I(u.sqlite3_db_handle(B),"sqlite3_bind_blob",C.length);if(p.isPtr(F)||F===null)return T(B,z,F,xe,Re);F instanceof ArrayBuffer?F=new Uint8Array(F):Array.isArray(F)&&(F=F.join(""));let ve,je;try{if(g.isBindableTypedArray(F))ve=p.allocFromTypedArray(F),je=xe>=0?xe:F.byteLength;else if(typeof F=="string")[ve,je]=p.allocCString(F);else return g.sqlite3_wasm_db_error(u.sqlite3_db_handle(B),u.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return T(B,z,ve,je,u.SQLITE_WASM_DEALLOC)}catch(gt){return p.dealloc(ve),g.sqlite3_wasm_db_error(u.sqlite3_db_handle(B),gt)}}}u.sqlite3_config=function(ie,...T){if(arguments.length<2)return u.SQLITE_MISUSE;switch(ie){case u.SQLITE_CONFIG_COVERING_INDEX_SCAN:case u.SQLITE_CONFIG_MEMSTATUS:case u.SQLITE_CONFIG_SMALL_MALLOC:case u.SQLITE_CONFIG_SORTERREF_SIZE:case u.SQLITE_CONFIG_STMTJRNL_SPILL:case u.SQLITE_CONFIG_URI:return p.exports.sqlite3_wasm_config_i(ie,T[0]);case u.SQLITE_CONFIG_LOOKASIDE:return p.exports.sqlite3_wasm_config_ii(ie,T[0],T[1]);case u.SQLITE_CONFIG_MEMDB_MAXSIZE:return p.exports.sqlite3_wasm_config_j(ie,T[0]);case u.SQLITE_CONFIG_GETMALLOC:case u.SQLITE_CONFIG_GETMUTEX:case u.SQLITE_CONFIG_GETPCACHE2:case u.SQLITE_CONFIG_GETPCACHE:case u.SQLITE_CONFIG_HEAP:case u.SQLITE_CONFIG_LOG:case u.SQLITE_CONFIG_MALLOC:case u.SQLITE_CONFIG_MMAP_SIZE:case u.SQLITE_CONFIG_MULTITHREAD:case u.SQLITE_CONFIG_MUTEX:case u.SQLITE_CONFIG_PAGECACHE:case u.SQLITE_CONFIG_PCACHE2:case u.SQLITE_CONFIG_PCACHE:case u.SQLITE_CONFIG_PCACHE_HDRSZ:case u.SQLITE_CONFIG_PMASZ:case u.SQLITE_CONFIG_SERIALIZED:case u.SQLITE_CONFIG_SINGLETHREAD:case u.SQLITE_CONFIG_SQLLOG:case u.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return u.SQLITE_NOTFOUND}};{const ie=new Set;u.sqlite3_auto_extension=function(T){if(T instanceof Function)T=p.installFunction("i(ppp)",T);else if(arguments.length!==1||!p.isPtr(T))return u.SQLITE_MISUSE;const C=p.exports.sqlite3_auto_extension(T);return T!==arguments[0]&&(C===0?ie.add(T):p.uninstallFunction(T)),C},u.sqlite3_cancel_auto_extension=function(T){return!T||arguments.length!==1||!p.isPtr(T)?0:p.exports.sqlite3_cancel_auto_extension(T)},u.sqlite3_reset_auto_extension=function(){p.exports.sqlite3_reset_auto_extension();for(const T of ie)p.uninstallFunction(T);ie.clear()}}const ct=u.sqlite3_vfs_find("kvvfs");if(ct)if(g.isUIThread()){const ie=new u.sqlite3_kvvfs_methods(p.exports.sqlite3_wasm_kvvfs_methods());delete u.sqlite3_kvvfs_methods;const T=p.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,C=p.pstack,B=F=>p.peek(F)===115?sessionStorage:localStorage,z={xRead:(F,xe,Re,ve)=>{const je=C.pointer,gt=p.scopedAllocPush();try{const q=T(F,xe);if(!q)return-3;const j=p.cstrToJs(q),ee=B(F).getItem(j);if(!ee)return-1;const Pe=ee.length;if(ve<=0)return Pe;if(ve===1)return p.poke(Re,0),Pe;const k=p.scopedAllocCString(ee);return ve>Pe+1&&(ve=Pe+1),p.heap8u().copyWithin(Re,k,k+ve-1),p.poke(Re+ve-1,0),ve-1}catch(q){return console.error("kvstorageRead()",q),-2}finally{C.restore(je),p.scopedAllocPop(gt)}},xWrite:(F,xe,Re)=>{const ve=C.pointer;try{const je=T(F,xe);if(!je)return 1;const gt=p.cstrToJs(je);return B(F).setItem(gt,p.cstrToJs(Re)),0}catch(je){return console.error("kvstorageWrite()",je),u.SQLITE_IOERR}finally{C.restore(ve)}},xDelete:(F,xe)=>{const Re=C.pointer;try{const ve=T(F,xe);return ve?(B(F).removeItem(p.cstrToJs(ve)),0):1}catch(ve){return console.error("kvstorageDelete()",ve),u.SQLITE_IOERR}finally{C.restore(Re)}}};for(const F of Object.keys(z))ie[ie.memberKey(F)]=p.installFunction(ie.memberSignature(F),z[F])}else u.sqlite3_vfs_unregister(ct);p.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){a.version={libVersion:"3.43.1",libVersionNumber:3043001,sourceId:"2023-09-11 12:01:27 2d3a40c05c49e1a49264912b1a05bc2143ac0e7c3df588276ce80a4cbc9bd1b0",downloadVersion:3430100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=(...k)=>{throw new a.SQLite3Error(...k)},u=a.capi,p=a.wasm,g=a.util,I=new WeakMap,J=new WeakMap,me=(k,$,b)=>{const v=Object.getOwnPropertyDescriptor(k,$);return v?v.value:b},Ne=function(k,$){return $&&(k instanceof T&&(k=k.pointer),d($,"sqlite3 result code",$+":",k?u.sqlite3_errmsg(k):u.sqlite3_errstr($))),arguments[0]},Ge=p.installFunction("i(ippp)",function(k,$,b,v){u.SQLITE_TRACE_STMT===k&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+$+":",p.cstrToJs(v))}.bind({counter:0})),ct=Object.create(null),ie=function k(...$){if(!k._name2vfs){k._name2vfs=Object.create(null);const le=typeof importScripts=="function"?ke=>d("The VFS for",ke,"is only available in the main window thread."):!1;k._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:le||(()=>"local")},k._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:le||(()=>"session")}}const b=k.normalizeArgs(...$);let v=b.filename,D=b.vfs,he=b.flags;(typeof v!="string"&&typeof v!="number"||typeof he!="string"||D&&typeof D!="string"&&typeof D!="number")&&(a.config.error("Invalid DB ctor args",b,arguments),d("Invalid arguments for DB constructor."));let Ue=typeof v=="number"?p.cstrToJs(v):v;const at=k._name2vfs[Ue];at&&(D=at.vfs,v=Ue=at.filename(Ue));let _t,Ce=0;he.indexOf("c")>=0&&(Ce|=u.SQLITE_OPEN_CREATE|u.SQLITE_OPEN_READWRITE),he.indexOf("w")>=0&&(Ce|=u.SQLITE_OPEN_READWRITE),Ce===0&&(Ce|=u.SQLITE_OPEN_READONLY),Ce|=u.SQLITE_OPEN_EXRESCODE;const V=p.pstack.pointer;try{const le=p.pstack.allocPtr();let ke=u.sqlite3_open_v2(v,le,Ce,D||0);_t=p.peekPtr(le),Ne(_t,ke),u.sqlite3_extended_result_codes(_t,1),he.indexOf("t")>=0&&u.sqlite3_trace_v2(_t,u.SQLITE_TRACE_STMT,Ge,_t)}catch(le){throw _t&&u.sqlite3_close_v2(_t),le}finally{p.pstack.restore(V)}this.filename=Ue,I.set(this,_t),J.set(this,Object.create(null));try{const le=u.sqlite3_js_db_vfs(_t);le||d("Internal error: cannot get VFS for new db handle.");const ke=ct[le];ke instanceof Function?ke(this,a):ke&&Ne(_t,u.sqlite3_exec(_t,ke,0,0,0))}catch(le){throw this.close(),le}};ie.setVfsPostOpenSql=function(k,$){ct[k]=$},ie.normalizeArgs=function(k=":memory:",$="c",b=null){const v={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(v,arguments[0]),v.flags===void 0&&(v.flags="c"),v.vfs===void 0&&(v.vfs=null),v.filename===void 0&&(v.filename=":memory:")):(v.filename=k,v.flags=$,v.vfs=b),v};const T=function(...k){ie.apply(this,k)};T.dbCtorHelper=ie;const C={null:1,number:2,string:3,boolean:4,blob:5};C.undefined==C.null,p.bigIntEnabled&&(C.bigint=C.number);const B=function(){C!==arguments[2]&&d(u.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],I.set(this,arguments[1]),this.parameterCount=u.sqlite3_bind_parameter_count(this.pointer)},z=function(k){return k.pointer||d("DB has been closed."),k},F=function(k,$){return($!==($|0)||$<0||$>=k.columnCount)&&d("Column index",$,"is out of range."),k},xe=function(k,$){const b=Object.create(null);switch(b.opt=Object.create(null),$.length){case 1:typeof $[0]=="string"||g.isSQLableTypedArray($[0])||Array.isArray($[0])?b.sql=$[0]:$[0]&&typeof $[0]=="object"&&(b.opt=$[0],b.sql=b.opt.sql);break;case 2:b.sql=$[0],b.opt=$[1];break;default:d("Invalid argument count for exec().")}b.sql=g.flexibleString(b.sql),typeof b.sql!="string"&&d("Missing SQL argument or unsupported SQL value type.");const v=b.opt;switch(v.returnValue){case"resultRows":v.resultRows||(v.resultRows=[]),b.returnVal=()=>v.resultRows;break;case"saveSql":v.saveSql||(v.saveSql=[]),b.returnVal=()=>v.saveSql;break;case void 0:case"this":b.returnVal=()=>k;break;default:d("Invalid returnValue value:",v.returnValue)}if(!v.callback&&!v.returnValue&&v.rowMode!==void 0&&(v.resultRows||(v.resultRows=[]),b.returnVal=()=>v.resultRows),v.callback||v.resultRows)switch(v.rowMode===void 0?"array":v.rowMode){case"object":b.cbArg=D=>D.get(Object.create(null));break;case"array":b.cbArg=D=>D.get([]);break;case"stmt":Array.isArray(v.resultRows)&&d("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),b.cbArg=D=>D;break;default:if(g.isInt32(v.rowMode)){b.cbArg=D=>D.get(v.rowMode);break}else if(typeof v.rowMode=="string"&&v.rowMode.length>1&&v.rowMode[0]==="$"){const D=v.rowMode.substr(1);b.cbArg=he=>{const Ue=he.get(Object.create(null))[D];return Ue===void 0?d(u.SQLITE_NOTFOUND,"exec(): unknown result column:",D):Ue};break}d("Invalid rowMode:",v.rowMode)}return b},Re=(k,$,b,...v)=>{const D=k.prepare($);try{const he=D.bind(b).step()?D.get(...v):void 0;return D.reset(),he}finally{D.finalize()}},ve=(k,$,b,v)=>k.exec({sql:$,bind:b,rowMode:v,returnValue:"resultRows"});T.checkRc=(k,$)=>Ne(k,$),T.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return z(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const k=this.pointer;if(Object.keys(J.get(this)).forEach(($,b)=>{if(b&&b.pointer)try{b.finalize()}catch{}}),I.delete(this),J.delete(this),u.sqlite3_close_v2(k),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(k=!1,$=!1){const b=z(this).pointer;return k?$?u.sqlite3_total_changes64(b):u.sqlite3_total_changes(b):$?u.sqlite3_changes64(b):u.sqlite3_changes(b)},dbFilename:function(k="main"){return u.sqlite3_db_filename(z(this).pointer,k)},dbName:function(k=0){return u.sqlite3_db_name(z(this).pointer,k)},dbVfsName:function(k=0){let $;const b=u.sqlite3_js_db_vfs(z(this).pointer,k);if(b){const v=new u.sqlite3_vfs(b);try{$=p.cstrToJs(v.$zName)}finally{v.dispose()}}return $},prepare:function(k){z(this);const $=p.pstack.pointer;let b,v;try{b=p.pstack.alloc(8),T.checkRc(this,u.sqlite3_prepare_v2(this.pointer,k,-1,b,null)),v=p.peekPtr(b)}finally{p.pstack.restore($)}v||d("Cannot prepare empty SQL.");const D=new B(this,v,C);return J.get(this)[v]=D,D},exec:function(){z(this);const k=xe(this,arguments);if(!k.sql)return d("exec() requires an SQL string.");const $=k.opt,b=$.callback,v=Array.isArray($.resultRows)?$.resultRows:void 0;let D,he=$.bind,Ue=!!(k.cbArg||$.columnNames||v);const at=p.scopedAllocPush(),_t=Array.isArray($.saveSql)?$.saveSql:void 0;try{const Ce=g.isSQLableTypedArray(k.sql);let V=Ce?k.sql.byteLength:p.jstrlen(k.sql);const le=p.scopedAlloc(2*p.ptrSizeof+(V+1)),ke=le+p.ptrSizeof;let Ve=ke+p.ptrSizeof;const mt=Ve+V;for(Ce?p.heap8().set(k.sql,Ve):p.jstrcpy(k.sql,p.heap8(),Ve,V,!1),p.poke(Ve+V,0);Ve&&p.peek(Ve,"i8");){p.pokePtr([le,ke],0),T.checkRc(this,u.sqlite3_prepare_v3(this.pointer,Ve,V,0,le,ke));const se=p.peekPtr(le);if(Ve=p.peekPtr(ke),V=mt-Ve,!!se){if(_t&&_t.push(u.sqlite3_sql(se).trim()),D=new B(this,se,C),he&&D.parameterCount&&(D.bind(he),he=null),Ue&&D.columnCount){let Ee=Array.isArray($.columnNames)?0:1;if(Ue=!1,k.cbArg||v){for(;D.step();D._lockedByExec=!1){Ee++===0&&D.getColumnNames($.columnNames),D._lockedByExec=!0;const Se=k.cbArg(D);if(v&&v.push(Se),b&&b.call($,Se,D)===!1)break}D._lockedByExec=!1}Ee===0&&D.getColumnNames($.columnNames)}else D.step();D.reset().finalize(),D=null}}}finally{p.scopedAllocPop(at),D&&(delete D._lockedByExec,D.finalize())}return k.returnVal()},createFunction:function($,b,v){const D=Se=>Se instanceof Function;switch(arguments.length){case 1:v=$,$=v.name,b=v.xFunc||0;break;case 2:D(b)||(v=b,b=v.xFunc||0);break}v||(v={}),typeof $!="string"&&d("Invalid arguments: missing function name.");let he=v.xStep||0,Ue=v.xFinal||0;const at=v.xValue||0,_t=v.xInverse||0;let Ce;D(b)?(Ce=!1,(D(he)||D(Ue))&&d("Ambiguous arguments: scalar or aggregate?"),he=Ue=null):D(he)?(D(Ue)||d("Missing xFinal() callback for aggregate or window UDF."),b=null):D(Ue)?d("Missing xStep() callback for aggregate or window UDF."):d("Missing function-type properties."),Ce===!1?(D(at)||D(_t))&&d("xValue and xInverse are not permitted for non-window UDFs."):D(at)?(D(_t)||d("xInverse must be provided if xValue is."),Ce=!0):D(_t)&&d("xValue must be provided if xInverse is.");const V=v.pApp;V!=null&&(typeof V!="number"||!g.isInt32(V))&&d("Invalid value for pApp property. Must be a legal WASM pointer value.");const le=v.xDestroy||0;le&&!D(le)&&d("xDestroy property must be a function.");let ke=0;me(v,"deterministic")&&(ke|=u.SQLITE_DETERMINISTIC),me(v,"directOnly")&&(ke|=u.SQLITE_DIRECTONLY),me(v,"innocuous")&&(ke|=u.SQLITE_INNOCUOUS),$=$.toLowerCase();const Ve=b||he,mt=me(v,"arity"),se=typeof mt=="number"?mt:Ve.length?Ve.length-1:0;let Ee;return Ce?Ee=u.sqlite3_create_window_function(this.pointer,$,se,u.SQLITE_UTF8|ke,V||0,he,Ue,at,_t,le):Ee=u.sqlite3_create_function_v2(this.pointer,$,se,u.SQLITE_UTF8|ke,V||0,b,he,Ue,le),T.checkRc(this,Ee),this},selectValue:function(k,$,b){return Re(this,k,$,0,b)},selectValues:function(k,$,b){const v=this.prepare(k),D=[];try{for(v.bind($);v.step();)D.push(v.get(0,b));v.reset()}finally{v.finalize()}return D},selectArray:function(k,$){return Re(this,k,$,[])},selectObject:function(k,$){return Re(this,k,$,{})},selectArrays:function(k,$){return ve(this,k,$,"array")},selectObjects:function(k,$){return ve(this,k,$,"object")},openStatementCount:function(){return this.pointer?Object.keys(J.get(this)).length:0},transaction:function(k){let $="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&d(u.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),$+=" "+arguments[0],k=arguments[1]),z(this).exec($);try{const b=k(this);return this.exec("COMMIT"),b}catch(b){throw this.exec("ROLLBACK"),b}},savepoint:function(k){z(this).exec("SAVEPOINT oo1");try{const $=k(this);return this.exec("RELEASE oo1"),$}catch($){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),$}},checkRc:function(k){return Ne(this,k)}};const je=function(k){return k.pointer||d("Stmt has been closed."),k},gt=function(k){let $=C[k==null?"null":typeof k];switch($){case C.boolean:case C.null:case C.number:case C.string:return $;case C.bigint:if(p.bigIntEnabled)return $;default:return g.isBindableTypedArray(k)?C.blob:void 0}},q=function(k){return gt(k)||d("Unsupported bind() argument type:",typeof k)},j=function(k,$){const b=typeof $=="number"?$:u.sqlite3_bind_parameter_index(k.pointer,$);return b===0||!g.isInt32(b)?d("Invalid bind() parameter name: "+$):(b<1||b>k.parameterCount)&&d("Bind index",$,"is out of range."),b},ee=function(k,$){return k._lockedByExec&&d("Operation is illegal when statement is locked:",$),k},Pe=function k($,b,v,D){ee(je($),"bind()"),k._||(k._tooBigInt=Ue=>d("BigInt value is too big to store without precision loss:",Ue),k._={string:function(Ue,at,_t,Ce){const[V,le]=p.allocCString(_t,!0);return(Ce?u.sqlite3_bind_blob:u.sqlite3_bind_text)(Ue.pointer,at,V,le,u.SQLITE_WASM_DEALLOC)}}),q(D),b=j($,b);let he=0;switch(D==null?C.null:v){case C.null:he=u.sqlite3_bind_null($.pointer,b);break;case C.string:he=k._.string($,b,D,!1);break;case C.number:{let Ue;g.isInt32(D)?Ue=u.sqlite3_bind_int:typeof D=="bigint"?g.bigIntFits64(D)?p.bigIntEnabled?Ue=u.sqlite3_bind_int64:g.bigIntFitsDouble(D)?(D=Number(D),Ue=u.sqlite3_bind_double):k._tooBigInt(D):k._tooBigInt(D):(D=Number(D),p.bigIntEnabled&&Number.isInteger(D)?Ue=u.sqlite3_bind_int64:Ue=u.sqlite3_bind_double),he=Ue($.pointer,b,D);break}case C.boolean:he=u.sqlite3_bind_int($.pointer,b,D?1:0);break;case C.blob:{if(typeof D=="string"){he=k._.string($,b,D,!0);break}else D instanceof ArrayBuffer?D=new Uint8Array(D):g.isBindableTypedArray(D)||d("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const Ue=p.alloc(D.byteLength||1);p.heap8().set(D.byteLength?D:[0],Ue),he=u.sqlite3_bind_blob($.pointer,b,Ue,D.byteLength,u.SQLITE_WASM_DEALLOC);break}default:a.config.warn("Unsupported bind() argument type:",D),d("Unsupported bind() argument type: "+typeof D)}return he&&T.checkRc($.db.pointer,he),$._mayGet=!1,$};B.prototype={finalize:function(){if(this.pointer){ee(this,"finalize()");const k=u.sqlite3_finalize(this.pointer);return delete J.get(this.db)[this.pointer],I.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,k}},clearBindings:function(){return ee(je(this),"clearBindings()"),u.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(k){ee(this,"reset()"),k&&this.clearBindings();const $=u.sqlite3_reset(je(this).pointer);return this._mayGet=!1,Ne(this.db,$),this},bind:function(){je(this);let k,$;switch(arguments.length){case 1:k=1,$=arguments[0];break;case 2:k=arguments[0],$=arguments[1];break;default:d("Invalid bind() arguments.")}return $===void 0?this:(this.parameterCount||d("This statement has no bindable parameters."),this._mayGet=!1,$===null?Pe(this,k,C.null,$):Array.isArray($)?(arguments.length!==1&&d("When binding an array, an index argument is not permitted."),$.forEach((b,v)=>Pe(this,v+1,q(b),b)),this):($ instanceof ArrayBuffer&&($=new Uint8Array($)),typeof $=="object"&&!g.isBindableTypedArray($)?(arguments.length!==1&&d("When binding an object, an index argument is not permitted."),Object.keys($).forEach(b=>Pe(this,b,q($[b]),$[b])),this):Pe(this,k,q($),$)))},bindAsBlob:function(k,$){je(this),arguments.length===1&&($=k,k=1);const b=q($);return C.string!==b&&C.blob!==b&&C.null!==b&&d("Invalid value type for bindAsBlob()"),Pe(this,k,C.blob,$)},step:function(){ee(this,"step()");const k=u.sqlite3_step(je(this).pointer);switch(k){case u.SQLITE_DONE:return this._mayGet=!1;case u.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,a.config.warn("sqlite3_step() rc=",k,u.sqlite3_js_rc_str(k),"SQL =",u.sqlite3_sql(this.pointer)),T.checkRc(this.db.pointer,k)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const k=this.step();return this.reset(),k}finally{try{this.finalize()}catch{}}},get:function(k,$){if(je(this)._mayGet||d("Stmt.step() has not (recently) returned true."),Array.isArray(k)){let b=0;const v=this.columnCount;for(;b<v;)k[b]=this.get(b++);return k}else if(k&&typeof k=="object"){let b=0;const v=this.columnCount;for(;b<v;)k[u.sqlite3_column_name(this.pointer,b)]=this.get(b++);return k}switch(F(this,k),$===void 0?u.sqlite3_column_type(this.pointer,k):$){case u.SQLITE_NULL:return null;case u.SQLITE_INTEGER:if(p.bigIntEnabled){const b=u.sqlite3_column_int64(this.pointer,k);return b>=Number.MIN_SAFE_INTEGER&&b<=Number.MAX_SAFE_INTEGER?Number(b).valueOf():b}else{const b=u.sqlite3_column_double(this.pointer,k);return(b>Number.MAX_SAFE_INTEGER||b<Number.MIN_SAFE_INTEGER)&&d("Integer is out of range for JS integer range: "+b),g.isInt32(b)?b|0:b}case u.SQLITE_FLOAT:return u.sqlite3_column_double(this.pointer,k);case u.SQLITE_TEXT:return u.sqlite3_column_text(this.pointer,k);case u.SQLITE_BLOB:{const b=u.sqlite3_column_bytes(this.pointer,k),v=u.sqlite3_column_blob(this.pointer,k),D=new Uint8Array(b);return b&&D.set(p.heap8u().slice(v,v+b),0),b&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(D.buffer),D}default:d("Don't know how to translate","type of result column #"+k+".")}d("Not reached.")},getInt:function(k){return this.get(k,u.SQLITE_INTEGER)},getFloat:function(k){return this.get(k,u.SQLITE_FLOAT)},getString:function(k){return this.get(k,u.SQLITE_TEXT)},getBlob:function(k){return this.get(k,u.SQLITE_BLOB)},getJSON:function(k){const $=this.get(k,u.SQLITE_STRING);return $===null?$:JSON.parse($)},getColumnName:function(k){return u.sqlite3_column_name(F(je(this),k).pointer,k)},getColumnNames:function(k=[]){F(je(this),0);const $=this.columnCount;for(let b=0;b<$;++b)k.push(u.sqlite3_column_name(this.pointer,b));return k},getParamIndex:function(k){return je(this).parameterCount?u.sqlite3_bind_parameter_index(this.pointer,k):void 0}};{const k={enumerable:!0,get:function(){return I.get(this)},set:()=>d("The pointer property is read-only.")};Object.defineProperty(B.prototype,"pointer",k),Object.defineProperty(T.prototype,"pointer",k)}if(Object.defineProperty(B.prototype,"columnCount",{enumerable:!1,get:function(){return u.sqlite3_column_count(this.pointer)},set:()=>d("The columnCount property is read-only.")}),a.oo1={DB:T,Stmt:B},g.isUIThread()){a.oo1.JsStorageDb=function($="session"){$!=="session"&&$!=="local"&&d("JsStorageDb db name must be one of 'session' or 'local'."),ie.call(this,{filename:$,flags:"c",vfs:"kvvfs"})};const k=a.oo1.JsStorageDb;k.prototype=Object.create(T.prototype),k.clearStorage=u.sqlite3_js_kvvfs_clear,k.prototype.clearStorage=function(){return k.clearStorage(z(this).filename)},k.storageSize=u.sqlite3_js_kvvfs_size,k.prototype.storageSize=function(){return k.storageSize(z(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){a.initWorker1API=function(){const d=(...T)=>{throw new Error(T.join(" "))};globalThis.WorkerGlobalScope instanceof Function||d("initWorker1API() must be run from a Worker thread."),this.self;const u=this.sqlite3||d("Missing this.sqlite3 object."),p=u.oo1.DB,g=function(T){let C=I.idMap.get(T);return C||(C="db#"+ ++I.idSeq+"@"+T.pointer,I.idMap.set(T,C),C)},I={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(T){const C=new p(T);return this.dbs[g(C)]=C,this.dbList.indexOf(C)<0&&this.dbList.push(C),C},close:function(T,C){if(T){delete this.dbs[g(T)];const B=T.filename,z=u.wasm.sqlite3_wasm_db_vfs(T.pointer,0);T.close();const F=this.dbList.indexOf(T);F>=0&&this.dbList.splice(F,1),C&&B&&z&&u.wasm.sqlite3_wasm_vfs_unlink(z,B)}},post:function(T,C){C&&C.length?(globalThis.postMessage(T,Array.from(C)),C.length=0):globalThis.postMessage(T)},dbs:Object.create(null),getDb:function(T,C=!0){return this.dbs[T]||(C?d("Unknown (or closed) DB ID:",T):void 0)}},J=function(T=I.dbList[0]){return T&&T.pointer?T:d("DB is not opened.")},me=function(T,C=!0){const B=I.getDb(T.dbId,!1)||I.dbList[0];return C?J(B):B},Ne=function(){return I.dbList[0]&&g(I.dbList[0])},Ge=function(T){const C=/^file:.+(vfs=(\w+))/.exec(T);return u.capi.sqlite3_vfs_find(C?C[2]:0)},ct=T=>T===""||T[0]===":",ie={open:function(T){const C=Object.create(null),B=T.args||Object.create(null);B.simulateError&&d("Throwing because of simulateError flag.");const z=Object.create(null);let F,xe;if(C.vfs=B.vfs,ct(B.filename)?C.filename=B.filename||"":(C.filename=B.filename,F=B.byteArray,F&&(xe=Ge(B.filename))),xe){let ve;try{ve=u.wasm.allocFromTypedArray(F);const je=u.wasm.sqlite3_wasm_vfs_create_file(xe,C.filename,ve,F.byteLength);je&&u.SQLite3Error.toss(je)}catch(je){throw new u.SQLite3Error(je.name+" creating "+B.filename+": "+je.message,{cause:je})}finally{ve&&u.wasm.dealloc(ve)}}const Re=I.open(C);return z.filename=Re.filename,z.persistent=!!u.capi.sqlite3_js_db_uses_vfs(Re.pointer,"opfs"),z.dbId=g(Re),z.vfs=Re.dbVfsName(),z},close:function(T){const C=me(T,!1),B={filename:C&&C.filename};if(C){const z=T.args&&typeof T.args=="object"?!!T.args.unlink:!1;I.close(C,z)}return B},exec:function(T){const C=typeof T.args=="string"?{sql:T.args}:T.args||Object.create(null);C.rowMode==="stmt"?d("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):C.sql||d("'exec' requires input SQL.");const B=me(T);(C.callback||Array.isArray(C.resultRows))&&(B._blobXfer=I.xfer);const z=C.callback;let F=0;const xe=!!C.columnNames;typeof z=="string"&&(xe||(C.columnNames=[]),C.callback=function(Re,ve){I.post({type:z,columnNames:C.columnNames,rowNumber:++F,row:Re},I.xfer)});try{const Re=C.countChanges?B.changes(!0,C.countChanges===64):void 0;B.exec(C),Re!==void 0&&(C.changeCount=B.changes(!0,C.countChanges===64)-Re),C.callback instanceof Function&&(C.callback=z,I.post({type:z,columnNames:C.columnNames,rowNumber:null,row:void 0}))}finally{delete B._blobXfer,C.callback&&(C.callback=z)}return C},"config-get":function(){const T=Object.create(null),C=u.config;return["bigIntEnabled"].forEach(function(B){Object.getOwnPropertyDescriptor(C,B)&&(T[B]=C[B])}),T.version=u.version,T.vfsList=u.capi.sqlite3_js_vfs_list(),T.opfsEnabled=!!u.opfs,T},export:function(T){const C=me(T),B={byteArray:u.capi.sqlite3_js_db_export(C.pointer),filename:C.filename,mimetype:"application/x-sqlite3"};return I.xfer.push(B.byteArray.buffer),B},toss:function(T){d("Testing worker exception")},"opfs-tree":async function(T){return u.opfs||d("OPFS support is unavailable."),await u.opfs.treeList()}};globalThis.onmessage=async function(T){T=T.data;let C,B=T.dbId,z=T.type;const F=performance.now();try{ie.hasOwnProperty(z)&&ie[z]instanceof Function?C=await ie[z](T):d("Unknown db worker message type:",T.type)}catch(xe){z="error",C={operation:T.type,message:xe.message,errorClass:xe.name,input:T},xe.stack&&(C.stack=typeof xe.stack=="string"?xe.stack.split(/\n\s*/):xe.stack)}B||(B=C.dbId||Ne()),I.post({type:z,dbId:B,messageId:T.messageId,workerReceivedTime:F,workerRespondTime:performance.now(),departureTime:T.departureTime,result:C},I.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({self,sqlite3:a})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=a.wasm,u=a.capi,p=a.util.toss3,g=Object.create(null),I=Object.create(null),J=a.StructBinder;a.vfs=g,a.vtab=I;const me=u.sqlite3_index_info;me.prototype.nthConstraint=function(T,C=!1){if(T<0||T>=this.$nConstraint)return!1;const B=this.$aConstraint+me.sqlite3_index_constraint.structInfo.sizeof*T;return C?B:new me.sqlite3_index_constraint(B)},me.prototype.nthConstraintUsage=function(T,C=!1){if(T<0||T>=this.$nConstraint)return!1;const B=this.$aConstraintUsage+me.sqlite3_index_constraint_usage.structInfo.sizeof*T;return C?B:new me.sqlite3_index_constraint_usage(B)},me.prototype.nthOrderBy=function(T,C=!1){if(T<0||T>=this.$nOrderBy)return!1;const B=this.$aOrderBy+me.sqlite3_index_orderby.structInfo.sizeof*T;return C?B:new me.sqlite3_index_orderby(B)};const Ne=function T(C,B,z,F=T.installMethodArgcCheck){if(C instanceof J.StructType?!(z instanceof Function)&&!d.isPtr(z)&&p("Usage errror: expecting a Function or WASM pointer to one."):p("Usage error: target object is-not-a StructType."),arguments.length===1)return(je,gt)=>T(C,je,gt,F);T.argcProxy||(T.argcProxy=function(je,gt,q,j){return function(...ee){return q.length!==arguments.length&&p("Argument mismatch for",je.structInfo.name+"::"+gt+": Native signature is:",j),q.apply(this,ee)}},T.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((je,gt)=>{if(typeof je=="number")try{d.uninstallFunction(je)}catch{}}),delete this.ondispose.__removeFuncList)});const xe=C.memberSignature(B);xe.length<2&&p("Member",B,"does not have a function pointer signature:",xe);const Re=C.memberKey(B),ve=F&&!d.isPtr(z)?T.argcProxy(C,Re,z,xe):z;if(d.isPtr(ve))ve&&!d.functionEntry(ve)&&p("Pointer",ve,"is not a WASM function table entry."),C[Re]=ve;else{const je=d.installFunction(ve,C.memberSignature(B,!0));C[Re]=je,(!C.ondispose||!C.ondispose.__removeFuncList)&&(C.addOnDispose("ondispose.__removeFuncList handler",T.removeFuncList),C.ondispose.__removeFuncList=[]),C.ondispose.__removeFuncList.push(Re,je)}return(je,gt)=>T(C,je,gt,F)};Ne.installMethodArgcCheck=!1;const Ge=function(T,C,B=Ne.installMethodArgcCheck){const z=new Map;for(const F of Object.keys(C)){const xe=C[F],Re=z.get(xe);if(Re){const ve=T.memberKey(F);T[ve]=T[T.memberKey(Re)]}else Ne(T,F,xe,B),z.set(xe,F)}return T};J.StructType.prototype.installMethod=function(C,B,z=Ne.installMethodArgcCheck){return arguments.length<3&&C&&typeof C=="object"?Ge(this,...arguments):Ne(this,...arguments)},J.StructType.prototype.installMethods=function(T,C=Ne.installMethodArgcCheck){return Ge(this,T,C)},u.sqlite3_vfs.prototype.registerVfs=function(T=!1){this instanceof a.capi.sqlite3_vfs||p("Expecting a sqlite3_vfs-type argument.");const C=u.sqlite3_vfs_register(this,T?1:0);return C&&p("sqlite3_vfs_register(",this,") failed with rc",C),this.pointer!==u.sqlite3_vfs_find(this.$zName)&&p("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},g.installVfs=function(T){let C=0;const B=["io","vfs"];for(const z of B){const F=T[z];F&&(++C,Ge(F.struct,F.methods,!!F.applyArgcCheck),z==="vfs"&&(!F.struct.$zName&&typeof F.name=="string"&&F.struct.addOnDispose(F.struct.$zName=d.allocCString(F.name)),F.struct.registerVfs(!!F.asDefault)))}return C||p("Misuse: installVfs() options object requires at least","one of:",B),this};const ct=function(T,C){return function(B,z=!1){if(arguments.length===0&&(B=new C),B instanceof C)return this.set(B.pointer,B),B;d.isPtr(B)||a.SQLite3Error.toss("Invalid argument to",T+"()");let F=this.get(B);return z&&this.delete(B),F}.bind(new Map)},ie=function(T,C){const B=ct(T,C);return Object.assign(Object.create(null),{StructType:C,create:z=>{const F=B();return d.pokePtr(z,F.pointer),F},get:z=>B(z),unget:z=>B(z,!0),dispose:z=>{const F=B(z,!0);F&&F.dispose()}})};I.xVtab=ie("xVtab",u.sqlite3_vtab),I.xCursor=ie("xCursor",u.sqlite3_vtab_cursor),I.xIndexInfo=T=>new u.sqlite3_index_info(T),I.xError=function T(C,B,z){if(T.errorReporter instanceof Function)try{T.errorReporter("sqlite3_module::"+C+"(): "+B.message)}catch{}let F;return B instanceof a.WasmAllocError?F=u.SQLITE_NOMEM:arguments.length>2?F=z:B instanceof a.SQLite3Error&&(F=B.resultCode),F||u.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(T,C)=>d.poke(T,C,"i64"),I.setupModule=function(T){let C=!1;const B=this instanceof u.sqlite3_module?this:T.struct||(C=new u.sqlite3_module);try{const z=T.methods||p("Missing 'methods' object.");for(const F of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const xe=F[0],Re=F[1];z[xe]===!0?z[xe]=z[Re]:z[Re]===!0&&(z[Re]=z[xe])}if(T.catchExceptions){const F=function(ve,je){return["xConnect","xCreate"].indexOf(ve)>=0?function(gt,q,j,ee,Pe,k){try{return je(...arguments)||0}catch($){return $ instanceof a.WasmAllocError||(d.dealloc(d.peekPtr(k)),d.pokePtr(k,d.allocCString($.message))),I.xError(ve,$)}}:function(...gt){try{return je(...gt)||0}catch(q){return I.xError(ve,q)}}},xe=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],Re=Object.create(null);for(const ve of xe){const je=z[ve];if(je instanceof Function)ve==="xConnect"&&z.xCreate===je?Re[ve]=z.xCreate:ve==="xCreate"&&z.xConnect===je?Re[ve]=z.xConnect:Re[ve]=F(ve,je);else continue}Ge(B,Re,!1)}else Ge(B,z,!!T.applyArgcCheck);if(B.$iVersion===0){let F;typeof T.iVersion=="number"?F=T.iVersion:B.$xShadowName?F=3:B.$xSavePoint||B.$xRelease||B.$xRollbackTo?F=2:F=1,B.$iVersion=F}}catch(z){throw C&&C.dispose(),z}return B},u.sqlite3_module.prototype.setupModule=function(T){return I.setupModule.call(this,T)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=function u(p){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!p||typeof p!="object")&&(p=Object.create(null));const g=new URL(globalThis.location.href).searchParams;return g.has("opfs-disable")?Promise.resolve(a):(p.verbose===void 0&&(p.verbose=g.has("opfs-verbose")?+g.get("opfs-verbose")||2:1),p.sanityChecks===void 0&&(p.sanityChecks=g.has("opfs-sanity-check")),p.proxyUri===void 0&&(p.proxyUri=u.defaultProxyUri),typeof p.proxyUri=="function"&&(p.proxyUri=p.proxyUri()),new Promise(function(J,me){const Ne=[a.config.error,a.config.warn,a.config.log],Ge=(se,...Ee)=>{p.verbose>se&&Ne[se]("OPFS syncer:",...Ee)},ct=(...se)=>Ge(2,...se),ie=(...se)=>Ge(1,...se),T=(...se)=>Ge(0,...se),C=a.util.toss,B=a.capi,z=a.wasm,F=B.sqlite3_vfs,xe=B.sqlite3_file,Re=B.sqlite3_io_methods,ve=Object.create(null),je=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;ve.metrics={dump:function(){let se,Ee=0,Se=0,st=0;for(se in v.opIds){const Qe=D[se];Ee+=Qe.count,Se+=Qe.time,st+=Qe.wait,Qe.avgTime=Qe.count&&Qe.time?Qe.time/Qe.count:0,Qe.avgWait=Qe.count&&Qe.wait?Qe.wait/Qe.count:0}a.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",D,`
Total of`,Ee,"op(s) for",Se,"ms (incl. "+st+" ms of waiting on the async side)"),a.config.log("Serialization metrics:",D.s11n),k.postMessage({type:"opfs-async-metrics"})},reset:function(){let se;const Ee=st=>st.count=st.time=st.wait=0;for(se in v.opIds)Ee(D[se]=Object.create(null));let Se=D.s11n=Object.create(null);Se=Se.serialize=Object.create(null),Se.count=Se.time=0,Se=D.s11n.deserialize=Object.create(null),Se.count=Se.time=0}};const gt=new Re,q=new F().addOnDispose(()=>gt.dispose());let j;const ee=se=>(j=!0,q.dispose(),me(se)),Pe=()=>(j=!1,J(a)),k=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-f7581b46.js",self.location));setTimeout(()=>{j===void 0&&ee(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),k._originalOnError=k.onerror,k.onerror=function(se){T("Error initializing OPFS asyncer:",se),ee(new Error("Loading OPFS async Worker failed for unknown reasons."))};const $=B.sqlite3_vfs_find(null),b=$?new F($):null;gt.$iVersion=1,q.$iVersion=2,q.$szOsFile=B.sqlite3_file.structInfo.sizeof,q.$mxPathname=1024,q.$zName=z.allocCString("opfs"),q.$xDlOpen=q.$xDlError=q.$xDlSym=q.$xDlClose=null,q.addOnDispose("$zName",q.$zName,"cleanup default VFS wrapper",()=>b?b.dispose():null);const v=Object.create(null);v.verbose=p.verbose,v.littleEndian=(()=>{const se=new ArrayBuffer(2);return new DataView(se).setInt16(0,256,!0),new Int16Array(se)[0]===256})(),v.asyncIdleWaitTime=150,v.asyncS11nExceptions=1,v.fileBufferSize=1024*64,v.sabS11nOffset=v.fileBufferSize,v.sabS11nSize=q.$mxPathname*2,v.sabIO=new SharedArrayBuffer(v.fileBufferSize+v.sabS11nSize),v.opIds=Object.create(null);const D=Object.create(null);{let se=0;v.opIds.whichOp=se++,v.opIds.rc=se++,v.opIds.xAccess=se++,v.opIds.xClose=se++,v.opIds.xDelete=se++,v.opIds.xDeleteNoWait=se++,v.opIds.xFileSize=se++,v.opIds.xLock=se++,v.opIds.xOpen=se++,v.opIds.xRead=se++,v.opIds.xSleep=se++,v.opIds.xSync=se++,v.opIds.xTruncate=se++,v.opIds.xUnlock=se++,v.opIds.xWrite=se++,v.opIds.mkdir=se++,v.opIds["opfs-async-metrics"]=se++,v.opIds["opfs-async-shutdown"]=se++,v.opIds.retry=se++,v.sabOP=new SharedArrayBuffer(se*4),ve.metrics.reset()}v.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(se=>{(v.sq3Codes[se]=B[se])===void 0&&C("Maintenance required: not found:",se)}),v.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const he=(se,...Ee)=>{const Se=v.opIds[se]||C("Invalid op ID:",se);v.s11n.serialize(...Ee),Atomics.store(v.sabOPView,v.opIds.rc,-1),Atomics.store(v.sabOPView,v.opIds.whichOp,Se),Atomics.notify(v.sabOPView,v.opIds.whichOp);const st=performance.now();Atomics.wait(v.sabOPView,v.opIds.rc,-1);const Qe=Atomics.load(v.sabOPView,v.opIds.rc);if(D[se].wait+=performance.now()-st,Qe&&v.asyncS11nExceptions){const kt=v.s11n.deserialize();kt&&T(se+"() async error:",...kt)}return Qe};ve.debug={asyncShutdown:()=>{ie("Shutting down OPFS async listener. The OPFS VFS will no longer work."),he("opfs-async-shutdown")},asyncRestart:()=>{ie("Attempting to restart OPFS VFS async listener. Might work, might not."),k.postMessage({type:"opfs-async-restart"})}};const Ue=()=>{if(v.s11n)return v.s11n;const se=new TextDecoder,Ee=new TextEncoder("utf-8"),Se=new Uint8Array(v.sabIO,v.sabS11nOffset,v.sabS11nSize),st=new DataView(v.sabIO,v.sabS11nOffset,v.sabS11nSize);v.s11n=Object.create(null);const Qe=Object.create(null);Qe.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},Qe.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},Qe.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},Qe.string={id:4};const kt=tt=>Qe[typeof tt]||C("Maintenance required: this value type cannot be serialized.",tt),Pt=tt=>{switch(tt){case Qe.number.id:return Qe.number;case Qe.bigint.id:return Qe.bigint;case Qe.boolean.id:return Qe.boolean;case Qe.string.id:return Qe.string;default:C("Invalid type ID:",tt)}};return v.s11n.deserialize=function(tt=!1){++D.s11n.deserialize.count;const cn=performance.now(),kn=Se[0],Xt=kn?[]:null;if(kn){const ge=[];let We=1,Ye,it,Rt;for(Ye=0;Ye<kn;++Ye,++We)ge.push(Pt(Se[We]));for(Ye=0;Ye<kn;++Ye){const Mt=ge[Ye];Mt.getter?(Rt=st[Mt.getter](We,v.littleEndian),We+=Mt.size):(it=st.getInt32(We,v.littleEndian),We+=4,Rt=se.decode(Se.slice(We,We+it)),We+=it),Xt.push(Rt)}}return tt&&(Se[0]=0),D.s11n.deserialize.time+=performance.now()-cn,Xt},v.s11n.serialize=function(...tt){const cn=performance.now();if(++D.s11n.serialize.count,tt.length){const kn=[];let Xt=0,ge=1;for(Se[0]=tt.length&255;Xt<tt.length;++Xt,++ge)kn.push(kt(tt[Xt])),Se[ge]=kn[Xt].id;for(Xt=0;Xt<tt.length;++Xt){const We=kn[Xt];if(We.setter)st[We.setter](ge,tt[Xt],v.littleEndian),ge+=We.size;else{const Ye=Ee.encode(tt[Xt]);st.setInt32(ge,Ye.byteLength,v.littleEndian),ge+=4,Se.set(Ye,ge),ge+=Ye.byteLength}}}else Se[0]=0;D.s11n.serialize.time+=performance.now()-cn},v.s11n},at=function se(Ee=16){se._chars||(se._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",se._n=se._chars.length);const Se=[];let st=0;for(;st<Ee;++st){const Qe=Math.random()*(se._n*64)%se._n|0;Se[st]=se._chars[Qe]}return Se.join("")},_t=Object.create(null),Ce=Object.create(null);Ce.op=void 0,Ce.start=void 0;const V=se=>{Ce.start=performance.now(),Ce.op=se,++D[se].count},le=()=>D[Ce.op].time+=performance.now()-Ce.start,ke={xCheckReservedLock:function(se,Ee){const Se=_t[se];return z.poke(Ee,Se.lockType?1:0,"i32"),0},xClose:function(se){V("xClose");let Ee=0;const Se=_t[se];return Se&&(delete _t[se],Ee=he("xClose",se),Se.sq3File&&Se.sq3File.dispose()),le(),Ee},xDeviceCharacteristics:function(se){return B.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(se,Ee,Se){return B.SQLITE_NOTFOUND},xFileSize:function(se,Ee){V("xFileSize");let Se=he("xFileSize",se);if(Se==0)try{const st=v.s11n.deserialize()[0];z.poke(Ee,st,"i64")}catch(st){T("Unexpected error reading xFileSize() result:",st),Se=v.sq3Codes.SQLITE_IOERR}return le(),Se},xLock:function(se,Ee){V("xLock");const Se=_t[se];let st=0;return Se.lockType?Se.lockType=Ee:(st=he("xLock",se,Ee),st===0&&(Se.lockType=Ee)),le(),st},xRead:function(se,Ee,Se,st){V("xRead");const Qe=_t[se];let kt;try{kt=he("xRead",se,Se,Number(st)),(kt===0||B.SQLITE_IOERR_SHORT_READ===kt)&&z.heap8u().set(Qe.sabView.subarray(0,Se),Ee)}catch(Pt){T("xRead(",arguments,") failed:",Pt,Qe),kt=B.SQLITE_IOERR_READ}return le(),kt},xSync:function(se,Ee){V("xSync"),++D.xSync.count;const Se=he("xSync",se,Ee);return le(),Se},xTruncate:function(se,Ee){V("xTruncate");const Se=he("xTruncate",se,Number(Ee));return le(),Se},xUnlock:function(se,Ee){V("xUnlock");const Se=_t[se];let st=0;return B.SQLITE_LOCK_NONE===Ee&&Se.lockType&&(st=he("xUnlock",se,Ee)),st===0&&(Se.lockType=Ee),le(),st},xWrite:function(se,Ee,Se,st){V("xWrite");const Qe=_t[se];let kt;try{Qe.sabView.set(z.heap8u().subarray(Ee,Ee+Se)),kt=he("xWrite",se,Se,Number(st))}catch(Pt){T("xWrite(",arguments,") failed:",Pt,Qe),kt=B.SQLITE_IOERR_WRITE}return le(),kt}},Ve={xAccess:function(se,Ee,Se,st){V("xAccess");const Qe=he("xAccess",z.cstrToJs(Ee));return z.poke(st,Qe?0:1,"i32"),le(),0},xCurrentTime:function(se,Ee){return z.poke(Ee,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(se,Ee){return z.poke(Ee,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(se,Ee,Se){V("xDelete");const st=he("xDelete",z.cstrToJs(Ee),Se,!1);return le(),st},xFullPathname:function(se,Ee,Se,st){return z.cstrncpy(st,Ee,Se)<Se?0:B.SQLITE_CANTOPEN},xGetLastError:function(se,Ee,Se){return ie("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ee,Se,st,Qe,kt){V("xOpen");let Pt=0;Se===0?Se=at():typeof Se=="number"&&(B.sqlite3_uri_boolean(Se,"opfs-unlock-asap",0)&&(Pt|=v.opfsFlags.OPFS_UNLOCK_ASAP),Se=z.cstrToJs(Se));const tt=Object.create(null);tt.fid=st,tt.filename=Se,tt.sab=new SharedArrayBuffer(v.fileBufferSize),tt.flags=Qe;const cn=he("xOpen",st,Se,Qe,Pt);return cn||(tt.readOnly&&z.poke(kt,B.SQLITE_OPEN_READONLY,"i32"),_t[st]=tt,tt.sabView=v.sabFileBufView,tt.sq3File=new xe(st),tt.sq3File.$pMethods=gt.pointer,tt.lockType=B.SQLITE_LOCK_NONE),le(),cn}};if(b&&(q.$xRandomness=b.$xRandomness,q.$xSleep=b.$xSleep),q.$xRandomness||(Ve.xRandomness=function(se,Ee,Se){const st=z.heap8u();let Qe=0;for(;Qe<Ee;++Qe)st[Se+Qe]=Math.random()*255e3&255;return Qe}),q.$xSleep||(Ve.xSleep=function(se,Ee){return Atomics.wait(v.sabOPView,v.opIds.xSleep,0,Ee),0}),ve.getResolvedPath=function(se,Ee){const Se=new URL(se,"file://irrelevant").pathname;return Ee?Se.split("/").filter(st=>!!st):Se},ve.getDirForFilename=async function(Ee,Se=!1){const st=ve.getResolvedPath(Ee,!0),Qe=st.pop();let kt=ve.rootDirectory;for(const Pt of st)Pt&&(kt=await kt.getDirectoryHandle(Pt,{create:!!Se}));return[kt,Qe]},ve.mkdir=async function(se){try{return await ve.getDirForFilename(se+"/filepart",!0),!0}catch{return!1}},ve.entryExists=async function(se){try{const[Ee,Se]=await ve.getDirForFilename(se);return await Ee.getFileHandle(Se),!0}catch{return!1}},ve.randomFilename=at,ve.registerVfs=(se=!1)=>z.exports.sqlite3_vfs_register(q.pointer,se?1:0),ve.treeList=async function(){const se=async function Se(st,Qe){Qe.name=st.name,Qe.dirs=[],Qe.files=[];for await(const kt of st.values())if(kt.kind==="directory"){const Pt=Object.create(null);Qe.dirs.push(Pt),await Se(kt,Pt)}else Qe.files.push(kt.name)},Ee=Object.create(null);return await se(ve.rootDirectory,Ee),Ee},ve.rmfr=async function(){const se=ve.rootDirectory,Ee={recurse:!0};for await(const Se of se.values())se.removeEntry(Se.name,Ee)},ve.unlink=async function(se,Ee=!1,Se=!1){try{const[st,Qe]=await ve.getDirForFilename(se,!1);return await st.removeEntry(Qe,{recursive:Ee}),!0}catch(st){if(Se)throw new Error("unlink(",arguments[0],") failed: "+st.message,{cause:st});return!1}},ve.traverse=async function(se){const Ee={recursive:!0,directory:ve.rootDirectory};typeof se=="function"&&(se={callback:se}),se=Object.assign(Ee,se||{}),async function st(Qe,kt){for await(const Pt of Qe.values()){if(se.callback(Pt,Qe,kt)===!1)return!1;if(se.recursive&&Pt.kind==="directory"&&await st(Pt,kt+1)===!1)break}}(se.directory,0)},ve.importDb=async function(se,Ee){Ee instanceof ArrayBuffer&&(Ee=new Uint8Array(Ee));const Se=Ee.byteLength;(Se<512||Se%512!=0)&&C("Byte array size is invalid for an SQLite db.");const st="SQLite format 3";for(let tt=0;tt<st.length;++tt)st.charCodeAt(tt)!==Ee[tt]&&C("Input does not contain an SQLite database header.");let Qe;const[kt,Pt]=await ve.getDirForFilename(se,!0);try{Qe=await(await kt.getFileHandle(Pt,{create:!0})).createSyncAccessHandle(),Qe.truncate(0);const cn=Qe.write(Ee,{at:0});return cn!=Se&&C("Expected to write "+Se+" bytes but wrote "+cn+"."),Qe.write(new Uint8Array([1,1]),{at:18}),cn}catch(tt){throw Qe&&(await Qe.close(),Qe=void 0),await kt.removeEntry(Pt).catch(()=>{}),tt}finally{Qe&&await Qe.close()}},a.oo1){const se=function(...Ee){const Se=a.oo1.DB.dbCtorHelper.normalizeArgs(...Ee);Se.vfs=q.$zName,a.oo1.DB.dbCtorHelper.call(this,Se)};se.prototype=Object.create(a.oo1.DB.prototype),a.oo1.OpfsDb=se,se.importDb=ve.importDb,a.oo1.DB.dbCtorHelper.setVfsPostOpenSql(q.pointer,function(Ee,Se){Se.capi.sqlite3_busy_timeout(Ee,1e4),Se.capi.sqlite3_exec(Ee,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}const mt=function(){const se=z.scopedAllocPush(),Ee=new xe;try{const Se=Ee.pointer,st=B.SQLITE_OPEN_CREATE|B.SQLITE_OPEN_READWRITE|B.SQLITE_OPEN_MAIN_DB,Qe=z.scopedAlloc(8),kt="/sanity/check/file"+at(8),Pt=z.scopedAllocCString(kt);let tt;if(v.s11n.serialize("This is  string."),tt=v.s11n.deserialize(),ct("deserialize() says:",tt),tt[0]!=="This is  string."&&C("String d13n error."),Ve.xAccess(q.pointer,Pt,0,Qe),tt=z.peek(Qe,"i32"),ct("xAccess(",kt,") exists ?=",tt),tt=Ve.xOpen(q.pointer,Pt,Se,st,Qe),ct("open rc =",tt,"state.sabOPView[xOpen] =",v.sabOPView[v.opIds.xOpen]),tt!==0){T("open failed with code",tt);return}Ve.xAccess(q.pointer,Pt,0,Qe),tt=z.peek(Qe,"i32"),tt||C("xAccess() failed to detect file."),tt=ke.xSync(Ee.pointer,0),tt&&C("sync failed w/ rc",tt),tt=ke.xTruncate(Ee.pointer,1024),tt&&C("truncate failed w/ rc",tt),z.poke(Qe,0,"i64"),tt=ke.xFileSize(Ee.pointer,Qe),tt&&C("xFileSize failed w/ rc",tt),ct("xFileSize says:",z.peek(Qe,"i64")),tt=ke.xWrite(Ee.pointer,Pt,10,1),tt&&C("xWrite() failed!");const cn=z.scopedAlloc(16);tt=ke.xRead(Ee.pointer,cn,6,2),z.poke(cn+6,0);let kn=z.cstrToJs(cn);ct("xRead() got:",kn),kn!=="sanity"&&C("Unexpected xRead() value."),Ve.xSleep&&(ct("xSleep()ing before close()ing..."),Ve.xSleep(q.pointer,2e3),ct("waking up from xSleep()")),tt=ke.xClose(Se),ct("xClose rc =",tt,"sabOPView =",v.sabOPView),ct("Deleting file:",kt),Ve.xDelete(q.pointer,Pt,4660),Ve.xAccess(q.pointer,Pt,0,Qe),tt=z.peek(Qe,"i32"),tt&&C("Expecting 0 from xAccess(",kt,") after xDelete()."),ie("End of OPFS sanity checks.")}finally{Ee.dispose(),z.scopedAllocPop(se)}};k.onmessage=function({data:se}){switch(se.type){case"opfs-unavailable":ee(new Error(se.payload.join(" ")));break;case"opfs-async-loaded":k.postMessage({type:"opfs-async-init",args:v});break;case"opfs-async-inited":{if(j===!0)break;try{a.vfs.installVfs({io:{struct:gt,methods:ke},vfs:{struct:q,methods:Ve}}),v.sabOPView=new Int32Array(v.sabOP),v.sabFileBufView=new Uint8Array(v.sabIO,0,v.fileBufferSize),v.sabS11nView=new Uint8Array(v.sabIO,v.sabS11nOffset,v.sabS11nSize),Ue(),p.sanityChecks&&(ie("Running sanity checks because of opfs-sanity-check URL arg..."),mt()),je()?navigator.storage.getDirectory().then(Ee=>{k.onerror=k._originalOnError,delete k._originalOnError,a.opfs=ve,ve.rootDirectory=Ee,ct("End of OPFS sqlite3_vfs setup.",q),Pe()}).catch(ee):Pe()}catch(Ee){T(Ee),ee(Ee)}break}default:{const Ee="Unexpected message from the OPFS async worker: "+JSON.stringify(se);T(Ee),ee(new Error(Ee));break}}}}))};d.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async u=>{try{let p=d.defaultProxyUri;return u.scriptInfo.sqlite3Dir&&(d.defaultProxyUri=u.scriptInfo.sqlite3Dir+p),d().catch(g=>{u.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",g.message)})}catch(p){return u.config.error("installOpfsVfs() exception:",p),Promise.reject(p)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(a){const d=a.util.toss,u=a.util.toss3,p=Object.create(null),g=a.capi,I=a.wasm,J=4096,me=512,Ne=4,Ge=8,ct=me+Ne,ie=me,T=ct,C=J,B=g.SQLITE_OPEN_MAIN_DB|g.SQLITE_OPEN_MAIN_JOURNAL|g.SQLITE_OPEN_SUPER_JOURNAL|g.SQLITE_OPEN_WAL,z=".opaque",F=()=>Math.random().toString(36).slice(2),xe=new TextDecoder,Re=new TextEncoder,ve=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),je=[a.config.error,a.config.warn,a.config.log];a.config.log;const gt=a.config.warn;a.config.error;const q=new Map,j=Ce=>q.get(Ce),ee=(Ce,V)=>{V?q.set(Ce,V):q.delete(Ce)},Pe=new Map,k=Ce=>Pe.get(Ce),$=(Ce,V)=>{V?Pe.set(Ce,V):Pe.delete(Ce)},b={xCheckReservedLock:function(Ce,V){const le=k(Ce);return le.log("xCheckReservedLock"),le.storeErr(),I.poke32(V,1),0},xClose:function(Ce){const V=k(Ce);V.storeErr();const le=V.getOFileForS3File(Ce);if(le)try{V.log(`xClose ${le.path}`),V.mapS3FileToOFile(Ce,!1),le.sah.flush(),le.flags&g.SQLITE_OPEN_DELETEONCLOSE&&V.deletePath(le.path)}catch(ke){return V.storeErr(ke),g.SQLITE_IOERR}return 0},xDeviceCharacteristics:function(Ce){return g.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ce,V,le){return g.SQLITE_NOTFOUND},xFileSize:function(Ce,V){const le=k(Ce);le.log("xFileSize");const Ve=le.getOFileForS3File(Ce).sah.getSize()-C;return I.poke64(V,BigInt(Ve)),0},xLock:function(Ce,V){const le=k(Ce);le.log(`xLock ${V}`),le.storeErr();const ke=le.getOFileForS3File(Ce);return ke.lockType=V,0},xRead:function(Ce,V,le,ke){const Ve=k(Ce);Ve.storeErr();const mt=Ve.getOFileForS3File(Ce);Ve.log(`xRead ${mt.path} ${le} @ ${ke}`);try{const se=mt.sah.read(I.heap8u().subarray(V,V+le),{at:C+Number(ke)});return se<le?(I.heap8u().fill(0,V+se,V+le),g.SQLITE_IOERR_SHORT_READ):0}catch(se){return Ve.storeErr(se),g.SQLITE_IOERR}},xSectorSize:function(Ce){return J},xSync:function(Ce,V){const le=k(Ce);le.log(`xSync ${V}`),le.storeErr();const ke=le.getOFileForS3File(Ce);try{return ke.sah.flush(),0}catch(Ve){return le.storeErr(Ve),g.SQLITE_IOERR}},xTruncate:function(Ce,V){const le=k(Ce);le.log(`xTruncate ${V}`),le.storeErr();const ke=le.getOFileForS3File(Ce);try{return ke.sah.truncate(C+Number(V)),0}catch(Ve){return le.storeErr(Ve),g.SQLITE_IOERR}},xUnlock:function(Ce,V){const le=k(Ce);le.log("xUnlock");const ke=le.getOFileForS3File(Ce);return ke.lockType=V,0},xWrite:function(Ce,V,le,ke){const Ve=k(Ce);Ve.storeErr();const mt=Ve.getOFileForS3File(Ce);Ve.log(`xWrite ${mt.path} ${le} ${ke}`);try{return mt.sah.write(I.heap8u().subarray(V,V+le),{at:C+Number(ke)})===le?0:g.SQLITE_IOERR}catch(se){return Ve.storeErr(se),g.SQLITE_IOERR}}},v=new g.sqlite3_io_methods;v.$iVersion=1,a.vfs.installVfs({io:{struct:v,methods:b}});const D={xAccess:function(Ce,V,le,ke){const Ve=j(Ce);Ve.storeErr();try{const mt=Ve.getPath(V);I.poke32(ke,Ve.hasFilename(mt)?1:0)}catch{I.poke32(ke,0)}return 0},xCurrentTime:function(Ce,V){return I.poke(V,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ce,V){return I.poke(V,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ce,V,le){const ke=j(Ce);ke.log(`xDelete ${I.cstrToJs(V)}`),ke.storeErr();try{return ke.deletePath(ke.getPath(V)),0}catch(Ve){return ke.storeErr(Ve),g.SQLITE_IOERR_DELETE}},xFullPathname:function(Ce,V,le,ke){return I.cstrncpy(ke,V,le)<le?0:g.SQLITE_CANTOPEN},xGetLastError:function(Ce,V,le){const ke=j(Ce);ke.log(`xGetLastError ${V}`);const Ve=ke.popErr();if(Ve){const mt=I.scopedAllocPush();try{const[se,Ee]=I.scopedAllocCString(Ve.message,!0);I.cstrncpy(le,se,V),Ee>V&&I.poke8(le+V-1,0)}catch{return g.SQLITE_NOMEM}finally{I.scopedAllocPop(mt)}}return 0},xOpen:function(V,le,ke,Ve,mt){const se=j(V);try{se.log(`xOpen ${I.cstrToJs(le)} ${Ve}`);const Ee=le&&I.peek8(le)?se.getPath(le):F();let Se=se.getSAHForPath(Ee);!Se&&Ve&g.SQLITE_OPEN_CREATE&&(se.getFileCount()<se.getCapacity()?(Se=se.nextAvailableSAH(),se.setAssociatedPath(Se,Ee,Ve)):d("SAH pool is full. Cannot create file",Ee)),Se||d("file not found:",Ee);const st={path:Ee,flags:Ve,sah:Se};se.mapS3FileToOFile(ke,st),st.lockType=g.SQLITE_LOCK_NONE;const Qe=new g.sqlite3_file(ke);return Qe.$pMethods=v.pointer,Qe.dispose(),I.poke32(mt,Ve),0}catch(Ee){return se.storeErr(Ee),g.SQLITE_CANTOPEN}}},he=function(Ce){a.capi.sqlite3_vfs_find(Ce)&&u("VFS name is already registered:",Ce);const V=new g.sqlite3_vfs,le=g.sqlite3_vfs_find(null),ke=le?new g.sqlite3_vfs(le):null;return V.$iVersion=2,V.$szOsFile=g.sqlite3_file.structInfo.sizeof,V.$mxPathname=me,V.addOnDispose(V.$zName=I.allocCString(Ce),()=>ee(V.pointer,0)),ke&&(V.$xRandomness=ke.$xRandomness,V.$xSleep=ke.$xSleep,ke.dispose()),!V.$xRandomness&&!D.xRandomness&&(D.xRandomness=function(Ve,mt,se){const Ee=I.heap8u();let Se=0;for(;Se<mt;++Se)Ee[se+Se]=Math.random()*255e3&255;return Se}),!V.$xSleep&&!D.xSleep&&(D.xSleep=(Ve,mt)=>0),a.vfs.installVfs({vfs:{struct:V,methods:D}}),V};class Ue{vfsDir;#e;#i;#a;#s=new Map;#n=new Map;#r=new Set;#l=new Map;#t=new Uint8Array(ct);#c;#o;#f;constructor(V=Object.create(null)){this.#f=V.verbosity??ve.verbosity,this.vfsName=V.name||ve.name,this.#o=he(this.vfsName),ee(this.#o.pointer,this),this.vfsDir=V.directory||"."+this.vfsName,this.#c=new DataView(this.#t.buffer,this.#t.byteOffset),this.isReady=this.reset(!!(V.clearOnInit??ve.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(V.initialCapacity||ve.initialCapacity)})}#u(V,...le){this.#f>V&&je[V](this.vfsName+":",...le)}log(...V){this.#u(2,...V)}warn(...V){this.#u(1,...V)}error(...V){this.#u(0,...V)}getVfs(){return this.#o}getCapacity(){return this.#s.size}getFileCount(){return this.#n.size}getFileNames(){const V=[],le=this.#n.keys();for(const ke of le)V.push(ke);return V}async addCapacity(V){for(let le=0;le<V;++le){const ke=F(),mt=await(await this.#i.getFileHandle(ke,{create:!0})).createSyncAccessHandle();this.#s.set(mt,ke),this.setAssociatedPath(mt,"",0)}return this.getCapacity()}async reduceCapacity(V){let le=0;for(const ke of Array.from(this.#r)){if(le===V||this.getFileCount()===this.getCapacity())break;const Ve=this.#s.get(ke);ke.close(),await this.#i.removeEntry(Ve),this.#s.delete(ke),this.#r.delete(ke),++le}return le}releaseAccessHandles(){for(const V of this.#s.keys())V.close();this.#s.clear(),this.#n.clear(),this.#r.clear()}async acquireAccessHandles(V){const le=[];for await(const[ke,Ve]of this.#i)Ve.kind==="file"&&le.push([ke,Ve]);return Promise.all(le.map(async([ke,Ve])=>{try{const mt=await Ve.createSyncAccessHandle();if(this.#s.set(mt,ke),V)mt.truncate(C),this.setAssociatedPath(mt,"",0);else{const se=this.getAssociatedPath(mt);se?this.#n.set(se,mt):this.#r.add(mt)}}catch(mt){throw this.storeErr(mt),this.releaseAccessHandles(),mt}}))}getAssociatedPath(V){V.read(this.#t,{at:0});const le=this.#c.getUint32(ie);if(this.#t[0]&&(le&g.SQLITE_OPEN_DELETEONCLOSE||!(le&B)))return gt(`Removing file with unexpected flags ${le.toString(16)}`,this.#t),this.setAssociatedPath(V,"",0),"";const ke=new Uint32Array(Ge/4);V.read(ke,{at:T});const Ve=this.computeDigest(this.#t);if(ke.every((mt,se)=>mt===Ve[se])){const mt=this.#t.findIndex(se=>se===0);return mt===0&&V.truncate(C),mt?xe.decode(this.#t.subarray(0,mt)):""}else return gt("Disassociating file with bad digest."),this.setAssociatedPath(V,"",0),""}setAssociatedPath(V,le,ke){const Ve=Re.encodeInto(le,this.#t);me<=Ve.written+1&&d("Path too long:",le),this.#t.fill(0,Ve.written,me),this.#c.setUint32(ie,ke);const mt=this.computeDigest(this.#t);V.write(this.#t,{at:0}),V.write(mt,{at:T}),V.flush(),le?(this.#n.set(le,V),this.#r.delete(V)):(V.truncate(C),this.#r.add(V))}computeDigest(V){let le=3735928559,ke=1103547991;for(const Ve of V)le=31*le+Ve*307,ke=31*ke+Ve*307;return new Uint32Array([le>>>0,ke>>>0])}async reset(V){await this.isReady;let le=await navigator.storage.getDirectory(),ke;for(const Ve of this.vfsDir.split("/"))Ve&&(ke=le,le=await le.getDirectoryHandle(Ve,{create:!0}));return this.#e=le,this.#a=ke,this.#i=await this.#e.getDirectoryHandle(z,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(V)}getPath(V){return I.isPtr(V)&&(V=I.cstrToJs(V)),(V instanceof URL?V:new URL(V,"file://localhost/")).pathname}deletePath(V){const le=this.#n.get(V);return le&&(this.#n.delete(V),this.setAssociatedPath(le,"",0)),!!le}storeErr(V){return V&&this.error(V),this.$error=V}popErr(){const V=this.$error;return this.$error=void 0,V}nextAvailableSAH(){const[V]=this.#r.keys();return V}getOFileForS3File(V){return this.#l.get(V)}mapS3FileToOFile(V,le){le?(this.#l.set(V,le),$(V,this)):(this.#l.delete(V),$(V,!1))}hasFilename(V){return this.#n.has(V)}getSAHForPath(V){return this.#n.get(V)}async removeVfs(){if(!this.#o.pointer||!this.#i)return!1;g.sqlite3_vfs_unregister(this.#o.pointer),this.#o.dispose();try{this.releaseAccessHandles(),await this.#e.removeEntry(z,{recursive:!0}),this.#i=void 0,await this.#a.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#a=void 0}catch(V){a.config.error(this.vfsName,"removeVfs() failed:",V)}return!0}exportFile(V){const le=this.#n.get(V)||d("File not found:",V),ke=le.getSize()-C,Ve=new Uint8Array(ke>0?ke:0);if(ke>0){const mt=le.read(Ve,{at:C});mt!=ke&&d("Expected to read "+ke+" bytes but read "+mt+".")}return Ve}importDb(V,le){le instanceof ArrayBuffer&&(le=new Uint8Array(le));const ke=le.byteLength;(ke<512||ke%512!=0)&&d("Byte array size is invalid for an SQLite db.");const Ve="SQLite format 3";for(let Ee=0;Ee<Ve.length;++Ee)Ve.charCodeAt(Ee)!==le[Ee]&&d("Input does not contain an SQLite database header.");const mt=this.#n.get(V)||this.nextAvailableSAH()||d("No available handles to import to."),se=mt.write(le,{at:C});se!=ke?(this.setAssociatedPath(mt,"",0),d("Expected to write "+ke+" bytes but wrote "+se+".")):(mt.write(new Uint8Array([1,1]),{at:C+18}),this.setAssociatedPath(mt,V,g.SQLITE_OPEN_MAIN_DB))}}class at{#e;constructor(V){this.#e=V,this.vfsName=V.vfsName}async addCapacity(V){return this.#e.addCapacity(V)}async reduceCapacity(V){return this.#e.reduceCapacity(V)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(V){const le=this.#e.getCapacity();return le<V?this.#e.addCapacity(V-le):le}exportFile(V){return this.#e.exportFile(V)}importDb(V,le){return this.#e.importDb(V,le)}async wipeFiles(){return this.#e.reset(!0)}unlink(V){return this.#e.deletePath(V)}async removeVfs(){return this.#e.removeVfs()}}const _t=async()=>{const Ce=await navigator.storage.getDirectory(),V=".opfs-sahpool-sync-check-"+F(),Ve=(await(await Ce.getFileHandle(V,{create:!0})).createSyncAccessHandle()).close();return await Ve,await Ce.removeEntry(V),Ve?.then&&d("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};a.installOpfsSAHPoolVfs=async function(Ce=Object.create(null)){const V=Ce.name||ve.name;return p[V]?p[V]:!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?p[V]=Promise.reject(new Error("Missing required OPFS APIs.")):p[V]=_t().then(async function(){if(Ce.$testThrowInInit)throw Ce.$testThrowInInit;const le=new Ue(Ce);return le.isReady.then(async()=>{const ke=new at(le);if(a.oo1){const Ve=a.oo1,mt=le.getVfs(),se=function(...Ee){const Se=Ve.DB.dbCtorHelper.normalizeArgs(...Ee);Se.vfs=mt.$zName,Ve.DB.dbCtorHelper.call(this,Se)};se.prototype=Object.create(Ve.DB.prototype),ke.OpfsSAHPoolDb=se,Ve.DB.dbCtorHelper.setVfsPostOpenSql(mt.pointer,function(Ee,Se){Se.capi.sqlite3_exec(Ee,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return le.log("VFS initialized."),ke}).catch(async ke=>(await le.removeVfs().catch(()=>{}),ke))}).catch(le=>p[V]=Promise.reject(le))}}),typeof l<"u"){const a=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?l.asm:wasmExports,memory:l.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=a;let d;try{d=globalThis.sqlite3ApiBootstrap()}catch(u){throw console.error("sqlite3ApiBootstrap() error:",u),u}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}l.sqlite3=d}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),s.ready}})();const hb=function(){const e=Lp;if(!e)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const t=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(t.debugModule=t.urlParams.has("sqlite3.debugModule")?(...s)=>console.warn("sqlite3.debugModule:",...s):()=>{},t.urlParams.has("sqlite3.dir"))t.sqlite3Dir=t.urlParams.get("sqlite3.dir")+"/";else if(t.moduleScript){const s=t.moduleScript.src.split("/");s.pop(),t.sqlite3Dir=s.join("/")+"/"}if(globalThis.sqlite3InitModule=function s(...n){return e(...n).then(r=>{const i=r.sqlite3;i.scriptInfo=t,s.__isUnderTest&&(i.__isUnderTest=!0);const o=i.asyncPostInit;return delete i.asyncPostInit,o()}).catch(r=>{throw console.error("Exception loading sqlite3 module:",r),r})},globalThis.sqlite3InitModule.ready=e.ready,globalThis.sqlite3InitModuleState.moduleScript){const s=globalThis.sqlite3InitModuleState;let n=s.moduleScript.src.split("/");n.pop(),s.scriptDir=n.join("/")+"/"}return t.debugModule("sqlite3InitModuleState =",t),globalThis.sqlite3InitModule}();Lp=hb;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fp=Symbol("Comlink.proxy"),mb=Symbol("Comlink.endpoint"),gb=Symbol("Comlink.releaseProxy"),Ja=Symbol("Comlink.finalizer"),xo=Symbol("Comlink.thrown"),Dp=e=>typeof e=="object"&&e!==null||typeof e=="function",yb={canHandle:e=>Dp(e)&&e[Fp],serialize(e){const{port1:t,port2:s}=new MessageChannel;return Np(e,t),[s,[s]]},deserialize(e){return e.start(),Bp(e)}},vb={canHandle:e=>Dp(e)&&xo in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Mp=new Map([["proxy",yb],["throw",vb]]);function bb(e,t){for(const s of e)if(t===s||s==="*"||s instanceof RegExp&&s.test(t))return!0;return!1}function Np(e,t=globalThis,s=["*"]){t.addEventListener("message",function n(r){if(!r||!r.data)return;if(!bb(s,r.origin)){console.warn(`Invalid origin '${r.origin}' for comlink proxy`);return}const{id:i,type:o,path:c}=Object.assign({path:[]},r.data),f=(r.data.argumentList||[]).map(nr);let _;try{const h=c.slice(0,-1).reduce((w,O)=>w[O],e),y=c.reduce((w,O)=>w[O],e);switch(o){case"GET":_=y;break;case"SET":h[c.slice(-1)[0]]=nr(r.data.value),_=!0;break;case"APPLY":_=y.apply(h,f);break;case"CONSTRUCT":{const w=new y(...f);_=Vp(w)}break;case"ENDPOINT":{const{port1:w,port2:O}=new MessageChannel;Np(e,O),_=xb(w,[w])}break;case"RELEASE":_=void 0;break;default:return}}catch(h){_={value:h,[xo]:0}}Promise.resolve(_).catch(h=>({value:h,[xo]:0})).then(h=>{const[y,w]=jo(h);t.postMessage(Object.assign(Object.assign({},y),{id:i}),w),o==="RELEASE"&&(t.removeEventListener("message",n),$p(t),Ja in e&&typeof e[Ja]=="function"&&e[Ja]())}).catch(h=>{const[y,w]=jo({value:new TypeError("Unserializable return value"),[xo]:0});t.postMessage(Object.assign(Object.assign({},y),{id:i}),w)})}),t.start&&t.start()}function wb(e){return e.constructor.name==="MessagePort"}function $p(e){wb(e)&&e.close()}function Bp(e,t){return Pl(e,[],t)}function go(e){if(e)throw new Error("Proxy has been released and is not useable")}function jp(e){return Tr(e,{type:"RELEASE"}).then(()=>{$p(e)})}const $o=new WeakMap,Bo="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=($o.get(e)||0)-1;$o.set(e,t),t===0&&jp(e)});function Eb(e,t){const s=($o.get(t)||0)+1;$o.set(t,s),Bo&&Bo.register(e,t,e)}function qb(e){Bo&&Bo.unregister(e)}function Pl(e,t=[],s=function(){}){let n=!1;const r=new Proxy(s,{get(i,o){if(go(n),o===gb)return()=>{qb(r),jp(e),n=!0};if(o==="then"){if(t.length===0)return{then:()=>r};const c=Tr(e,{type:"GET",path:t.map(f=>f.toString())}).then(nr);return c.then.bind(c)}return Pl(e,[...t,o])},set(i,o,c){go(n);const[f,_]=jo(c);return Tr(e,{type:"SET",path:[...t,o].map(h=>h.toString()),value:f},_).then(nr)},apply(i,o,c){go(n);const f=t[t.length-1];if(f===mb)return Tr(e,{type:"ENDPOINT"}).then(nr);if(f==="bind")return Pl(e,t.slice(0,-1));const[_,h]=Ju(c);return Tr(e,{type:"APPLY",path:t.map(y=>y.toString()),argumentList:_},h).then(nr)},construct(i,o){go(n);const[c,f]=Ju(o);return Tr(e,{type:"CONSTRUCT",path:t.map(_=>_.toString()),argumentList:c},f).then(nr)}});return Eb(r,e),r}function Sb(e){return Array.prototype.concat.apply([],e)}function Ju(e){const t=e.map(jo);return[t.map(s=>s[0]),Sb(t.map(s=>s[1]))]}const Up=new WeakMap;function xb(e,t){return Up.set(e,t),e}function Vp(e){return Object.assign(e,{[Fp]:!0})}function jo(e){for(const[t,s]of Mp)if(s.canHandle(e)){const[n,r]=s.serialize(e);return[{type:"HANDLER",name:t,value:n},r]}return[{type:"RAW",value:e},Up.get(e)||[]]}function nr(e){switch(e.type){case"HANDLER":return Mp.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Tr(e,t,s){return new Promise(n=>{const r=kb();e.addEventListener("message",function i(o){!o.data||!o.data.id||o.data.id!==r||(e.removeEventListener("message",i),n(o.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:r},t),s)})}function kb(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class Ab{sqliteWorker;dbFile="";sqliteWorkerPath="";rowMode="object";constructor(t,s,n){if(typeof t!="string")throw new Error(`The 'dbFile' parameter passed to the 'SqliteClient' constructor must be of type 'string'. Instead, you passed: '${typeof t}'.`);if(typeof s!="string")throw new Error(`The 'sqliteWorkerPath' parameter passed to the 'SqliteClient' constructor must be of type 'string'. Instead, you passed: '${typeof s}'.`);if(this.dbFile=t,this.sqliteWorkerPath=s,n&&n!=="array"&&n!=="object")throw new Error("Invalid rowMode");this.rowMode=n||this.rowMode}async init(){const t=Bp(new Worker(this.sqliteWorkerPath,{type:"module"}));this.sqliteWorker=await new t,await this.sqliteWorker.init(this.dbFile,this.rowMode)}async executeSql(t,s=[]){if(typeof t!="string")throw new Error(`The 'sqlStatement' parameter passed to the 'executeSql' method of the 'SqliteClient' must be of type 'string'. Instead, you passed: '${typeof t}'.`);if(!Array.isArray(s))throw new Error(`The 'bindParameters' parameter passed to the 'executeSql' method of the 'SqliteClient' must be of type 'array'. Instead, you passed: '${typeof s}'.`);return new Promise(async n=>{await this.sqliteWorker.executeSql(t,s,Vp(r=>n(r)))})}}const Cb="/assets/sqlite-worker-5ebc7312.js",yo="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",zp="/test.sqlite",Xu=await navigator.storage.getDirectory("/");for await(let[e,t]of Xu.entries())"/"+e!=zp&&Xu.removeEntry(e);const wn=new Ab(zp,Cb);await wn.init();const Tb=`
  CREATE TABLE IF NOT EXISTS collection
  (
    name TEXT PRIMARY KEY
  );
  CREATE INDEX IF NOT EXISTS idx_collection_name ON collection (name);

  CREATE TABLE IF NOT EXISTS collection_card
  (
    collection_name TEXT NOT NULL,
    card_id TEXT NOT NULL,
    count INTEGER DEFAULT 1,
    finish STRING DEFAULT 'nonfoil',
    UNIQUE(collection_name, card_id, finish)

    CONSTRAINT fk_collection_name
      FOREIGN KEY (collection_name)
      REFERENCES collection (name)
      ON DELETE CASCADE

    CONSTRAINT fk_card_id
      FOREIGN KEY (card_id)
      REFERENCES card (id)
      ON DELETE CASCADE
  );
  CREATE INDEX IF NOT EXISTS idx_collection_name ON collection_card (collection_name);
  CREATE INDEX IF NOT EXISTS idx_collection_card_id ON collection_card (card_id);

  CREATE TABLE IF NOT EXISTS card
  (
    id TEXT PRIMARY KEY,
    data JSON NOT NULL
  );

  CREATE INDEX IF NOT EXISTS idx_card_id ON card (id);
`,Ob={object:"card",id:"a131d558-5f6b-448b-a378-1882e2d02bd2",oracle_id:"fb9af562-7384-4575-93bb-34f1ada23735",multiverse_ids:[423719],mtgo_id:62665,mtgo_foil_id:62666,tcgplayer_id:126455,cardmarket_id:294870,name:"Alley Strangler",lang:"en",released_at:"2017-01-20",uri:"https://api.scryfall.com/cards/a131d558-5f6b-448b-a378-1882e2d02bd2",scryfall_uri:"https://scryfall.com/card/aer/52/alley-strangler?utm_source=api",layout:"normal",highres_image:!0,image_status:"highres_scan",image_uris:{small:"https://cards.scryfall.io/small/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",normal:"https://cards.scryfall.io/normal/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",large:"https://cards.scryfall.io/large/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",png:"https://cards.scryfall.io/png/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.png?1576381609",art_crop:"https://cards.scryfall.io/art_crop/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609",border_crop:"https://cards.scryfall.io/border_crop/front/a/1/a131d558-5f6b-448b-a378-1882e2d02bd2.jpg?1576381609"},mana_cost:"{2}{B}",cmc:3,type_line:"Creature  Aetherborn Rogue",oracle_text:"Menace",power:"2",toughness:"3",colors:["B"],color_identity:["B"],keywords:["Menace"],legalities:{standard:"not_legal",future:"not_legal",historic:"legal",gladiator:"legal",pioneer:"legal",explorer:"legal",modern:"legal",legacy:"legal",pauper:"legal",vintage:"legal",penny:"not_legal",commander:"legal",oathbreaker:"legal",brawl:"not_legal",historicbrawl:"legal",alchemy:"not_legal",paupercommander:"legal",duel:"legal",oldschool:"not_legal",premodern:"not_legal",predh:"not_legal"},games:["paper","mtgo"],reserved:!1,foil:!0,nonfoil:!0,finishes:["nonfoil","foil"],oversized:!1,promo:!1,reprint:!1,variation:!1,set_id:"a4a0db50-8826-4e73-833c-3fd934375f96",set:"aer",set_name:"Aether Revolt",set_type:"expansion",set_uri:"https://api.scryfall.com/sets/a4a0db50-8826-4e73-833c-3fd934375f96",set_search_uri:"https://api.scryfall.com/cards/search?order=set&q=e%3Aaer&unique=prints",scryfall_set_uri:"https://scryfall.com/sets/aer?utm_source=api",rulings_uri:"https://api.scryfall.com/cards/a131d558-5f6b-448b-a378-1882e2d02bd2/rulings",prints_search_uri:"https://api.scryfall.com/cards/search?order=released&q=oracleid%3Afb9af562-7384-4575-93bb-34f1ada23735&unique=prints",collector_number:"52",digital:!1,rarity:"common",flavor_text:'"You never know what day might be your last."',card_back_id:"0aeebaf5-8c7d-4636-9e82-8c27447861f7",artist:"Efflam Mercier",artist_ids:["b0ab565f-0406-4a72-8291-d48958e14b23"],illustration_id:"e75586a9-a994-48aa-aac2-2cc8ede392bf",border_color:"black",frame:"2015",full_art:!1,textless:!1,booster:!0,story_spotlight:!1,edhrec_rank:19784,penny_rank:9816,prices:{usd:"0.06",usd_foil:"0.15",usd_etched:null,eur:"0.04",eur_foil:"0.13",tix:"0.03"},related_uris:{gatherer:"https://gatherer.wizards.com/Pages/Card/Details.aspx?multiverseid=423719",tcgplayer_infinite_articles:"https://infinite.tcgplayer.com/search?contentMode=article&game=magic&partner=scryfall&q=Alley+Strangler&utm_campaign=affiliate&utm_medium=api&utm_source=scryfall",tcgplayer_infinite_decks:"https://infinite.tcgplayer.com/search?contentMode=deck&game=magic&partner=scryfall&q=Alley+Strangler&utm_campaign=affiliate&utm_medium=api&utm_source=scryfall",edhrec:"https://edhrec.com/route/?cc=Alley+Strangler"},purchase_uris:{tcgplayer:"https://www.tcgplayer.com/product/126455?page=1&utm_campaign=affiliate&utm_medium=api&utm_source=scryfall",cardmarket:"https://www.cardmarket.com/en/Magic/Products/Search?referrer=scryfall&searchString=Alley+Strangler&utm_campaign=card_prices&utm_medium=text&utm_source=scryfall",cardhoarder:"https://www.cardhoarder.com/cards/62665?affiliate_id=scryfall&ref=card-profile&utm_campaign=affiliate&utm_medium=card&utm_source=scryfall"},finish:"nonfoil",count:1,price:.034625515600000004,type:"Creature",collections:["test"]},Ib=`
    insert into collection(name) values ('test') on conflict do nothing;
    insert into collection_card(collection_name, card_id, count, finish) values ('test', 'a131d558-5f6b-448b-a378-1882e2d02bd2', 2, 'foil') on conflict do nothing;
    insert into card(id, data) values ('a131d558-5f6b-448b-a378-1882e2d02bd2', json('${JSON.stringify(Ob)}')) on conflict do nothing;
`;let sr=null;sr=await wn.executeSql(Tb);sr=await wn.executeSql(Ib);const mn=fs("collections",{state:()=>({collections:new Map,open:[]}),getters:{names(e){return[...e.collections.keys()].sort()},all(e){return[...e.collections.keys()].sort()},obj(e){let t=[];for(const[s,n]of e.collections.entries())n.name=s,t.push(n);return t}},actions:{async init(){sr=await wn.executeSql(`
        select collection.name, sum(collection_card.count) as card_count
        from collection
        left outer join collection_card on collection.name == collection_card.collection_name
        left outer join card on collection_card.card_id == card.id
        group by collection_card.collection_name
      `),sr.forEach(e=>{e.name!=="clipboard"&&this.collections.set(e.name,{lastSync:0,downloaded:!0,image:"https://cards.scryfall.io/art_crop/front/7/e/7e78b70b-0c67-4f14-8ad7-c9f8e3f59743.jpg?1562614382",count:e.card_count})})},async refreshPrices(){for(const t of this.open){let s=await wn.executeSql(`select card_id from collection_card where collection_name = '${t}'`);var e=s.map(r=>r.card_id);const n=await Mo(yo+"/prices",{data:e});await wn.executeSql("begin transaction");for(const[r,i]of Object.entries(n.data))s=await wn.executeSql(`
            update card
            set data = json_set(data, '$.prices', json('${JSON.stringify(i)}'))
            where id = '${r}'
        `);await wn.executeSql("commit transaction")}},async delete(e){const t=No();t.collections.has(e)&&await ob(yo+"/collection",{id:t.collections.get(e).id}),sr=await wn.executeSql(`delete from collection where name = '${e}';`),this.collections.delete(e),this.open.splice(this.open.indexOf(e),1)},async addMany(e,t,s="update"){let n=[],r=[];for(const o of t)n.push(`('${o.id}', '${this.prepareJson(o.data)}')`),r.push(`('${e}', '${o.id}', ${o.count}, '${o.finish}')`);await wn.executeSql(`
        insert into card(id, data) 
        values
        ${n.join(",")}
        on conflict(id) do update set data=EXCLUDED.data
      `);let i="do update set count=EXCLUDED.count";s==="add"&&(i="do update set count = count + EXCLUDED.count"),await wn.executeSql(`
        insert into collection_card(collection_name, card_id, count, finish)
        values
        ${r.join(",")}
        on conflict(collection_name, card_id, finish) ${i}
      `)},async save(e,t){let s=Date.now();return await wn.executeSql(`insert into collection(name) values ('${e}') on conflict do nothing;`),Object.keys(t).length>0&&await this.addMany(e,t),this.collections.has(e)||this.collections.set(e,{downloaded:!0,lastSync:s}),this.all},async replaceCard(e,t,s){console.log("Not implemented yet")},async deleteCard(e,t){await wn.executeSql(`
        delete from collection_card
        where collection_name = '${e[[0]]}'
        and card_id = '${t.id}';
      `)},async get(e){const t=await this.getCards([e]);return{name:e,cards:t}},async load(e){if(!e)return;const t=No();for(const s of e){const n=this.collections.get(s);n&&!n.downloaded&&await this.download(t.collections.get(s).id)}return await this.getCards(e)},asParams(e){return e.map(t=>`'${t}'`).join(", ")},safeStrings(e){for(const t in e)if(e.hasOwnProperty(t)){const s=e[t];typeof s=="string"&&(e[t]=s.replace(/'/g,"''")),typeof s=="object"&&s!==null&&this.safeStrings(s)}},prepareJson(e){return this.safeStrings(e),JSON.stringify(e)},async getCards(e){sr=await wn.executeSql(`
        select collection_card.card_id, card.data, sum(collection_card.count) as count, collection_card.finish
        from collection_card
        join card on card.id = collection_card.card_id
        where collection_card.collection_name in (${this.asParams(e)})
        group by collection_card.card_id, collection_card.finish
      `);let t=[];for(const s of sr){let n=JSON.parse(s.data);n.count=s.count,s.count>1,n.finish=s.finish,t.push(n)}return t},async upload(e,t){try{const s=await this.get(t);let n={name:s.name,userToken:e,cards:s.cards.map(i=>({id:i.id,count:i.count,tags:i.tags,finish:i.finish}))};return(await Mo(yo+"/collection",n)).data}catch(s){console.error(s)}},async download(e){try{const s=await(await fetch(yo+"/collection?id="+e)).json();await this.save(s.data.name,s.data.cards),this.collections.get(s.data.name).downloaded=!0}catch(t){return console.error(t),!1}return!0}}});var Pb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Lb(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),s}const Fb=Lb(Wg),{unref:Hp,isRef:Wp}=Fb,Db=e=>e!==null&&typeof e=="object",Mb=Array.isArray,Qp=e=>{const t=Wp(e)?Hp(e):e;return Db(t)?Mb(t)?Nb(t):$b(t):t},Kp=e=>e!==null&&!Wp(e)&&typeof e=="object"?Qp(e):Hp(e),Nb=e=>{const t=[];return e.forEach(s=>{t.push(Kp(s))}),t},$b=e=>{const t={};return Object.keys(e).forEach(s=>{t[s]=Kp(e[s])}),t};var Ri={deepUnref:Qp};const Bb="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Jn=fs("meta",{state:()=>({_sets:new Map,precons:[],types:[],forex:{usd:.8,eur:.8},symbols:new Map,cacheKeys:new Map}),getters:{setIds(e){return new Set(e._sets.keys())},setNames(e){let t=new Map;for(const s of e._sets.values())t.set(s.name,s.code);return t},sets(e){return[...e._sets.values()]}},actions:{async getForex(e,t){return(await(await fetch(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${e}/${t}.json`)).json())[t]},async init(){this.forex.eur=await this.getForex("eur","gbp"),this.forex.usd=await this.getForex("usd","gbp");const e=await caches.open("cardDataCache");(await Ns(e,"https://api.scryfall.com/sets",!0)).data.forEach(o=>{o.digital||this._sets.set(o.code,o)});let s=await Ns(e,"https://api.scryfall.com/catalog/creature-types");this.types=s.data.concat(["Enchantment","Sorcery","Land","Creature","Instant","Artifact"]),(await Ns(e,"https://api.scryfall.com/symbology ")).data.forEach(o=>{this.symbols.set(o.symbol,o.svg_uri)});let r=await Ns(e,`${Bb}/precons`,!0);r.data.sort((o,c)=>Date.parse(o.releaseDate)<Date.parse(c.releaseDate)?1:-1);let i={};for(const o of r.data){let c=this._sets.get(o.set).name;i[c]?i[c].push(o):i[c]=[o]}this.precons=[];for(const[o,c]of Object.entries(i))this.precons.push({label:o,options:c})}}}),Xa="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",Rl=["Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],jb=new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}),Yu=e=>(t,s)=>{const n=e.dir;if(e.val==="Price")return t.price?t.price<s.price?n:n*-1:!0;if(e.val==="Mana")return parseFloat(t.cmc)<parseFloat(s.cmc)?n:-1*n;if(e.val==="Count")return parseFloat(t.count)===parseFloat(s.count)?t.price<s.price?1:-1:parseFloat(t.count)<parseFloat(s.count)?n:-1*n;if(e.val==="Released"){let r=new Date(t.released_at+"T00:00:00"),i=new Date(s.released_at+"T00:00:00");return r.getTime()>i.getTime()?n:n*-1}else{if(e.val==="Type")return t.type===s.type?parseFloat(t.cmc)>parseFloat(s.cmc)?n:n*-1:Rl.indexOf(t.type)>Rl.indexOf(s.type)?n:n*-1;if(e.val==="Tag")return t.tags[0].localeCompare(s.tags[0]);if(e.val==="Number")return parseInt(t.collector_number)>parseInt(s.collector_number)}},Wi={state:()=>({cards:new Map,have:new Map,haveExact:new Map,filtered:[],tribes:[],loading:!1,selected:new Set,filters:{colours:{colours:[],mode:"commander"},rarity:[],keywords:[],tribes:[],name:"",cardText:"",sets:[],tags:[],mana:{value:[null,null],min:0,max:20},price:{value:[null,null],min:0,max:100},dupesOnly:!1,group:null,incCol:[],excCol:[],cmpCol:[],ors:{},finish:null,frame:null,border:null,quantity:{value:[null,null],min:0,max:100},oracle_id:null},sort:{val:"Price",dir:1}}),getters:{count(e){return e.filtered.reduce((t,s)=>t+=parseInt(s.count||1),0)},value(e){const t=parseInt(e.filtered.reduce((s,n)=>s+=n.price*(n.count||1),0));return jb.format(t)},sorted(e){return[...e.cards.values()].sort(Yu(e.sort))},grouped(e){let t=e.filters.group,s=new Map;for(const n of e.cards.values()){let r="";t==="Name"?r=n.name:t==="ID"&&(r=n.oracle_id);let i=s.get(r),o=n.price>0?n.price:1/0;if(i){if(i.price<o||i.price===0&&n.price!==0){let c=0+i.count;i={...n},i.count=c}i.count+=n.count||1,s.set(r,i)}else s.set(r,{...n});(!i||i.price>o||i.price===0&&n.price!==0)&&(i={...n},s.set(r,i))}return[...s.values()].sort(Yu(e.sort))},keywords(e){let t=new Set;return e.filtered.forEach(s=>{s.keywords&&s.keywords.forEach(n=>{t.add(n)})}),[...t]},tags(e){let t=new Set;return e.filtered.forEach(s=>{s.tags&&s.tags.forEach(n=>{t.add(n)})}),[...t]},sets(e){let t=new Map;return e.filtered.forEach(s=>{t.has(s.set)||t.set(s.set,s.set_name)}),Object.fromEntries(t)},frame_effects(e){let t=new Set;return e.sorted.forEach(s=>{s.frame_effects&&s.frame_effects.forEach(n=>t.add(n))}),[...t]}},actions:{async _compare(e,t){const n=await mn().getCards(t),r=n.map(o=>o.oracle_id),i=n.map(o=>o.id);e=e.forEach(o=>{this.have.set(o.oracle_id,r.includes(o.oracle_id)),this.haveExact.set(o.id,i.includes(o.id))})},_filterColours(e,t){const{mode:s,colours:n}=t;if(s==="commander"){let r=e.color_identity.filter(i=>!n.includes(i));if(Object.keys(e.color_identity).length>0&&r.length>0)return!1}else{if(s==="any")return e.color_identity.some(r=>n.includes(r));if(s==="all")return n.every(r=>e.color_identity.includes(r));if(s==="exact")return e.color_identity.sort().join()===n.sort().join()}return!0},async applyFilters(){const e=mn();let t=this.filters,s=t.group!==null?this.grouped:this.sorted;if(this.have.clear(),this.haveExact.clear(),t.cmpCol.length>0&&await this._compare(s,t.cmpCol),t.incCol.length>0){const r=(await e.getCards(t.incCol)).map(i=>i.oracle_id);s=s.filter(i=>r.includes(i.oracle_id))}if(t.excCol.length>0){const r=(await e.getCards(t.excCol)).map(i=>i.oracle_id);s=s.filter(i=>!r.includes(i.oracle_id))}s=s.filter(n=>{if(t.cardText&&t.cardText!==""){let Q=n.oracle_text;if(Q===void 0){Q="";for(const E of n.card_faces)Q+=E.oracle_text}if(!new RegExp(t.cardText).test(Q))return!1}if(!(!t.finish||n.finish===t.finish)||!(!t.frame||n.frame_effects&&n.frame_effects.includes(t.frame))||!(!t.name||!t.name!=""||n.name.toLowerCase().includes(t.name.toLowerCase()))||t.colours.colours.length>0&&!this._filterColours(n,t.colours)||!t.keywords.every(Q=>(n.keywords||[]).includes(Q)))return!1;const f=t.tribes.some(Q=>(n.type_line.toLowerCase()||"").includes(Q.toLowerCase()));if(t.tribes.length>0&&!f||!(t.rarity.length>0?[...t.rarity].includes(n.rarity):!0))return!1;let h=!0;if(t.sets.length>0&&(h=t.sets.some(Q=>n.set===Q)),!h)return!1;let y=!0;return t.tags.length>0&&(y=t.tags.some(Q=>(n.tags||[]).includes(Q))),!(!y||!(n.cmc>=(t.mana.value[0]||0)&&n.cmc<=(t.mana.value[1]||20))||!(n.price>=(t.price.value[0]||0)&&n.price<=(t.price.value[1]||9999))||!(n.count>=(t.quantity.value[0]||0)&&n.count<=(t.quantity.value[1]||9999))||!(t.border?n.border_color==t.border:!0)||!(t.oracle_id?n.oracle_id==t.oracle_id:!0))}),this.filtered=s,this.loading=!1},delete(e){this.cards.delete(e.id+e.finish),this.filtered=this.filtered.filter(t=>t.id!==e.id||t.finish!==e.finish)},add(e){const t=Jn();e.finish=e.finishes.length===1?e.finishes[0]:e.finish,e.count||(e.count=1),e.isCommander&&(e.finish="foil"),e.prices===void 0?e.price=0:e.finish==="foil"||e.finish==="etched"||e.prices.eur===null&&e.prices.usd===null?e.prices.usd_etched!==null?(e.price=parseFloat(e.prices.usd_etched)*t.forex.usd,e.finish||(e.finish="etched")):e.prices.eur_foil||e.prices.usd_foil?(e.price=parseFloat(e.prices.eur_foil)*t.forex.eur||parseFloat(e.prices.usd_foil)*t.forex.usd||0,e.finish||(e.finish="foil")):(e.finish="nonfoil",e.price=0):(e.price=parseFloat(e.prices.eur)*t.forex.eur||parseFloat(e.prices.usd)*t.forex.usd||0,e.finish="nonfoil"),e.type_line=e.type_line||"",e.type=Rl.filter(n=>e.type_line.includes(n))[0];const s=this.cards.get(e.id+e.finish);s?s.count+=e.count:this.cards.set(e.id+e.finish,{...e}),this.filtered.push({...e})},addMany(e){this.cards.clear(),this.filtered=[],e.forEach(t=>{this.add(t)}),this.applyFilters()},getSelection(){const e=[];for(const t of this.cards.values())this.selected.has(t.id+t.finish)&&e.push(t);return e},async loadSearch(e,t="card",s=!1){if(e.length===0){this.cards.clear();return}if(e.length<3)return;const n=await caches.open("cardDataCache");let r="https://api.scryfall.com/cards/search?"+new URLSearchParams({q:`${e} -border:silver -is:digital`,unique:t}),i=[];this.loading=!0;try{for(;;){let o=await Ns(n,r,s);if(i=i.concat(o.data),!o.has_more)break;r=o.next_page,await new Promise(c=>setTimeout(c,100))}this.addMany(i)}finally{this.loading=!1}},async loadPrints(e){this.loadSearch(`!"${e}" -border:silver -is:digital`,"prints",!0)},async loadSet(e,t=!1){this.loading=!0;const s=await caches.open("cardDataCache");let n=await Ns(s,`${Xa}/set/?set=`+e,t);this.addMany(n.data),this.loading=!1},async loadCollections(e){this.loading=!0;const t=mn();t.open=e;let s=await t.load(e);e.length===0?(this.cards.empty(),this.filtered=[]):this.addMany(s),this.loading=!1},async reloadCollections(e){let s=await mn().load(e);e.length===0?(this.cards.empty(),this.filtered=[]):this.addMany(s)},async loadPrecon(e){this.loading=!0;const t=await caches.open("cardDataCache"),s=await Ns(t,`${Xa}/precon?name=${e}`,!0);this.addMany(s.data),this.loading=!1},async loadSync(e){this.loading=!0;const s=await(await fetch(Xa+"/collection?id="+e)).json();this.addMany(s.data.cards),this.loading=!1},async loadVersions(e){const t=mn();this.loadCollections(t.open),this.filters.oracle_id=e,this.loading=!1},unrefCards(){return[...this.cards.values()].map(Ri.deepUnref)}}},Kn=fs("cardView",Wi),Gp=fs("printsView",Wi),Ub=fs("searchView",Wi),Qi=fs("clipboardView",Wi),Jp=fs("versionsView",Wi),Js=fs("ui",{state:()=>({sidebar:{show:!1,selected:""},mainView:"cards",zoom:0,columns:3,source:"collection",details:{index:0,show:!1},edit:{card:null},clipboard_change:!1}),getters:{},actions:{showSidebar(e){this.sidebar.selected=e,this.sidebar.show=!0},loadMain(e){this.mainView=e,["upload","precons"].includes(e)&&(this.sidebar.show=!1)}}});function Zn(e){return[null,void 0].indexOf(e)!==-1}function Vb(e,t,s){const{object:n,valueProp:r,mode:i}=yn(e),o=vn().proxy,c=s.iv,f=(y,w=!0)=>{c.value=h(y);const O=_(y);t.emit("change",O,o),w&&(t.emit("input",O),t.emit("update:modelValue",O))},_=y=>n.value||Zn(y)?y:Array.isArray(y)?y.map(w=>w[r.value]):y[r.value],h=y=>Zn(y)?i.value==="single"?{}:[]:y;return{update:f}}function zb(e,t){const{value:s,modelValue:n,mode:r,valueProp:i}=yn(e),o=It(r.value!=="single"?[]:{}),c=ft(()=>n&&n.value!==void 0?n.value:s.value),f=ft(()=>r.value==="single"?o.value[i.value]:o.value.map(h=>h[i.value])),_=ft(()=>r.value!=="single"?o.value.map(h=>h[i.value]).join(","):o.value[i.value]);return{iv:o,internalValue:o,ev:c,externalValue:c,textValue:_,plainValue:f}}function Hb(e,t,s){const{regex:n}=yn(e),r=vn().proxy,i=s.isOpen,o=s.open,c=It(null),f=()=>{c.value=""},_=w=>{c.value=w.target.value},h=w=>{if(n&&n.value){let O=n.value;typeof O=="string"&&(O=new RegExp(O)),w.key.match(O)||w.preventDefault()}},y=w=>{if(n&&n.value){let M=(w.clipboardData||window.clipboardData).getData("Text"),G=n.value;typeof G=="string"&&(G=new RegExp(G)),M.split("").every(fe=>!!fe.match(G))||w.preventDefault()}t.emit("paste",w,r)};return Ut(c,w=>{!i.value&&w&&o(),t.emit("search-change",w,r)}),{search:c,clearSearch:f,handleSearchInput:_,handleKeypress:h,handlePaste:y}}function Wb(e,t,s){const{groupSelect:n,mode:r,groups:i,disabledProp:o}=yn(e),c=It(null),f=h=>{h===void 0||h!==null&&h[o.value]||i.value&&h&&h.group&&(r.value==="single"||!n.value)||(c.value=h)};return{pointer:c,setPointer:f,clearPointer:()=>{f(null)}}}function Ya(e,t=!0){return t?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(//g),"ae").replace(new RegExp(//g),"oe").replace(new RegExp(//g),"o").replace(/\p{Diacritic}/gu,"")}function Qb(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kb(e,t){const s=t.slice().sort();return e.length===t.length&&e.slice().sort().every(function(n,r){return n===s[r]})}function Gb(e,t,s){const{options:n,mode:r,trackBy:i,limit:o,hideSelected:c,createTag:f,createOption:_,label:h,appendNewTag:y,appendNewOption:w,multipleLabel:O,object:M,loading:G,delay:fe,resolveOnLoad:Q,minChars:U,filterResults:E,clearOnSearch:A,clearOnSelect:H,valueProp:te,allowAbsent:Y,groupLabel:x,canDeselect:S,max:L,strict:K,closeOnSelect:N,closeOnDeselect:re,groups:Ie,reverse:Xe,infinite:ae,groupOptions:pe,groupHideEmpty:ze,groupSelect:Be,onCreate:Et,disabledProp:dt,searchStart:$e,searchFilter:qt}=yn(e),vt=vn().proxy,rt=s.iv,qe=s.ev,ne=s.search,Te=s.clearSearch,_e=s.update,De=s.pointer,ut=s.setPointer,P=s.clearPointer,R=s.focus,Z=s.deactivate,ue=s.close,ye=s.localize,we=It([]),Me=It([]),Ae=It(!1),Fe=It(null),ce=It(ae.value&&o.value===-1?10:o.value),Le=ft(()=>f.value||_.value||!1),He=ft(()=>y.value!==void 0?y.value:w.value!==void 0?w.value:!0),Oe=ft(()=>{if(Ie.value){let oe=wt.value||[],Ke=[];return oe.forEach(Ct=>{Zr(Ct[pe.value]).forEach(zt=>{Ke.push(Object.assign({},zt,Ct[dt.value]?{[dt.value]:!0}:{}))})}),Ke}else{let oe=Zr(Me.value||[]);return we.value.length&&(oe=oe.concat(we.value)),oe}}),et=ft(()=>{let oe=Oe.value;return Xe.value&&(oe=oe.reverse()),m.value.length&&(oe=m.value.concat(oe)),Yr(oe)}),lt=ft(()=>{let oe=et.value;return ce.value>0&&(oe=oe.slice(0,ce.value)),oe}),wt=ft(()=>{if(!Ie.value)return[];let oe=[],Ke=Me.value||[];return we.value.length&&oe.push({[x.value]:" ",[pe.value]:[...we.value],__CREATE__:!0}),oe.concat(Ke)}),bt=ft(()=>{let oe=[...wt.value].map(Ke=>({...Ke}));return m.value.length&&(oe[0]&&oe[0].__CREATE__?oe[0][pe.value]=[...m.value,...oe[0][pe.value]]:oe=[{[x.value]:" ",[pe.value]:[...m.value],__CREATE__:!0}].concat(oe)),oe}),Ot=ft(()=>{if(!Ie.value)return[];let oe=bt.value;return Ia((oe||[]).map((Ke,Ct)=>{const zt=Zr(Ke[pe.value]);return{...Ke,index:Ct,group:!0,[pe.value]:Yr(zt,!1).map(Xn=>Object.assign({},Xn,Ke[dt.value]?{[dt.value]:!0}:{})),__VISIBLE__:Yr(zt).map(Xn=>Object.assign({},Xn,Ke[dt.value]?{[dt.value]:!0}:{}))}}))}),Dt=ft(()=>{switch(r.value){case"single":return!Zn(rt.value[te.value]);case"multiple":case"tags":return!Zn(rt.value)&&rt.value.length>0}}),Jt=ft(()=>O!==void 0&&O.value!==void 0?O.value(rt.value,vt):rt.value&&rt.value.length>1?`${rt.value.length} options selected`:"1 option selected"),pt=ft(()=>!Oe.value.length&&!Ae.value&&!m.value.length),bn=ft(()=>Oe.value.length>0&&lt.value.length==0&&(ne.value&&Ie.value||!Ie.value)),m=ft(()=>Le.value===!1||!ne.value?[]:Ta(ne.value)!==-1?[]:[{[te.value]:ne.value,[nt.value[0]]:ne.value,[h.value]:ne.value,__CREATE__:!0}]),nt=ft(()=>i.value?Array.isArray(i.value)?i.value:[i.value]:[h.value]),nn=ft(()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}}),yr=ft(()=>G.value||Ae.value),xs=oe=>{switch(typeof oe!="object"&&(oe=$n(oe)),r.value){case"single":_e(oe);break;case"multiple":case"tags":_e(rt.value.concat(oe));break}t.emit("select",Gi(oe),oe,vt)},ks=oe=>{switch(typeof oe!="object"&&(oe=$n(oe)),r.value){case"single":Xi();break;case"tags":case"multiple":_e(Array.isArray(oe)?rt.value.filter(Ke=>oe.map(Ct=>Ct[te.value]).indexOf(Ke[te.value])===-1):rt.value.filter(Ke=>Ke[te.value]!=oe[te.value]));break}t.emit("deselect",Gi(oe),oe,vt)},Gi=oe=>M.value?oe:oe[te.value],Ji=oe=>{ks(oe)},qa=(oe,Ke)=>{if(Ke.button!==0){Ke.preventDefault();return}Ji(oe)},Xi=()=>{_e(nn.value),t.emit("clear",vt)},Nn=oe=>{if(oe.group!==void 0)return r.value==="single"?!1:Ca(oe[pe.value])&&oe[pe.value].length;switch(r.value){case"single":return!Zn(rt.value)&&rt.value[te.value]==oe[te.value];case"tags":case"multiple":return!Zn(rt.value)&&rt.value.map(Ke=>Ke[te.value]).indexOf(oe[te.value])!==-1}},vr=oe=>oe[dt.value]===!0,Gr=()=>L===void 0||L.value===-1||!Dt.value&&L.value>0?!1:rt.value.length>=L.value,Sa=oe=>{if(!vr(oe)){if(Et&&Et.value&&!Nn(oe)&&oe.__CREATE__&&(oe={...oe},delete oe.__CREATE__,oe=Et.value(oe,vt),oe instanceof Promise)){Ae.value=!0,oe.then(Ke=>{Ae.value=!1,Yi(Ke)});return}Yi(oe)}},Yi=oe=>{switch(oe.__CREATE__&&(oe={...oe},delete oe.__CREATE__),r.value){case"single":if(oe&&Nn(oe)){S.value&&ks(oe),re.value&&(P(),ue());return}oe&&Jr(oe),H.value&&Te(),N.value&&(P(),ue()),oe&&xs(oe);break;case"multiple":if(oe&&Nn(oe)){ks(oe),re.value&&(P(),ue());return}if(Gr()){t.emit("max",vt);return}oe&&(Jr(oe),xs(oe)),H.value&&Te(),c.value&&P(),N.value&&ue();break;case"tags":if(oe&&Nn(oe)){ks(oe),re.value&&(P(),ue());return}if(Gr()){t.emit("max",vt);return}oe&&Jr(oe),H.value&&Te(),oe&&xs(oe),c.value&&P(),N.value&&ue();break}N.value||R()},xa=oe=>{if(!(vr(oe)||r.value==="single"||!Be.value)){switch(r.value){case"multiple":case"tags":Aa(oe[pe.value])?ks(oe[pe.value]):xs(oe[pe.value].filter(Ke=>rt.value.map(Ct=>Ct[te.value]).indexOf(Ke[te.value])===-1).filter(Ke=>!Ke[dt.value]).filter((Ke,Ct)=>rt.value.length+1+Ct<=L.value||L.value===-1)),c.value&&De.value&&ut(Ot.value.filter(Ke=>!Ke[dt.value])[De.value.index]);break}N.value&&Z()}},Jr=oe=>{$n(oe[te.value])===void 0&&Le.value&&(t.emit("tag",oe[te.value],vt),t.emit("option",oe[te.value],vt),t.emit("create",oe[te.value],vt),He.value&&Xr(oe),Te())},ka=()=>{r.value!=="single"&&xs(lt.value.filter(oe=>!oe.disabled&&!Nn(oe)))},Aa=oe=>oe.find(Ke=>!Nn(Ke)&&!Ke[dt.value])===void 0,Ca=oe=>oe.find(Ke=>!Nn(Ke))===void 0,$n=oe=>Oe.value[Oe.value.map(Ke=>String(Ke[te.value])).indexOf(String(oe))],Ta=oe=>Oe.value.findIndex(Ke=>nt.value.some(Ct=>(parseInt(Ke[Ct])==Ke[Ct]?parseInt(Ke[Ct]):Ke[Ct])===(parseInt(oe)==oe?parseInt(oe):oe))),Oa=oe=>["tags","multiple"].indexOf(r.value)!==-1&&c.value&&Nn(oe),Xr=oe=>{we.value.push(oe)},Ia=oe=>ze.value?oe.filter(Ke=>ne.value?Ke.__VISIBLE__.length:Ke[pe.value].length):oe.filter(Ke=>ne.value?Ke.__VISIBLE__.length:!0),Yr=(oe,Ke=!0)=>{let Ct=oe;if(ne.value&&E.value){let zt=qt.value;zt||(zt=(Xn,eo,Tc)=>nt.value.some(Ra=>{let qr=Ya(ye(Xn[Ra]),K.value);return $e.value?qr.startsWith(Ya(eo,K.value)):qr.indexOf(Ya(eo,K.value))!==-1})),Ct=Ct.filter(Xn=>zt(Xn,ne.value,vt))}return c.value&&Ke&&(Ct=Ct.filter(zt=>!Oa(zt))),Ct},Zr=oe=>{let Ke=oe;return Qb(Ke)&&(Ke=Object.keys(Ke).map(Ct=>{let zt=Ke[Ct];return{[te.value]:Ct,[nt.value[0]]:zt,[h.value]:zt}})),Ke=Ke.map(Ct=>typeof Ct=="object"?Ct:{[te.value]:Ct,[nt.value[0]]:Ct,[h.value]:Ct}),Ke},br=()=>{Zn(qe.value)||(rt.value=Er(qe.value))},wr=oe=>(Ae.value=!0,new Promise((Ke,Ct)=>{n.value(ne.value,vt).then(zt=>{Me.value=zt||[],typeof oe=="function"&&oe(zt),Ae.value=!1}).catch(zt=>{console.error(zt),Me.value=[],Ae.value=!1}).finally(()=>{Ke()})})),ei=()=>{if(Dt.value)if(r.value==="single"){let oe=$n(rt.value[te.value]);if(oe!==void 0){let Ke=oe[h.value];rt.value[h.value]=Ke,M.value&&(qe.value[h.value]=Ke)}}else rt.value.forEach((oe,Ke)=>{let Ct=$n(rt.value[Ke][te.value]);if(Ct!==void 0){let zt=Ct[h.value];rt.value[Ke][h.value]=zt,M.value&&(qe.value[Ke][h.value]=zt)}})},Pa=oe=>{wr(oe)},Er=oe=>Zn(oe)?r.value==="single"?{}:[]:M.value?oe:r.value==="single"?$n(oe)||(Y.value?{[h.value]:oe,[te.value]:oe,[nt.value[0]]:oe}:{}):oe.filter(Ke=>!!$n(Ke)||Y.value).map(Ke=>$n(Ke)||{[h.value]:Ke,[te.value]:Ke,[nt.value[0]]:Ke}),Zi=()=>{Fe.value=Ut(ne,oe=>{oe.length<U.value||!oe&&U.value!==0||(Ae.value=!0,A.value&&(Me.value=[]),setTimeout(()=>{oe==ne.value&&n.value(ne.value,vt).then(Ke=>{(oe==ne.value||!ne.value)&&(Me.value=Ke,De.value=lt.value.filter(Ct=>Ct[dt.value]!==!0)[0]||null,Ae.value=!1)}).catch(Ke=>{console.error(Ke)})},fe.value))},{flush:"sync"})};if(r.value!=="single"&&!Zn(qe.value)&&!Array.isArray(qe.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return n&&typeof n.value=="function"?Q.value?wr(br):M.value==!0&&br():(Me.value=n.value,br()),fe.value>-1&&Zi(),Ut(fe,(oe,Ke)=>{Fe.value&&Fe.value(),oe>=0&&Zi()}),Ut(qe,oe=>{if(Zn(oe)){_e(Er(oe),!1);return}switch(r.value){case"single":(M.value?oe[te.value]!=rt.value[te.value]:oe!=rt.value[te.value])&&_e(Er(oe),!1);break;case"multiple":case"tags":Kb(M.value?oe.map(Ke=>Ke[te.value]):oe,rt.value.map(Ke=>Ke[te.value]))||_e(Er(oe),!1);break}},{deep:!0}),Ut(n,(oe,Ke)=>{typeof e.options=="function"?Q.value&&(!Ke||oe&&oe.toString()!==Ke.toString())&&wr():(Me.value=e.options,Object.keys(rt.value).length||br(),ei())}),Ut(h,ei),Ut(o,(oe,Ke)=>{ce.value=ae.value&&oe===-1?10:oe}),{pfo:et,fo:lt,filteredOptions:lt,hasSelected:Dt,multipleLabelText:Jt,eo:Oe,extendedOptions:Oe,eg:wt,extendedGroups:wt,fg:Ot,filteredGroups:Ot,noOptions:pt,noResults:bn,resolving:Ae,busy:yr,offset:ce,select:xs,deselect:ks,remove:Ji,selectAll:ka,clear:Xi,isSelected:Nn,isDisabled:vr,isMax:Gr,getOption:$n,handleOptionClick:Sa,handleGroupClick:xa,handleTagRemove:qa,refreshOptions:Pa,resolveOptions:wr,refreshLabels:ei}}function Jb(e,t,s){const{valueProp:n,showOptions:r,searchable:i,groupLabel:o,groups:c,mode:f,groupSelect:_,disabledProp:h,groupOptions:y}=yn(e),w=s.fo,O=s.fg,M=s.handleOptionClick,G=s.handleGroupClick,fe=s.search,Q=s.pointer,U=s.setPointer,E=s.clearPointer,A=s.multiselect,H=s.isOpen,te=ft(()=>w.value.filter(qe=>!qe[h.value])),Y=ft(()=>O.value.filter(qe=>!qe[h.value])),x=ft(()=>f.value!=="single"&&_.value),S=ft(()=>Q.value&&Q.value.group),L=ft(()=>vt(Q.value)),K=ft(()=>{const qe=S.value?Q.value:vt(Q.value),ne=Y.value.map(_e=>_e[o.value]).indexOf(qe[o.value]);let Te=Y.value[ne-1];return Te===void 0&&(Te=re.value),Te}),N=ft(()=>{let qe=Y.value.map(ne=>ne.label).indexOf(S.value?Q.value[o.value]:vt(Q.value)[o.value])+1;return Y.value.length<=qe&&(qe=0),Y.value[qe]}),re=ft(()=>[...Y.value].slice(-1)[0]),Ie=ft(()=>Q.value.__VISIBLE__.filter(qe=>!qe[h.value])[0]),Xe=ft(()=>{const qe=L.value.__VISIBLE__.filter(ne=>!ne[h.value]);return qe[qe.map(ne=>ne[n.value]).indexOf(Q.value[n.value])-1]}),ae=ft(()=>{const qe=vt(Q.value).__VISIBLE__.filter(ne=>!ne[h.value]);return qe[qe.map(ne=>ne[n.value]).indexOf(Q.value[n.value])+1]}),pe=ft(()=>[...K.value.__VISIBLE__.filter(qe=>!qe[h.value])].slice(-1)[0]),ze=ft(()=>[...re.value.__VISIBLE__.filter(qe=>!qe[h.value])].slice(-1)[0]),Be=qe=>Q.value&&(!qe.group&&Q.value[n.value]===qe[n.value]||qe.group!==void 0&&Q.value[o.value]===qe[o.value])?!0:void 0,Et=()=>{U(te.value[0]||null)},dt=()=>{!Q.value||Q.value[h.value]===!0||(S.value?G(Q.value):M(Q.value))},$e=()=>{if(Q.value===null)U((c.value&&x.value?Y.value[0].__CREATE__?te.value[0]:Y.value[0]:te.value[0])||null);else if(c.value&&x.value){let qe=S.value?Ie.value:ae.value;qe===void 0&&(qe=N.value,qe.__CREATE__&&(qe=qe[y.value][0])),U(qe||null)}else{let qe=te.value.map(ne=>ne[n.value]).indexOf(Q.value[n.value])+1;te.value.length<=qe&&(qe=0),U(te.value[qe]||null)}zn(()=>{rt()})},qt=()=>{if(Q.value===null){let qe=te.value[te.value.length-1];c.value&&x.value&&(qe=ze.value,qe===void 0&&(qe=re.value)),U(qe||null)}else if(c.value&&x.value){let qe=S.value?pe.value:Xe.value;qe===void 0&&(qe=S.value?K.value:L.value,qe.__CREATE__&&(qe=pe.value,qe===void 0&&(qe=K.value))),U(qe||null)}else{let qe=te.value.map(ne=>ne[n.value]).indexOf(Q.value[n.value])-1;qe<0&&(qe=te.value.length-1),U(te.value[qe]||null)}zn(()=>{rt()})},vt=qe=>Y.value.find(ne=>ne.__VISIBLE__.map(Te=>Te[n.value]).indexOf(qe[n.value])!==-1),rt=()=>{let qe=A.value.querySelector("[data-pointed]");if(!qe)return;let ne=qe.parentElement.parentElement;c.value&&(ne=S.value?qe.parentElement.parentElement.parentElement:qe.parentElement.parentElement.parentElement.parentElement),qe.offsetTop+qe.offsetHeight>ne.clientHeight+ne.scrollTop&&(ne.scrollTop=qe.offsetTop+qe.offsetHeight-ne.clientHeight),qe.offsetTop<ne.scrollTop&&(ne.scrollTop=qe.offsetTop)};return Ut(fe,qe=>{i.value&&(qe.length&&r.value?Et():E())}),Ut(H,qe=>{if(qe){let ne=A.value.querySelectorAll("[data-selected]")[0];if(!ne)return;let Te=ne.parentElement.parentElement;zn(()=>{Te.scrollTop>0||(Te.scrollTop=ne.offsetTop)})}}),{pointer:Q,canPointGroups:x,isPointed:Be,setPointerFirst:Et,selectPointer:dt,forwardPointer:$e,backwardPointer:qt}}function Pn(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function hr(e){var t=Pn(e).Element;return e instanceof t||e instanceof Element}function Mn(e){var t=Pn(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function vc(e){if(typeof ShadowRoot>"u")return!1;var t=Pn(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var cr=Math.max,Uo=Math.min,Ur=Math.round;function Ll(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Xp(){return!/^((?!chrome|android).)*safari/i.test(Ll())}function Vr(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!1);var n=e.getBoundingClientRect(),r=1,i=1;t&&Mn(e)&&(r=e.offsetWidth>0&&Ur(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Ur(n.height)/e.offsetHeight||1);var o=hr(e)?Pn(e):window,c=o.visualViewport,f=!Xp()&&s,_=(n.left+(f&&c?c.offsetLeft:0))/r,h=(n.top+(f&&c?c.offsetTop:0))/i,y=n.width/r,w=n.height/i;return{width:y,height:w,top:h,right:_+y,bottom:h+w,left:_,x:_,y:h}}function bc(e){var t=Pn(e),s=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:s,scrollTop:n}}function Xb(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Yb(e){return e===Pn(e)||!Mn(e)?bc(e):Xb(e)}function is(e){return e?(e.nodeName||"").toLowerCase():null}function Xs(e){return((hr(e)?e.ownerDocument:e.document)||window.document).documentElement}function wc(e){return Vr(Xs(e)).left+bc(e).scrollLeft}function qs(e){return Pn(e).getComputedStyle(e)}function Ec(e){var t=qs(e),s=t.overflow,n=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(s+r+n)}function Zb(e){var t=e.getBoundingClientRect(),s=Ur(t.width)/e.offsetWidth||1,n=Ur(t.height)/e.offsetHeight||1;return s!==1||n!==1}function ew(e,t,s){s===void 0&&(s=!1);var n=Mn(t),r=Mn(t)&&Zb(t),i=Xs(t),o=Vr(e,r,s),c={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(n||!n&&!s)&&((is(t)!=="body"||Ec(i))&&(c=Yb(t)),Mn(t)?(f=Vr(t,!0),f.x+=t.clientLeft,f.y+=t.clientTop):i&&(f.x=wc(i))),{x:o.left+c.scrollLeft-f.x,y:o.top+c.scrollTop-f.y,width:o.width,height:o.height}}function Yp(e){var t=Vr(e),s=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-s)<=1&&(s=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:s,height:n}}function ya(e){return is(e)==="html"?e:e.assignedSlot||e.parentNode||(vc(e)?e.host:null)||Xs(e)}function Zp(e){return["html","body","#document"].indexOf(is(e))>=0?e.ownerDocument.body:Mn(e)&&Ec(e)?e:Zp(ya(e))}function bi(e,t){var s;t===void 0&&(t=[]);var n=Zp(e),r=n===((s=e.ownerDocument)==null?void 0:s.body),i=Pn(n),o=r?[i].concat(i.visualViewport||[],Ec(n)?n:[]):n,c=t.concat(o);return r?c:c.concat(bi(ya(o)))}function tw(e){return["table","td","th"].indexOf(is(e))>=0}function Zu(e){return!Mn(e)||qs(e).position==="fixed"?null:e.offsetParent}function nw(e){var t=/firefox/i.test(Ll()),s=/Trident/i.test(Ll());if(s&&Mn(e)){var n=qs(e);if(n.position==="fixed")return null}var r=ya(e);for(vc(r)&&(r=r.host);Mn(r)&&["html","body"].indexOf(is(r))<0;){var i=qs(r);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return r;r=r.parentNode}return null}function va(e){for(var t=Pn(e),s=Zu(e);s&&tw(s)&&qs(s).position==="static";)s=Zu(s);return s&&(is(s)==="html"||is(s)==="body"&&qs(s).position==="static")?t:s||nw(e)||t}var Hn="top",os="bottom",Gs="right",Es="left",qc="auto",ba=[Hn,os,Gs,Es],zr="start",Li="end",sw="clippingParents",e_="viewport",ii="popper",rw="reference",ef=ba.reduce(function(e,t){return e.concat([t+"-"+zr,t+"-"+Li])},[]),iw=[].concat(ba,[qc]).reduce(function(e,t){return e.concat([t,t+"-"+zr,t+"-"+Li])},[]),ow="beforeRead",aw="read",lw="afterRead",cw="beforeMain",uw="main",fw="afterMain",dw="beforeWrite",pw="write",_w="afterWrite",hw=[ow,aw,lw,cw,uw,fw,dw,pw,_w];function mw(e){var t=new Map,s=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function r(i){s.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(c){if(!s.has(c)){var f=t.get(c);f&&r(f)}}),n.push(i)}return e.forEach(function(i){s.has(i.name)||r(i)}),n}function gw(e){var t=mw(e);return hw.reduce(function(s,n){return s.concat(t.filter(function(r){return r.phase===n}))},[])}function yw(e){var t;return function(){return t||(t=new Promise(function(s){Promise.resolve().then(function(){t=void 0,s(e())})})),t}}function vw(e){var t=e.reduce(function(s,n){var r=s[n.name];return s[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,s},{});return Object.keys(t).map(function(s){return t[s]})}function bw(e,t){var s=Pn(e),n=Xs(e),r=s.visualViewport,i=n.clientWidth,o=n.clientHeight,c=0,f=0;if(r){i=r.width,o=r.height;var _=Xp();(_||!_&&t==="fixed")&&(c=r.offsetLeft,f=r.offsetTop)}return{width:i,height:o,x:c+wc(e),y:f}}function ww(e){var t,s=Xs(e),n=bc(e),r=(t=e.ownerDocument)==null?void 0:t.body,i=cr(s.scrollWidth,s.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=cr(s.scrollHeight,s.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),c=-n.scrollLeft+wc(e),f=-n.scrollTop;return qs(r||s).direction==="rtl"&&(c+=cr(s.clientWidth,r?r.clientWidth:0)-i),{width:i,height:o,x:c,y:f}}function Ew(e,t){var s=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(s&&vc(s)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Fl(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qw(e,t){var s=Vr(e,!1,t==="fixed");return s.top=s.top+e.clientTop,s.left=s.left+e.clientLeft,s.bottom=s.top+e.clientHeight,s.right=s.left+e.clientWidth,s.width=e.clientWidth,s.height=e.clientHeight,s.x=s.left,s.y=s.top,s}function tf(e,t,s){return t===e_?Fl(bw(e,s)):hr(t)?qw(t,s):Fl(ww(Xs(e)))}function Sw(e){var t=bi(ya(e)),s=["absolute","fixed"].indexOf(qs(e).position)>=0,n=s&&Mn(e)?va(e):e;return hr(n)?t.filter(function(r){return hr(r)&&Ew(r,n)&&is(r)!=="body"}):[]}function xw(e,t,s,n){var r=t==="clippingParents"?Sw(e):[].concat(t),i=[].concat(r,[s]),o=i[0],c=i.reduce(function(f,_){var h=tf(e,_,n);return f.top=cr(h.top,f.top),f.right=Uo(h.right,f.right),f.bottom=Uo(h.bottom,f.bottom),f.left=cr(h.left,f.left),f},tf(e,o,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Vs(e){return e.split("-")[0]}function Hr(e){return e.split("-")[1]}function t_(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function n_(e){var t=e.reference,s=e.element,n=e.placement,r=n?Vs(n):null,i=n?Hr(n):null,o=t.x+t.width/2-s.width/2,c=t.y+t.height/2-s.height/2,f;switch(r){case Hn:f={x:o,y:t.y-s.height};break;case os:f={x:o,y:t.y+t.height};break;case Gs:f={x:t.x+t.width,y:c};break;case Es:f={x:t.x-s.width,y:c};break;default:f={x:t.x,y:t.y}}var _=r?t_(r):null;if(_!=null){var h=_==="y"?"height":"width";switch(i){case zr:f[_]=f[_]-(t[h]/2-s[h]/2);break;case Li:f[_]=f[_]+(t[h]/2-s[h]/2);break}}return f}function s_(){return{top:0,right:0,bottom:0,left:0}}function kw(e){return Object.assign({},s_(),e)}function Aw(e,t){return t.reduce(function(s,n){return s[n]=e,s},{})}function Sc(e,t){t===void 0&&(t={});var s=t,n=s.placement,r=n===void 0?e.placement:n,i=s.strategy,o=i===void 0?e.strategy:i,c=s.boundary,f=c===void 0?sw:c,_=s.rootBoundary,h=_===void 0?e_:_,y=s.elementContext,w=y===void 0?ii:y,O=s.altBoundary,M=O===void 0?!1:O,G=s.padding,fe=G===void 0?0:G,Q=kw(typeof fe!="number"?fe:Aw(fe,ba)),U=w===ii?rw:ii,E=e.rects.popper,A=e.elements[M?U:w],H=xw(hr(A)?A:A.contextElement||Xs(e.elements.popper),f,h,o),te=Vr(e.elements.reference),Y=n_({reference:te,element:E,strategy:"absolute",placement:r}),x=Fl(Object.assign({},E,Y)),S=w===ii?x:te,L={top:H.top-S.top+Q.top,bottom:S.bottom-H.bottom+Q.bottom,left:H.left-S.left+Q.left,right:S.right-H.right+Q.right},K=e.modifiersData.offset;if(w===ii&&K){var N=K[r];Object.keys(L).forEach(function(re){var Ie=[Gs,os].indexOf(re)>=0?1:-1,Xe=[Hn,os].indexOf(re)>=0?"y":"x";L[re]+=N[Xe]*Ie})}return L}var nf={placement:"bottom",modifiers:[],strategy:"absolute"};function sf(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Cw(e){e===void 0&&(e={});var t=e,s=t.defaultModifiers,n=s===void 0?[]:s,r=t.defaultOptions,i=r===void 0?nf:r;return function(c,f,_){_===void 0&&(_=i);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},nf,i),modifiersData:{},elements:{reference:c,popper:f},attributes:{},styles:{}},y=[],w=!1,O={state:h,setOptions:function(Q){var U=typeof Q=="function"?Q(h.options):Q;G(),h.options=Object.assign({},i,h.options,U),h.scrollParents={reference:hr(c)?bi(c):c.contextElement?bi(c.contextElement):[],popper:bi(f)};var E=gw(vw([].concat(n,h.options.modifiers)));return h.orderedModifiers=E.filter(function(A){return A.enabled}),M(),O.update()},forceUpdate:function(){if(!w){var Q=h.elements,U=Q.reference,E=Q.popper;if(sf(U,E)){h.rects={reference:ew(U,va(E),h.options.strategy==="fixed"),popper:Yp(E)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(L){return h.modifiersData[L.name]=Object.assign({},L.data)});for(var A=0;A<h.orderedModifiers.length;A++){if(h.reset===!0){h.reset=!1,A=-1;continue}var H=h.orderedModifiers[A],te=H.fn,Y=H.options,x=Y===void 0?{}:Y,S=H.name;typeof te=="function"&&(h=te({state:h,options:x,name:S,instance:O})||h)}}}},update:yw(function(){return new Promise(function(fe){O.forceUpdate(),fe(h)})}),destroy:function(){G(),w=!0}};if(!sf(c,f))return O;O.setOptions(_).then(function(fe){!w&&_.onFirstUpdate&&_.onFirstUpdate(fe)});function M(){h.orderedModifiers.forEach(function(fe){var Q=fe.name,U=fe.options,E=U===void 0?{}:U,A=fe.effect;if(typeof A=="function"){var H=A({state:h,name:Q,instance:O,options:E}),te=function(){};y.push(H||te)}})}function G(){y.forEach(function(fe){return fe()}),y=[]}return O}}var vo={passive:!0};function Tw(e){var t=e.state,s=e.instance,n=e.options,r=n.scroll,i=r===void 0?!0:r,o=n.resize,c=o===void 0?!0:o,f=Pn(t.elements.popper),_=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&_.forEach(function(h){h.addEventListener("scroll",s.update,vo)}),c&&f.addEventListener("resize",s.update,vo),function(){i&&_.forEach(function(h){h.removeEventListener("scroll",s.update,vo)}),c&&f.removeEventListener("resize",s.update,vo)}}var Ow={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Tw,data:{}};function Iw(e){var t=e.state,s=e.name;t.modifiersData[s]=n_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Pw={name:"popperOffsets",enabled:!0,phase:"read",fn:Iw,data:{}},Rw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lw(e,t){var s=e.x,n=e.y,r=t.devicePixelRatio||1;return{x:Ur(s*r)/r||0,y:Ur(n*r)/r||0}}function rf(e){var t,s=e.popper,n=e.popperRect,r=e.placement,i=e.variation,o=e.offsets,c=e.position,f=e.gpuAcceleration,_=e.adaptive,h=e.roundOffsets,y=e.isFixed,w=o.x,O=w===void 0?0:w,M=o.y,G=M===void 0?0:M,fe=typeof h=="function"?h({x:O,y:G}):{x:O,y:G};O=fe.x,G=fe.y;var Q=o.hasOwnProperty("x"),U=o.hasOwnProperty("y"),E=Es,A=Hn,H=window;if(_){var te=va(s),Y="clientHeight",x="clientWidth";if(te===Pn(s)&&(te=Xs(s),qs(te).position!=="static"&&c==="absolute"&&(Y="scrollHeight",x="scrollWidth")),te=te,r===Hn||(r===Es||r===Gs)&&i===Li){A=os;var S=y&&te===H&&H.visualViewport?H.visualViewport.height:te[Y];G-=S-n.height,G*=f?1:-1}if(r===Es||(r===Hn||r===os)&&i===Li){E=Gs;var L=y&&te===H&&H.visualViewport?H.visualViewport.width:te[x];O-=L-n.width,O*=f?1:-1}}var K=Object.assign({position:c},_&&Rw),N=h===!0?Lw({x:O,y:G},Pn(s)):{x:O,y:G};if(O=N.x,G=N.y,f){var re;return Object.assign({},K,(re={},re[A]=U?"0":"",re[E]=Q?"0":"",re.transform=(H.devicePixelRatio||1)<=1?"translate("+O+"px, "+G+"px)":"translate3d("+O+"px, "+G+"px, 0)",re))}return Object.assign({},K,(t={},t[A]=U?G+"px":"",t[E]=Q?O+"px":"",t.transform="",t))}function Fw(e){var t=e.state,s=e.options,n=s.gpuAcceleration,r=n===void 0?!0:n,i=s.adaptive,o=i===void 0?!0:i,c=s.roundOffsets,f=c===void 0?!0:c,_={placement:Vs(t.placement),variation:Hr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,rf(Object.assign({},_,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:f})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,rf(Object.assign({},_,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var Dw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Fw,data:{}};function Mw(e){var t=e.state;Object.keys(t.elements).forEach(function(s){var n=t.styles[s]||{},r=t.attributes[s]||{},i=t.elements[s];!Mn(i)||!is(i)||(Object.assign(i.style,n),Object.keys(r).forEach(function(o){var c=r[o];c===!1?i.removeAttribute(o):i.setAttribute(o,c===!0?"":c)}))})}function Nw(e){var t=e.state,s={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,s.popper),t.styles=s,t.elements.arrow&&Object.assign(t.elements.arrow.style,s.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],i=t.attributes[n]||{},o=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:s[n]),c=o.reduce(function(f,_){return f[_]="",f},{});!Mn(r)||!is(r)||(Object.assign(r.style,c),Object.keys(i).forEach(function(f){r.removeAttribute(f)}))})}}var $w={name:"applyStyles",enabled:!0,phase:"write",fn:Mw,effect:Nw,requires:["computeStyles"]},Bw=[Ow,Pw,Dw,$w],jw=Cw({defaultModifiers:Bw});function Uw(e){return e==="x"?"y":"x"}function ko(e,t,s){return cr(e,Uo(t,s))}function Vw(e,t,s){var n=ko(e,t,s);return n>s?s:n}function zw(e){var t=e.state,s=e.options,n=e.name,r=s.mainAxis,i=r===void 0?!0:r,o=s.altAxis,c=o===void 0?!1:o,f=s.boundary,_=s.rootBoundary,h=s.altBoundary,y=s.padding,w=s.tether,O=w===void 0?!0:w,M=s.tetherOffset,G=M===void 0?0:M,fe=Sc(t,{boundary:f,rootBoundary:_,padding:y,altBoundary:h}),Q=Vs(t.placement),U=Hr(t.placement),E=!U,A=t_(Q),H=Uw(A),te=t.modifiersData.popperOffsets,Y=t.rects.reference,x=t.rects.popper,S=typeof G=="function"?G(Object.assign({},t.rects,{placement:t.placement})):G,L=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),K=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(te){if(i){var re,Ie=A==="y"?Hn:Es,Xe=A==="y"?os:Gs,ae=A==="y"?"height":"width",pe=te[A],ze=pe+fe[Ie],Be=pe-fe[Xe],Et=O?-x[ae]/2:0,dt=U===zr?Y[ae]:x[ae],$e=U===zr?-x[ae]:-Y[ae],qt=t.elements.arrow,vt=O&&qt?Yp(qt):{width:0,height:0},rt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:s_(),qe=rt[Ie],ne=rt[Xe],Te=ko(0,Y[ae],vt[ae]),_e=E?Y[ae]/2-Et-Te-qe-L.mainAxis:dt-Te-qe-L.mainAxis,De=E?-Y[ae]/2+Et+Te+ne+L.mainAxis:$e+Te+ne+L.mainAxis,ut=t.elements.arrow&&va(t.elements.arrow),P=ut?A==="y"?ut.clientTop||0:ut.clientLeft||0:0,R=(re=K?.[A])!=null?re:0,Z=pe+_e-R-P,ue=pe+De-R,ye=ko(O?Uo(ze,Z):ze,pe,O?cr(Be,ue):Be);te[A]=ye,N[A]=ye-pe}if(c){var we,Me=A==="x"?Hn:Es,Ae=A==="x"?os:Gs,Fe=te[H],ce=H==="y"?"height":"width",Le=Fe+fe[Me],He=Fe-fe[Ae],Oe=[Hn,Es].indexOf(Q)!==-1,et=(we=K?.[H])!=null?we:0,lt=Oe?Le:Fe-Y[ce]-x[ce]-et+L.altAxis,wt=Oe?Fe+Y[ce]+x[ce]-et-L.altAxis:He,bt=O&&Oe?Vw(lt,Fe,wt):ko(O?lt:Le,Fe,O?wt:He);te[H]=bt,N[H]=bt-Fe}t.modifiersData[n]=N}}var Hw={name:"preventOverflow",enabled:!0,phase:"main",fn:zw,requiresIfExists:["offset"]},Ww={left:"right",right:"left",bottom:"top",top:"bottom"};function Ao(e){return e.replace(/left|right|bottom|top/g,function(t){return Ww[t]})}var Qw={start:"end",end:"start"};function of(e){return e.replace(/start|end/g,function(t){return Qw[t]})}function Kw(e,t){t===void 0&&(t={});var s=t,n=s.placement,r=s.boundary,i=s.rootBoundary,o=s.padding,c=s.flipVariations,f=s.allowedAutoPlacements,_=f===void 0?iw:f,h=Hr(n),y=h?c?ef:ef.filter(function(M){return Hr(M)===h}):ba,w=y.filter(function(M){return _.indexOf(M)>=0});w.length===0&&(w=y);var O=w.reduce(function(M,G){return M[G]=Sc(e,{placement:G,boundary:r,rootBoundary:i,padding:o})[Vs(G)],M},{});return Object.keys(O).sort(function(M,G){return O[M]-O[G]})}function Gw(e){if(Vs(e)===qc)return[];var t=Ao(e);return[of(e),t,of(t)]}function Jw(e){var t=e.state,s=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var r=s.mainAxis,i=r===void 0?!0:r,o=s.altAxis,c=o===void 0?!0:o,f=s.fallbackPlacements,_=s.padding,h=s.boundary,y=s.rootBoundary,w=s.altBoundary,O=s.flipVariations,M=O===void 0?!0:O,G=s.allowedAutoPlacements,fe=t.options.placement,Q=Vs(fe),U=Q===fe,E=f||(U||!M?[Ao(fe)]:Gw(fe)),A=[fe].concat(E).reduce(function(vt,rt){return vt.concat(Vs(rt)===qc?Kw(t,{placement:rt,boundary:h,rootBoundary:y,padding:_,flipVariations:M,allowedAutoPlacements:G}):rt)},[]),H=t.rects.reference,te=t.rects.popper,Y=new Map,x=!0,S=A[0],L=0;L<A.length;L++){var K=A[L],N=Vs(K),re=Hr(K)===zr,Ie=[Hn,os].indexOf(N)>=0,Xe=Ie?"width":"height",ae=Sc(t,{placement:K,boundary:h,rootBoundary:y,altBoundary:w,padding:_}),pe=Ie?re?Gs:Es:re?os:Hn;H[Xe]>te[Xe]&&(pe=Ao(pe));var ze=Ao(pe),Be=[];if(i&&Be.push(ae[N]<=0),c&&Be.push(ae[pe]<=0,ae[ze]<=0),Be.every(function(vt){return vt})){S=K,x=!1;break}Y.set(K,Be)}if(x)for(var Et=M?3:1,dt=function(rt){var qe=A.find(function(ne){var Te=Y.get(ne);if(Te)return Te.slice(0,rt).every(function(_e){return _e})});if(qe)return S=qe,"break"},$e=Et;$e>0;$e--){var qt=dt($e);if(qt==="break")break}t.placement!==S&&(t.modifiersData[n]._skip=!0,t.placement=S,t.reset=!0)}}var Xw={name:"flip",enabled:!0,phase:"main",fn:Jw,requiresIfExists:["offset"],data:{_skip:!1}};function Yw(e,t,s){const{disabled:n,appendTo:r,appendToBody:i,openDirection:o}=yn(e),c=vn().proxy,f=s.multiselect,_=s.dropdown,h=It(!1),y=It(null),w=It(null),O=ft(()=>r.value||i.value),M=ft(()=>o.value==="top"&&w.value==="bottom"||o.value==="bottom"&&w.value!=="top"?"bottom":"top"),G=()=>{h.value||n.value||(h.value=!0,t.emit("open",c),O.value&&zn(()=>{Q()}))},fe=()=>{h.value&&(h.value=!1,t.emit("close",c))},Q=()=>{if(!y.value)return;let E=parseInt(window.getComputedStyle(_.value).borderTopWidth.replace("px","")),A=parseInt(window.getComputedStyle(_.value).borderBottomWidth.replace("px",""));y.value.setOptions(H=>({...H,modifiers:[...H.modifiers,{name:"offset",options:{offset:[0,(M.value==="top"?E:A)*-1]}}]})),y.value.update()},U=E=>{for(;E&&E!==document.body;){if(getComputedStyle(E).position==="fixed")return!0;E=E.parentElement}return!1};return cs(()=>{O.value&&(y.value=jw(f.value,_.value,{strategy:U(f.value)?"fixed":void 0,placement:o.value,modifiers:[Hw,Xw,{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:E})=>{E.styles.popper.width=`${E.rects.reference.width}px`},effect:({state:E})=>{E.elements.popper.style.width=`${E.elements.reference.offsetWidth}px`}},{name:"toggleClass",enabled:!0,phase:"write",fn({state:E}){w.value=E.placement}}]}))}),Bi(()=>{!O.value||!y.value||(y.value.destroy(),y.value=null)}),{popper:y,isOpen:h,open:G,close:fe,placement:M,updatePopper:Q}}function Zw(e,t,s){const{searchable:n,disabled:r,clearOnBlur:i}=yn(e),o=s.input,c=s.open,f=s.close,_=s.clearSearch,h=s.isOpen,y=s.wrapper,w=s.tags,O=It(!1),M=It(!1),G=ft(()=>n.value||r.value?-1:0),fe=()=>{n.value&&o.value.blur(),y.value.blur()},Q=()=>{n.value&&!r.value&&o.value.focus()},U=(x=!0)=>{r.value||(O.value=!0,x&&c())},E=()=>{O.value=!1,setTimeout(()=>{O.value||(f(),i.value&&_())},1)};return{tabindex:G,isActive:O,mouseClicked:M,blur:fe,focus:Q,activate:U,deactivate:E,handleFocusIn:x=>{x.target.closest("[data-tags]")&&x.target.nodeName!=="INPUT"||x.target.closest("[data-clear]")||U(M.value)},handleFocusOut:()=>{E()},handleCaretClick:()=>{E(),fe()},handleMousedown:x=>{M.value=!0,h.value&&(x.target.isEqualNode(y.value)||x.target.isEqualNode(w.value))?setTimeout(()=>{E()},0):!h.value&&(document.activeElement.isEqualNode(y.value)||document.activeElement.isEqualNode(o.value))&&U(),setTimeout(()=>{M.value=!1},0)}}}function e0(e,t,s){const{mode:n,addTagOn:r,openDirection:i,searchable:o,showOptions:c,valueProp:f,groups:_,addOptionOn:h,createTag:y,createOption:w,reverse:O}=yn(e),M=vn().proxy,G=s.iv,fe=s.update,Q=s.deselect,U=s.search,E=s.setPointer,A=s.selectPointer,H=s.backwardPointer,te=s.forwardPointer,Y=s.multiselect,x=s.wrapper,S=s.tags,L=s.isOpen,K=s.open,N=s.blur,re=s.fo,Ie=ft(()=>y.value||w.value||!1),Xe=ft(()=>r.value!==void 0?r.value:h.value!==void 0?h.value:["enter"]),ae=()=>{n.value==="tags"&&!c.value&&Ie.value&&o.value&&!_.value&&E(re.value[re.value.map(Be=>Be[f.value]).indexOf(U.value)])};return{handleKeydown:Be=>{t.emit("keydown",Be,M);let Et,dt;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(Be.key)!==-1&&n.value==="tags"&&(Et=[...Y.value.querySelectorAll("[data-tags] > *")].filter($e=>$e!==S.value),dt=Et.findIndex($e=>$e===document.activeElement)),Be.key){case"Backspace":if(n.value==="single"||o.value&&[null,""].indexOf(U.value)===-1||G.value.length===0)return;let $e=G.value.filter(qt=>!qt.disabled&&qt.remove!==!1);$e.length&&Q($e[$e.length-1]);break;case"Enter":if(Be.preventDefault(),Be.keyCode===229)return;if(dt!==-1&&dt!==void 0){fe([...G.value].filter((qt,vt)=>vt!==dt)),dt===Et.length-1&&(Et.length-1?Et[Et.length-2].focus():o.value?S.value.querySelector("input").focus():x.value.focus());return}if(Xe.value.indexOf("enter")===-1&&Ie.value)return;ae(),A();break;case" ":if(!Ie.value&&!o.value){Be.preventDefault(),ae(),A();return}if(!Ie.value)return!1;if(Xe.value.indexOf("space")===-1&&Ie.value)return;Be.preventDefault(),ae(),A();break;case"Tab":case";":case",":if(Xe.value.indexOf(Be.key.toLowerCase())===-1||!Ie.value)return;ae(),A(),Be.preventDefault();break;case"Escape":N();break;case"ArrowUp":if(Be.preventDefault(),!c.value)return;L.value||K(),H();break;case"ArrowDown":if(Be.preventDefault(),!c.value)return;L.value||K(),te();break;case"ArrowLeft":if(o.value&&S.value&&S.value.querySelector("input").selectionStart||Be.shiftKey||n.value!=="tags"||!G.value||!G.value.length)return;Be.preventDefault(),dt===-1?Et[Et.length-1].focus():dt>0&&Et[dt-1].focus();break;case"ArrowRight":if(dt===-1||Be.shiftKey||n.value!=="tags"||!G.value||!G.value.length)return;Be.preventDefault(),Et.length>dt+1?Et[dt+1].focus():o.value?S.value.querySelector("input").focus():o.value||x.value.focus();break}},handleKeyup:Be=>{t.emit("keyup",Be,M)},preparePointer:ae}}function t0(e,t,s){const{classes:n,disabled:r,showOptions:i,breakTags:o}=yn(e),c=s.isOpen,f=s.isPointed,_=s.isSelected,h=s.isDisabled,y=s.isActive,w=s.canPointGroups,O=s.resolving,M=s.fo,G=s.placement,fe=ft(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagWrapper:"multiselect-tag-wrapper",tagWrapperBreak:"multiselect-tag-wrapper-break",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...n.value})),Q=ft(()=>!!(c.value&&i.value&&(!O.value||O.value&&M.value.length)));return{classList:ft(()=>{const E=fe.value;return{container:[E.container].concat(r.value?E.containerDisabled:[]).concat(Q.value&&G.value==="top"?E.containerOpenTop:[]).concat(Q.value&&G.value!=="top"?E.containerOpen:[]).concat(y.value?E.containerActive:[]),wrapper:E.wrapper,spacer:E.spacer,singleLabel:E.singleLabel,singleLabelText:E.singleLabelText,multipleLabel:E.multipleLabel,search:E.search,tags:E.tags,tag:[E.tag].concat(r.value?E.tagDisabled:[]),tagWrapper:[E.tagWrapper,o.value?E.tagWrapperBreak:null],tagDisabled:E.tagDisabled,tagRemove:E.tagRemove,tagRemoveIcon:E.tagRemoveIcon,tagsSearchWrapper:E.tagsSearchWrapper,tagsSearch:E.tagsSearch,tagsSearchCopy:E.tagsSearchCopy,placeholder:E.placeholder,caret:[E.caret].concat(c.value?E.caretOpen:[]),clear:E.clear,clearIcon:E.clearIcon,spinner:E.spinner,inifinite:E.inifinite,inifiniteSpinner:E.inifiniteSpinner,dropdown:[E.dropdown].concat(G.value==="top"?E.dropdownTop:[]).concat(!c.value||!i.value||!Q.value?E.dropdownHidden:[]),options:[E.options].concat(G.value==="top"?E.optionsTop:[]),group:E.group,groupLabel:A=>{let H=[E.groupLabel];return f(A)?H.push(_(A)?E.groupLabelSelectedPointed:E.groupLabelPointed):_(A)&&w.value?H.push(h(A)?E.groupLabelSelectedDisabled:E.groupLabelSelected):h(A)&&H.push(E.groupLabelDisabled),w.value&&H.push(E.groupLabelPointable),H},groupOptions:E.groupOptions,option:(A,H)=>{let te=[E.option];return f(A)?te.push(_(A)?E.optionSelectedPointed:E.optionPointed):_(A)?te.push(h(A)?E.optionSelectedDisabled:E.optionSelected):(h(A)||H&&h(H))&&te.push(E.optionDisabled),te},noOptions:E.noOptions,noResults:E.noResults,assist:E.assist,fakeInput:E.fakeInput}}),showDropdown:Q}}function n0(e,t,s){const{limit:n,infinite:r}=yn(e),i=s.isOpen,o=s.offset,c=s.search,f=s.pfo,_=s.eo,h=It(null),y=It(null),w=ft(()=>o.value<f.value.length),O=G=>{const{isIntersecting:fe,target:Q}=G[0];if(fe){const U=Q.offsetParent,E=U.scrollTop;o.value+=n.value==-1?10:n.value,zn(()=>{U.scrollTop=E})}},M=()=>{i.value&&o.value<f.value.length?h.value.observe(y.value):!i.value&&h.value&&h.value.disconnect()};return Ut(i,()=>{r.value&&M()}),Ut(c,()=>{r.value&&(o.value=n.value,M())},{flush:"post"}),Ut(_,()=>{r.value&&M()},{immediate:!1,flush:"post"}),cs(()=>{window&&window.IntersectionObserver&&(h.value=new IntersectionObserver(O))}),{hasMore:w,infiniteLoader:y}}function s0(e,t,s){const{placeholder:n,id:r,valueProp:i,label:o,mode:c,groupLabel:f,aria:_,searchable:h}=yn(e),y=s.pointer,w=s.iv,O=s.hasSelected,M=s.multipleLabelText,G=It(null),fe=ft(()=>{let N=[];return r&&r.value&&N.push(r.value),N.push("assist"),N.join("-")}),Q=ft(()=>{let N=[];return r&&r.value&&N.push(r.value),N.push("multiselect-options"),N.join("-")}),U=ft(()=>{let N=[];if(r&&r.value&&N.push(r.value),y.value)return N.push(y.value.group?"multiselect-group":"multiselect-option"),N.push(y.value.group?y.value.index:y.value[i.value]),N.join("-")}),E=ft(()=>n.value),A=ft(()=>c.value!=="single"),H=ft(()=>{let N="";return c.value==="single"&&O.value&&(N+=w.value[o.value]),c.value==="multiple"&&O.value&&(N+=M.value),c.value==="tags"&&O.value&&(N+=w.value.map(re=>re[o.value]).join(", ")),N}),te=ft(()=>{let N={..._.value};return h.value&&(N["aria-labelledby"]=N["aria-labelledby"]?`${fe.value} ${N["aria-labelledby"]}`:fe.value,H.value&&N["aria-label"]&&(N["aria-label"]=`${H.value}, ${N["aria-label"]}`)),N}),Y=N=>{let re=[];return r&&r.value&&re.push(r.value),re.push("multiselect-option"),re.push(N[i.value]),re.join("-")},x=N=>{let re=[];return r&&r.value&&re.push(r.value),re.push("multiselect-group"),re.push(N.index),re.join("-")},S=N=>{let re=[];return re.push(N),re.join(" ")},L=N=>{let re=[];return re.push(N),re.join(" ")},K=N=>`${N} `;return cs(()=>{if(r&&r.value&&document&&document.querySelector){let N=document.querySelector(`[for="${r.value}"]`);G.value=N?N.innerText:null}}),{arias:te,ariaLabel:H,ariaAssist:fe,ariaControls:Q,ariaPlaceholder:E,ariaMultiselectable:A,ariaActiveDescendant:U,ariaOptionId:Y,ariaOptionLabel:S,ariaGroupId:x,ariaGroupLabel:L,ariaTagLabel:K}}function r0(e,t,s){const{locale:n,fallbackLocale:r}=yn(e);return{localize:o=>!o||typeof o!="object"?o:o&&o[n.value]?o[n.value]:o&&n.value&&o[n.value.toUpperCase()]?o[n.value.toUpperCase()]:o&&o[r.value]?o[r.value]:o&&r.value&&o[r.value.toUpperCase()]?o[r.value.toUpperCase()]:o&&Object.keys(o)[0]?o[Object.keys(o)[0]]:""}}function i0(e,t,s){const n=It(null),r=It(null),i=It(null),o=It(null),c=It(null);return{multiselect:n,wrapper:r,tags:i,input:o,dropdown:c}}function o0(e,t,s,n={}){return s.forEach(r=>{r&&(n={...n,...r(e,t,n)})}),n}var Kt={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max","create"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:[String,Array],required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:[String,Object],required:!1,default:"The list is empty"},noResultsText:{type:[String,Object],required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},closeOnDeselect:{type:Boolean,required:!1,default:!1},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0},locale:{required:!1,type:String,default:null},fallbackLocale:{required:!1,type:String,default:"en"},searchFilter:{required:!1,type:Function,default:null},allowAbsent:{required:!1,type:Boolean,default:!1},appendToBody:{required:!1,type:Boolean,default:!1},closeOnScroll:{required:!1,type:Boolean,default:!1},breakTags:{required:!1,type:Boolean,default:!1},appendTo:{required:!1,type:String}},setup(e,t){return o0(e,t,[i0,r0,zb,Wb,Yw,Hb,Vb,Zw,Gb,n0,Jb,e0,t0,s0])},beforeMount(){(this.$root.constructor?.version?.match(/^2\./)||this.vueVersionMs===2)&&(this.$options.components.Teleport||(this.$options.components.Teleport={render(){return this.$slots.default?this.$slots.default[0]:null}}))}};const a0=["id","dir"],l0=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],c0=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],u0=["onKeyup","aria-label"],f0=["onClick"],d0=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],p0=["innerHTML"],_0=["id"],h0=["id"],m0=["id","aria-label","aria-selected"],g0=["data-pointed","onMouseenter","onMousedown"],y0=["innerHTML"],v0=["aria-label"],b0=["data-pointed","data-selected","onMouseenter","onMousedown","id","aria-selected","aria-label"],w0=["data-pointed","data-selected","onMouseenter","onMousedown","id","aria-selected","aria-label"],E0=["innerHTML"],q0=["innerHTML"],S0=["value"],x0=["name","value"],k0=["name","value"],A0=["id"];function C0(e,t,s,n,r,i){return de(),be("div",{ref:"multiselect",class:ot(e.classList.container),id:s.searchable?void 0:s.id,dir:s.rtl?"rtl":void 0,onFocusin:t[10]||(t[10]=(...o)=>e.handleFocusIn&&e.handleFocusIn(...o)),onFocusout:t[11]||(t[11]=(...o)=>e.handleFocusOut&&e.handleFocusOut(...o)),onKeyup:t[12]||(t[12]=(...o)=>e.handleKeyup&&e.handleKeyup(...o)),onKeydown:t[13]||(t[13]=(...o)=>e.handleKeydown&&e.handleKeydown(...o))},[W("div",js({class:e.classList.wrapper,onMousedown:t[9]||(t[9]=(...o)=>e.handleMousedown&&e.handleMousedown(...o)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":s.searchable?void 0:e.ariaControls,"aria-placeholder":s.searchable?void 0:e.ariaPlaceholder,"aria-expanded":s.searchable?void 0:e.isOpen,"aria-activedescendant":s.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":s.searchable?void 0:e.ariaMultiselectable,role:s.searchable?void 0:"combobox"},s.searchable?{}:e.arias),[Je(" Search "),s.mode!=="tags"&&s.searchable&&!s.disabled?(de(),be("input",js({key:0,type:s.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:s.autocomplete,id:s.searchable?s.id:void 0,onInput:t[0]||(t[0]=(...o)=>e.handleSearchInput&&e.handleSearchInput(...o)),onKeypress:t[1]||(t[1]=(...o)=>e.handleKeypress&&e.handleKeypress(...o)),onPaste:t[2]||(t[2]=Wt((...o)=>e.handlePaste&&e.handlePaste(...o),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...s.attrs,...e.arias}),null,16,c0)):Je("v-if",!0),Je(" Tags (with search) "),s.mode=="tags"?(de(),be("div",{key:1,class:ot(e.classList.tags),"data-tags":""},[(de(!0),be(yt,null,$t(e.iv,(o,c,f)=>sn(e.$slots,"tag",{option:o,handleTagRemove:e.handleTagRemove,disabled:s.disabled},()=>[(de(),be("span",{class:ot([e.classList.tag,o.disabled?e.classList.tagDisabled:null]),tabindex:"-1",onKeyup:$r(_=>e.handleTagRemove(o,_),["enter"]),key:f,"aria-label":e.ariaTagLabel(e.localize(o[s.label]))},[W("span",{class:ot(e.classList.tagWrapper)},ht(e.localize(o[s.label])),3),!s.disabled&&!o.disabled?(de(),be("span",{key:0,class:ot(e.classList.tagRemove),onClick:Wt(_=>e.handleTagRemove(o,_),["stop"])},[W("span",{class:ot(e.classList.tagRemoveIcon)},null,2)],10,f0)):Je("v-if",!0)],42,u0))])),256)),W("div",{class:ot(e.classList.tagsSearchWrapper),ref:"tags"},[Je(" Used for measuring search width "),W("span",{class:ot(e.classList.tagsSearchCopy)},ht(e.search),3),Je(" Actual search input "),s.searchable&&!s.disabled?(de(),be("input",js({key:0,type:s.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:s.searchable?s.id:void 0,autocomplete:s.autocomplete,onInput:t[3]||(t[3]=(...o)=>e.handleSearchInput&&e.handleSearchInput(...o)),onKeypress:t[4]||(t[4]=(...o)=>e.handleKeypress&&e.handleKeypress(...o)),onPaste:t[5]||(t[5]=Wt((...o)=>e.handlePaste&&e.handlePaste(...o),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...s.attrs,...e.arias}),null,16,d0)):Je("v-if",!0)],2)],2)):Je("v-if",!0),Je(" Single label "),s.mode=="single"&&e.hasSelected&&!e.search&&e.iv?sn(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[W("div",{class:ot(e.classList.singleLabel)},[W("span",{class:ot(e.classList.singleLabelText)},ht(e.localize(e.iv[s.label])),3)],2)]):Je("v-if",!0),Je(" Multiple label "),s.mode=="multiple"&&e.hasSelected&&!e.search?sn(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[W("div",{class:ot(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,p0)]):Je("v-if",!0),Je(" Placeholder "),s.placeholder&&!e.hasSelected&&!e.search?sn(e.$slots,"placeholder",{key:4},()=>[W("div",{class:ot(e.classList.placeholder),"aria-hidden":"true"},ht(s.placeholder),3)]):Je("v-if",!0),Je(" Spinner "),s.loading||e.resolving?sn(e.$slots,"spinner",{key:5},()=>[W("span",{class:ot(e.classList.spinner),"aria-hidden":"true"},null,2)]):Je("v-if",!0),Je(" Clear "),e.hasSelected&&!s.disabled&&s.canClear&&!e.busy?sn(e.$slots,"clear",{key:6,clear:e.clear},()=>[W("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"",class:ot(e.classList.clear),onClick:t[6]||(t[6]=(...o)=>e.clear&&e.clear(...o)),onKeyup:t[7]||(t[7]=$r((...o)=>e.clear&&e.clear(...o),["enter"]))},[W("span",{class:ot(e.classList.clearIcon)},null,2)],34)]):Je("v-if",!0),Je(" Caret "),s.caret&&s.showOptions?sn(e.$slots,"caret",{key:7,handleCaretClick:e.handleCaretClick,isOpen:e.isOpen},()=>[W("span",{class:ot(e.classList.caret),onClick:t[8]||(t[8]=(...o)=>e.handleCaretClick&&e.handleCaretClick(...o)),"aria-hidden":"true"},null,2)]):Je("v-if",!0)],16,l0),Je(" Options "),(de(),en(gd,{to:s.appendTo||"body",disabled:!s.appendToBody&&!s.appendTo},[W("div",{id:`${s.id}-dropdown`,class:ot(e.classList.dropdown),tabindex:"-1",ref:"dropdown"},[sn(e.$slots,"beforelist",{options:e.fo}),W("ul",{class:ot(e.classList.options),id:e.ariaControls,role:"listbox"},[s.groups?(de(!0),be(yt,{key:0},$t(e.fg,(o,c,f)=>(de(),be("li",{class:ot(e.classList.group),key:f,id:e.ariaGroupId(o),"aria-label":e.ariaGroupLabel(e.localize(o[s.groupLabel])),"aria-selected":e.isSelected(o),role:"option"},[o.__CREATE__?Je("v-if",!0):(de(),be("div",{key:0,class:ot(e.classList.groupLabel(o)),"data-pointed":e.isPointed(o),onMouseenter:_=>e.setPointer(o,c),onMousedown:Wt(_=>e.handleGroupClick(o),["prevent"])},[sn(e.$slots,"grouplabel",{group:o,isSelected:e.isSelected,isPointed:e.isPointed},()=>[W("span",{innerHTML:e.localize(o[s.groupLabel])},null,8,y0)])],42,g0)),W("ul",{class:ot(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(e.localize(o[s.groupLabel])),role:"group"},[(de(!0),be(yt,null,$t(o.__VISIBLE__,(_,h,y)=>(de(),be("li",{class:ot(e.classList.option(_,o)),"data-pointed":e.isPointed(_),"data-selected":e.isSelected(_)||void 0,key:y,onMouseenter:w=>e.setPointer(_),onMousedown:Wt(w=>e.handleOptionClick(_),["prevent"]),id:e.ariaOptionId(_),"aria-selected":e.isSelected(_),"aria-label":e.ariaOptionLabel(e.localize(_[s.label])),role:"option"},[sn(e.$slots,"option",{option:_,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[W("span",null,ht(e.localize(_[s.label])),1)])],42,b0))),128))],10,v0)],10,m0))),128)):(de(!0),be(yt,{key:1},$t(e.fo,(o,c,f)=>(de(),be("li",{class:ot(e.classList.option(o)),"data-pointed":e.isPointed(o),"data-selected":e.isSelected(o)||void 0,key:f,onMouseenter:_=>e.setPointer(o),onMousedown:Wt(_=>e.handleOptionClick(o),["prevent"]),id:e.ariaOptionId(o),"aria-selected":e.isSelected(o),"aria-label":e.ariaOptionLabel(e.localize(o[s.label])),role:"option"},[sn(e.$slots,"option",{option:o,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[W("span",null,ht(e.localize(o[s.label])),1)])],42,w0))),128))],10,h0),e.noOptions?sn(e.$slots,"nooptions",{key:0},()=>[W("div",{class:ot(e.classList.noOptions),innerHTML:e.localize(s.noOptionsText)},null,10,E0)]):Je("v-if",!0),e.noResults?sn(e.$slots,"noresults",{key:1},()=>[W("div",{class:ot(e.classList.noResults),innerHTML:e.localize(s.noResultsText)},null,10,q0)]):Je("v-if",!0),s.infinite&&e.hasMore?(de(),be("div",{key:2,class:ot(e.classList.inifinite),ref:"infiniteLoader"},[sn(e.$slots,"infinite",{},()=>[W("span",{class:ot(e.classList.inifiniteSpinner)},null,2)])],2)):Je("v-if",!0),sn(e.$slots,"afterlist",{options:e.fo})],10,_0)],8,["to","disabled"])),Je(" Hacky input element to show HTML5 required warning "),s.required?(de(),be("input",{key:0,class:ot(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,S0)):Je("v-if",!0),Je(" Native input support "),s.nativeSupport?(de(),be(yt,{key:1},[s.mode=="single"?(de(),be("input",{key:0,type:"hidden",name:s.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,x0)):(de(!0),be(yt,{key:1},$t(e.plainValue,(o,c)=>(de(),be("input",{type:"hidden",name:`${s.name}[]`,value:o,key:c},null,8,k0))),128))],64)):Je("v-if",!0),Je(" Screen reader assistive text "),s.searchable&&e.hasSelected?(de(),be("div",{key:2,class:ot(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},ht(e.ariaLabel),11,A0)):Je("v-if",!0),Je(" Create height for empty input "),W("div",{class:ot(e.classList.spacer)},null,2)],42,a0)}Kt.render=C0;Kt.__file="src/Multiselect.vue";let bo;const T0=new Uint8Array(16);function O0(){if(!bo&&(bo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bo(T0)}const an=[];for(let e=0;e<256;++e)an.push((e+256).toString(16).slice(1));function I0(e,t=0){return an[e[t+0]]+an[e[t+1]]+an[e[t+2]]+an[e[t+3]]+"-"+an[e[t+4]]+an[e[t+5]]+"-"+an[e[t+6]]+an[e[t+7]]+"-"+an[e[t+8]]+an[e[t+9]]+"-"+an[e[t+10]]+an[e[t+11]]+an[e[t+12]]+an[e[t+13]]+an[e[t+14]]+an[e[t+15]]}const P0=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),af={randomUUID:P0};function R0(e,t,s){if(af.randomUUID&&!t&&!e)return af.randomUUID();e=e||{};const n=e.random||(e.rng||O0)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){s=s||0;for(let r=0;r<16;++r)t[s+r]=n[r];return t}return I0(n)}const L0={class:"icons"},F0=["data-colour"],D0=["value","id"],M0=["for"],N0={__name:"Colours",emits:["update:modelValue"],setup(e,{emit:t}){const s={White:"W",Blue:"U",Black:"B",Red:"R",Green:"G",Colourless:"C"},n=Gt({colours:[]}),r=t,i={Azorius:["U","W"],Boros:["R","W"],Dimir:["B","U"],Golgari:["B","G"],Gruul:["G","R"],Izzet:["R","U"],Orzhov:["B","W"],Rakdos:["B","R"],Selesnya:["G","W"],Simic:["G","U"]},o={Abzan:["B","G","W"],Bant:["G","U","W"],Esper:["B","U","W"],Grixis:["B","R","U"],Jeskai:["R","U","W"],Jund:["B","G","R"],Mardu:["B","R","W"],Naya:["G","R","W"],Sultai:["B","G","U"],Temur:["G","R","U"]},c={Glint:"W",Dune:"U",Ink:"B",Witch:"R",Yore:"G"},f=R0();fr(()=>{r("update:modelValue",n.colours)});const _=h=>{let y=[...h].sort();if(h.length===2){for(const[w,O]of Object.entries(i))if(y.every((M,G)=>M===O[G]))return w}else if(h.length===3){for(const[w,O]of Object.entries(o))if(y.every((M,G)=>M===O[G]))return w}else if(h.length===4){for(const[w,O]of Object.entries(c))if(!h.includes(O))return w}return""};return(h,y)=>(de(),be("div",L0,[(de(),be(yt,null,$t(s,w=>W("div",{class:ot(["input-group colour",n.colours.includes(w)?"selected":""]),"data-colour":w,key:w},[At(W("input",{type:"checkbox","onUpdate:modelValue":y[0]||(y[0]=O=>n.colours=O),value:w,id:X(f)+w},null,8,D0),[[Ms,n.colours]]),W("label",{for:X(f)+w,class:ot("icon icon-"+w)},null,10,M0)],10,F0)),64)),W("h3",null,ht(n.colours.length>1?`${_(n.colours)}`:""),1)]))}},$0=Vt(N0,[["__scopeId","data-v-bdafe7b4"]]);const r_=e=>(as("data-v-a3184fae"),e=e(),ls(),e),B0={class:"filter-group rarities"},j0=["data-rarity"],U0=["onUpdate:modelValue","value","id"],V0=["for","title"],z0={class:"filter-group colours"},H0={class:"filter-group"},W0={class:"filter-group"},Q0={class:"filter-group mana"},K0={class:"filter-group price"},G0={class:"filter-group"},J0={class:"filter-group"},X0={class:"filter-group"},Y0={key:0,class:"filter-group"},Z0={key:1,class:"filter-group compare"},e3={class:"header"},t3=r_(()=>W("h3",null,"Compare",-1)),n3={class:"grid"},s3=["id","value"],r3=["for"],i3=["id","value"],o3=["for"],a3=["id","value"],l3=["for"],c3={class:"filter-group quantity"},u3={class:"filter-group"},f3=r_(()=>W("h3",null,"Other",-1)),d3={__name:"Filters",setup(e){const t=mn(),s=Kn(),n=Jn(),r=["special","mythic","rare","uncommon","common"];return(i,o)=>(de(),be(yt,null,[W("div",B0,[(de(),be(yt,null,$t(r,c=>W("div",{class:"input-group rarity","data-rarity":c,key:c},[At(W("input",{type:"checkbox","onUpdate:modelValue":f=>X(s).filters.rarity=f,value:c,id:c},null,8,U0),[[Ms,X(s).filters.rarity]]),W("label",{for:c,title:c},null,8,V0)],8,j0)),64))]),W("div",z0,[Ze(X(Kt),{options:{commander:"Commader colours",exact:"Has exactly these colours",all:"Has all of these colours",any:"Has any of these colours"},modelValue:X(s).filters.colours.mode,"onUpdate:modelValue":o[0]||(o[0]=c=>X(s).filters.colours.mode=c),placeholder:"Colour mode","can-clear":!1},null,8,["modelValue"]),Ze($0,{modelValue:X(s).filters.colours.colours,"onUpdate:modelValue":o[1]||(o[1]=c=>X(s).filters.colours.colours=c)},null,8,["modelValue"])]),W("div",H0,[At(W("input",{type:"search","onUpdate:modelValue":o[2]||(o[2]=c=>X(s).filters.name=c),placeholder:"Name"},null,512),[[jt,X(s).filters.name]])]),W("div",W0,[At(W("input",{type:"search","onUpdate:modelValue":o[3]||(o[3]=c=>X(s).filters.cardText=c),placeholder:"Card text"},null,512),[[jt,X(s).filters.cardText]])]),W("div",Q0,[At(W("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=c=>X(s).filters.mana.value[0]=c),placeholder:"Mana (min)"},null,512),[[jt,X(s).filters.mana.value[0]]]),At(W("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=c=>X(s).filters.mana.value[1]=c),placeholder:"Mana (max)"},null,512),[[jt,X(s).filters.mana.value[1]]])]),W("div",K0,[At(W("input",{type:"number","onUpdate:modelValue":o[6]||(o[6]=c=>X(s).filters.price.value[0]=c),placeholder:"Price (min)"},null,512),[[jt,X(s).filters.price.value[0]]]),At(W("input",{type:"number","onUpdate:modelValue":o[7]||(o[7]=c=>X(s).filters.price.value[1]=c),placeholder:"Price (max)"},null,512),[[jt,X(s).filters.price.value[1]]])]),W("div",G0,[Ze(X(Kt),{modelValue:X(s).filters.tribes,"onUpdate:modelValue":o[8]||(o[8]=c=>X(s).filters.tribes=c),options:X(n).types,searchable:!0,mode:"tags","create-option":!0,placeholder:"Types"},null,8,["modelValue","options"])]),W("div",J0,[Ze(X(Kt),{modelValue:X(s).filters.keywords,"onUpdate:modelValue":o[9]||(o[9]=c=>X(s).filters.keywords=c),options:X(s).keywords,searchable:!0,mode:"tags",placeholder:"Keywords"},null,8,["modelValue","options"])]),W("div",X0,[Ze(X(Kt),{modelValue:X(s).filters.sets,"onUpdate:modelValue":o[10]||(o[10]=c=>X(s).filters.sets=c),options:X(n).sets,searchable:!0,label:"name","value-prop":"code",mode:"tags",placeholder:"Sets"},null,8,["modelValue","options"])]),X(s).tags.length>0?(de(),be("div",Y0,[Ze(X(Kt),{modelValue:X(s).filters.tags,"onUpdate:modelValue":o[11]||(o[11]=c=>X(s).filters.tags=c),options:X(s).tags,searchable:!0,mode:"tags",placeholder:"Tags"},null,8,["modelValue","options"])])):Je("",!0),X(t).names.length>0?(de(),be("div",Z0,[W("div",e3,[t3,W("a",{href:"#",onClick:o[12]||(o[12]=()=>{X(s).filters.incCol=[],X(s).filters.excCol=[]})},"X")]),W("div",n3,[(de(!0),be(yt,null,$t(X(t).names,c=>(de(),be(yt,{key:c},[W("div",null,ht(c),1),W("div",null,[At(W("input",{type:"checkbox",id:c+"-cmp","onUpdate:modelValue":o[13]||(o[13]=f=>X(s).filters.cmpCol=f),value:c},null,8,s3),[[Ms,X(s).filters.cmpCol]]),W("label",{class:"cmp icon icon-compare_arrows",for:c+"-cmp"},null,8,r3)]),W("div",null,[At(W("input",{type:"checkbox",id:c+"-inc","onUpdate:modelValue":o[14]||(o[14]=f=>X(s).filters.incCol=f),value:c},null,8,i3),[[Ms,X(s).filters.incCol]]),W("label",{class:"inc",for:c+"-inc"},null,8,o3)]),W("div",null,[At(W("input",{type:"checkbox",id:c+"-exc","onUpdate:modelValue":o[15]||(o[15]=f=>X(s).filters.excCol=f),value:c},null,8,a3),[[Ms,X(s).filters.excCol]]),W("label",{class:"exc",for:c+"-exc"},null,8,l3)])],64))),128))])])):Je("",!0),Ze(X(Kt),{modelValue:X(s).filters.finish,"onUpdate:modelValue":o[16]||(o[16]=c=>X(s).filters.finish=c),options:["nonfoil","foil","etched"],mode:"single",placeholder:"Finish"},null,8,["modelValue"]),Ze(X(Kt),{modelValue:X(s).filters.frame,"onUpdate:modelValue":o[17]||(o[17]=c=>X(s).filters.frame=c),options:X(s).frame_effects,mode:"single",placeholder:"Frame"},null,8,["modelValue","options"]),Ze(X(Kt),{modelValue:X(s).filters.border,"onUpdate:modelValue":o[18]||(o[18]=c=>X(s).filters.border=c),options:["borderless","black","white"],mode:"single",placeholder:"Border"},null,8,["modelValue"]),W("div",c3,[At(W("input",{type:"number","onUpdate:modelValue":o[19]||(o[19]=c=>X(s).filters.quantity.value[0]=c),placeholder:"Count (min)"},null,512),[[jt,X(s).filters.quantity.value[0]]]),At(W("input",{type:"number","onUpdate:modelValue":o[20]||(o[20]=c=>X(s).filters.quantity.value[1]=c),placeholder:"Count (max)"},null,512),[[jt,X(s).filters.quantity.value[1]]])]),W("div",u3,[f3,Ze(X(Kt),{options:{ID:"Oracle id"},mode:"single",placeholder:"Group by",modelValue:X(s).filters.group,"onUpdate:modelValue":o[21]||(o[21]=c=>X(s).filters.group=c)},null,8,["modelValue"])])],64))}},i_=Vt(d3,[["__scopeId","data-v-a3184fae"]]),Kr=fs("details",{state:()=>({card:{},rulings:[]}),actions:{async loadDetails(e,t=!1){if(this.rulings=[],this.card=e,t){const s=await caches.open("cardDataCache"),n=await Ns(s,e.rulings_uri);this.rulings=n.data}}}});const p3=["srcset"],_3=["src"],h3=["src"],m3={__name:"CardImage",props:{card:{type:Object,required:!0},effects:{type:Array,default:()=>[]},actions:{type:Array,default:()=>["clip","delete","prints"]}},setup(e){const t=e;return(s,n)=>(de(),be("div",{class:ot(["img",{[t.card.finish]:!0,[t.effects]:!0}])},[t.card.image_uris?(de(),be("img",{key:0,srcset:`${t.card.image_uris.normal}, ${t.card.image_uris.large} 2x, ${t.card.image_uris.large} 400w`,loading:"lazy",crossorigin:"anonymous"},null,8,p3)):Je("",!0),t.card.card_faces&&t.card.card_faces[0].image_uris?(de(),be("img",{key:1,class:"flip front",src:t.card.card_faces[0].image_uris.normal,loading:"lazy",crossorigin:"anonymous"},null,8,_3)):Je("",!0),t.card.card_faces&&t.card.card_faces[0].image_uris?(de(),be("img",{key:2,class:"flip back",src:t.card.card_faces[1].image_uris.normal,loading:"lazy",crossorigin:"anonymous"},null,8,h3)):Je("",!0)],2))}},wa=Vt(m3,[["__scopeId","data-v-caadbbb9"]]);const g3={class:"prices"},y3={__name:"Prices",props:{card:{type:Object,required:!0},all:{type:Boolean,default:!0}},setup(e){const t=Jn(),s=e,n={nonfoil:"",etched:"#",foil:""};return(r,i)=>(de(),be("span",g3,[(de(!0),be(yt,null,$t(s.card.finishes,o=>(de(),be("span",{key:o},[o==="nonfoil"?At((de(),be("span",{key:0,class:ot(["price",o===s.card.finish?"match":""])},ht(n[o])+" "+ht(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(s.card.prices.eur*X(t).forex.eur||s.card.prices.usd*X(t).forex.usd)),3)),[[_n,s.all||s.card.finish===o]]):At((de(),be("span",{key:1,class:ot(["price",o===s.card.finish?"match":""])},ht(n[o])+" "+ht(new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(s.card.prices["eur_"+o]*X(t).forex.eur||s.card.prices["usd_"+o]*X(t).forex.usd)),3)),[[_n,s.all||s.card.finish===o]])]))),128))]))}},o_=Vt(y3,[["__scopeId","data-v-1a763385"]]);const v3={class:"details"},b3={class:"name"},w3={class:"set-line"},E3=["href"],q3={class:"tags"},S3={__name:"CardSummary",props:{card:{type:Object,required:!0}},setup(e){const t=e,s={nonfoil:"",etched:"#",foile:""};return(n,r)=>(de(),be("div",v3,[W("span",b3,ht(t.card.count)+" "+ht(t.card.name)+" "+ht(s[t.card.finish]),1),W("span",w3,[us(ht(t.card.set_name)+" ",1),t.card.purchase_uris?(de(),be("a",{key:0,href:t.card.purchase_uris.cardmarket,target:"_blank",class:"set-id"},ht(t.card.set)+":"+ht(t.card.collector_number),9,E3)):Je("",!0)]),Ze(o_,{card:t.card},null,8,["card"]),W("div",q3,[(de(!0),be(yt,null,$t(t.card.tags,i=>(de(),be("div",{class:"tag",key:i},ht(i),1))),128)),t.card.promo_types?(de(!0),be(yt,{key:0},$t(t.card.promo_types.filter(i=>i!=="boosterfun"),i=>(de(),be("div",{class:"tag",key:i},ht(i),1))),128)):Je("",!0)])]))}},xc=Vt(S3,[["__scopeId","data-v-cc41c299"]]);const x3={class:"buttons"},k3={__name:"CardActions",props:{card:{type:Object,required:!0},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints","edit"]}},emits:["select","deselect"],setup(e,{emit:t}){const s=Qi(),n=Kn(),r=mn(),i=Gp(),o=Jp(),c=Js(),f=Kn(),_=e,h=t,y=async O=>{let M={...O};M.count=1,s.add(M),await r.save("clipboard",s.unrefCards()),new BroadcastChannel("clipboard").postMessage("update"),c.clipboard_change=!0,setTimeout(()=>{c.clipboard_change=!1},500)},w=async O=>{confirm(`Are you sure you want to delete ${O.name} from ${r.open.join(", ")}`)&&(await r.deleteCard(r.open,O),n.delete(O))};return(O,M)=>(de(),be("div",x3,[_.actions.includes("select")&&!X(f).selected.has(e.card.id+e.card.finish)?(de(),be("button",{key:0,class:"small select icon icon-check",onClick:M[0]||(M[0]=Wt(()=>{h("select")},["stop"])),title:"Select"})):Je("",!0),_.actions.includes("deselect")&&X(f).selected.has(e.card.id+e.card.finish)?(de(),be("button",{key:1,class:"small deselect icon icon-clear",onClick:M[1]||(M[1]=Wt(()=>{h("deselect")},["stop"])),title:"Deselect"})):Je("",!0),_.actions.includes("prints")?(de(),be("button",{key:2,class:"small prints icon icon-prints",onClick:M[2]||(M[2]=Wt(()=>{X(i).loadPrints(_.card.name),X(c).showSidebar("prints")},["stop"])),title:"View all prints"})):Je("",!0),_.actions.includes("prints")&&X(n).filters.group?(de(),be("button",{key:3,class:"small versions icon icon-list",onClick:M[3]||(M[3]=Wt(()=>{X(o).loadVersions(_.card.oracle_id),X(c).showSidebar("versions")},["stop"])),title:"View versions in open collections"})):Je("",!0),_.actions.includes("clip")?(de(),be("button",{key:4,class:"small clip icon icon-add",onClick:M[4]||(M[4]=Wt(G=>y(e.card),["stop"])),title:"Add to clipboard"})):Je("",!0),_.actions.includes("edit")&&X(c).source==="collection"?(de(),be("button",{key:5,class:"small edit icon icon-edit",onClick:M[5]||(M[5]=Wt(()=>{X(c).edit.card=_.card,X(c).showSidebar("edit")},["stop"])),title:"Edit"})):Je("",!0),_.actions.includes("delete")&&X(c).source==="collection"?(de(),be("button",{key:6,class:"small delete icon icon-delete",onClick:M[6]||(M[6]=Wt(()=>{w(e.card),X(c).details.show=!1,X(c).details.card={}},["stop"])),title:"Delete"})):Je("",!0)]))}},a_=Vt(k3,[["__scopeId","data-v-08de54f7"]]);const A3=["data-id"],C3={class:"wrap"},T3={__name:"Card",props:{card:{type:Object,required:!0},index:{type:Number,default:0},selected:{type:Boolean,default:!1},actions:{type:Array,default:()=>["select","deselect","clip","delete","prints"]}},emits:["clicked","select","deselect"],setup(e,{emit:t}){const s=Kn(),n=e,r=t,i=o=>{if(s.filters.cmpCol.length>0){const c=s.have.get(o.oracle_id);return s.haveExact.get(o.id)?["exact"]:c?["have"]:["missing"]}if([...s.selected].length>0)return s.selected.has(o.id+o.finish)?["selected"]:["missing"]};return(o,c)=>(de(),be("div",{class:ot(["card",{selected:n.selected}]),"data-id":n.card.id,onSelect:c[3]||(c[3]=f=>r("select")),onDeselect:c[4]||(c[4]=f=>r("deselect"))},[W("div",C3,[Ze(wa,{card:n.card,effects:i(e.card),onTouchstart:o.mouseDown,onTouchend:o.mouseUp,onClick:c[0]||(c[0]=Wt(f=>r("clicked"),["stop"]))},null,8,["card","effects","onTouchstart","onTouchend"]),Ze(a_,{card:n.card,actions:n.selected?n.actions.concat(["deselect"]):n.actions,onSelect:c[1]||(c[1]=f=>r("select")),onDeselect:c[2]||(c[2]=f=>r("deselect"))},null,8,["card","actions"])]),Ze(xc,{card:n.card},null,8,["card"])],42,A3))}},O3=Vt(T3,[["__scopeId","data-v-af0b0e43"]]);const I3=e=>(as("data-v-6f9ddb0f"),e=e(),ls(),e),P3={key:0,class:"loader"},R3=I3(()=>W("span",null,"Loading",-1)),L3=[R3],F3={__name:"CardView",props:{store:{type:Object,required:!0},actions:{type:Array,default:()=>["select","clip","delete","details","prints"]}},setup(e){const t=Js(),s=Kr(),n=e;return(r,i)=>(de(),be(yt,null,[n.store.loading?(de(),be("div",P3,L3)):Je("",!0),W("div",{class:"cards",style:Gn({"font-size":18+X(t).zoom*2+"px","grid-template-columns":`repeat(${X(t).columns}, 1fr)`})},[(de(!0),be(yt,null,$t(n.store.filtered.slice(0,500),(o,c)=>(de(),en(O3,{card:o,index:c,actions:n.actions,key:o.id+o.finish,class:ot({commander:o.isCommander}),selected:n.store.selected.has(o.id+o.finish),onSelect:f=>n.store.selected.add(o.id+o.finish),onDeselect:f=>n.store.selected.delete(o.id+o.finish),onClicked:()=>{X(s).loadDetails(o,r.includeRulings=!0),X(t).details.show=!0,X(t).details.index=c}},null,8,["card","index","actions","class","selected","onSelect","onDeselect","onClicked"]))),128))],4)],64))}},kc=Vt(F3,[["__scopeId","data-v-6f9ddb0f"]]);const D3=["innerHTML"],M3={__name:"ManaCost",props:{mana:{type:String,required:!0}},setup(e){const t=Jn(),s=e,n=r=>{if(!r)return"";const i=/(\{[aA-zZ0-9/]+\})/g;return r=r.replace(i,(o,c)=>`<img crossorigin='anonymous' class='symbol' src='${t.symbols.get(c)}' />`),r};return(r,i)=>s.mana?(de(),be("span",{key:0,class:"icons",innerHTML:n(s.mana)},null,8,D3)):Je("",!0)}},l_=Vt(M3,[["__scopeId","data-v-78593a81"]]);const N3={class:"scroll"},$3={class:"groups"},B3={class:"cards"},j3=["onMouseover"],U3={class:"name"},V3={key:0,class:"mana"},z3={class:"price"},H3={__name:"CardList",props:{cards:{type:Array,required:!0},loading:Boolean,view:{type:String,default:"list"},actions:{type:Array,default:()=>["clip","delete","prints"]}},emits:["clip","viewPrints","delete"],setup(e,{emit:t}){const s=e,n=["Commander","Planeswalker","Legendary Creature","Creature","Sorcery","Instant","Artifact","Enchantment","Land","Token"],r=Gt({groups:new Map}),i=Kr();return fr(()=>{const o=new Map;for(const c of n)o.set(c,[]);for(const c of s.cards.slice(0,200)){if(c.isCommander){o.set("Commander",[c]);continue}o.get(c.type).push(c)}r.groups=o}),(o,c)=>(de(),be("div",N3,[W("div",$3,[(de(!0),be(yt,null,$t(r.groups.entries(),([f,_])=>(de(),be("div",{class:"group",key:f},[W("h3",null,ht(f),1),W("div",B3,[(de(!0),be(yt,null,$t(_,h=>(de(),be("div",{class:ot(["card",h.finish]),key:h.id+h.finish,onMouseover:y=>X(i).loadDetails(h)},[W("div",U3,ht(h.finish==="foil"?"":"")+" "+ht(h.finish==="etched"?"#":"")+" "+ht(h.count)+" "+ht(h.name),1),h.mana_cost?(de(),be("div",V3,[Ze(l_,{mana:h.mana_cost},null,8,["mana"])])):Je("",!0),W("div",z3,[Ze(o_,{card:h,all:!1},null,8,["card"])])],42,j3))),128))])]))),128))])]))}},W3=Vt(H3,[["__scopeId","data-v-2a01796d"]]);const Ea=e=>(as("data-v-8bf503af"),e=e(),ls(),e),Q3={class:"precon"},K3={class:"flex"},G3=Ea(()=>W("span",null,"+",-1)),J3=[G3],X3={class:"form"},Y3=Ea(()=>W("label",{for:"name"},"Name",-1)),Z3=Ea(()=>W("label",{for:"set"},"Set Code",-1)),eE=Ea(()=>W("label",{for:"name"},"Commander",-1)),tE={key:0,class:"errors"},nE={__name:"Precon",emits:["close"],setup(e,{emit:t}){const s=Jn(),n=Hi(),r="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",i=Gt({name:"",set:"",cards:"",errors:""}),o=t,c=async()=>{const f=/([0-9]+) (.+)/g,_=i.cards.matchAll(f),h=[];for(const y of _)h.push({count:parseInt(y[1]),name:y[2].trim()});try{await Mo(r+"/precon",{name:i.name,commander:i.commander,set:i.set,cards:h}),n(`Uploaded ${i.name}`)}catch(y){i.errors=y,n(`Failed ${y}`)}};return(f,_)=>(de(),be("div",Q3,[W("div",K3,[W("button",{class:"small close",onClick:_[0]||(_[0]=h=>o("close"))},J3),W("div",X3,[Y3,At(W("input",{id:"name",type:"text","onUpdate:modelValue":_[1]||(_[1]=h=>i.name=h)},null,512),[[jt,i.name]]),Z3,Ze(X(Kt),{modelValue:i.set,"onUpdate:modelValue":_[2]||(_[2]=h=>i.set=h),options:X(s).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set"},null,8,["modelValue","options"]),eE,At(W("input",{id:"name",type:"text","onUpdate:modelValue":_[3]||(_[3]=h=>i.commander=h)},null,512),[[jt,i.commander]]),At(W("textarea",{"onUpdate:modelValue":_[4]||(_[4]=h=>i.cards=h)},null,512),[[jt,i.cards]]),W("button",{onClick:c}," Upload "),i.errors?(de(),be("pre",tE," "+ht(i.errors),1)):Je("",!0)])])]))}},sE=Vt(nE,[["__scopeId","data-v-8bf503af"]]),rE=W("h3",null,"Prints",-1),iE={class:"prints"},oE={__name:"PrintsView",emits:["changed"],setup(e,{emit:t}){const s=Gp();return(n,r)=>(de(),be(yt,null,[rE,W("div",iE,[Ze(kc,{store:X(s),actions:["clip"]},null,8,["store"])])],64))}},aE=W("h3",null,"Prints",-1),lE={class:"prints"},cE={__name:"VersionsView",emits:["changed"],setup(e,{emit:t}){const s=Jp();return(n,r)=>(de(),be(yt,null,[aE,W("div",lE,[Ze(kc,{store:X(s),actions:["clip"]},null,8,["store"])])],64))}};const uE=e=>(as("data-v-6a082a4d"),e=e(),ls(),e),fE={class:"oracle-text"},dE=["innerHTML"],pE={key:0,class:"rulings"},_E=uE(()=>W("summary",null," Rulings ",-1)),hE={class:"list"},mE={__name:"CardDetails",props:{card:{type:Object,required:!0},face:{type:Number,default:0}},emits:["changed"],setup(e,{emit:t}){const s=Kr(),n=Jn(),r=Kn(),i=e,o=f=>{if(!f)return"";const _=/(\{[aA-zZ0-9/]+\})/g;return f=f.replace(_,(h,y)=>`<img class='symbol' src='${n.symbols.get(y)}' />`),f},c=f=>{navigator.clipboard.writeText(JSON.stringify(f,null,2))};return(f,_)=>(de(),be(yt,null,[Ze(a_,{card:i.card,onSelect:_[0]||(_[0]=h=>X(r).selected.add(e.card.id+e.card.finish)),onDeselect:_[1]||(_[1]=h=>X(r).selected.delete(e.card.id+e.card.finish))},null,8,["card"]),Ze(xc,{card:i.card},null,8,["card"]),(de(!0),be(yt,null,$t(i.card.card_faces||[i.card],(h,y)=>(de(),be("div",{class:ot(["face",{show:i.face===y}]),key:h+y},[W("div",fE,[(de(!0),be(yt,null,$t(h.oracle_text?.split(`
`),(w,O)=>(de(),be("div",{key:"oracle"+O},[W("span",{innerHTML:o(w)},null,8,dE)]))),128))])],2))),128)),X(s).rulings.length>0?(de(),be("div",pE,[W("details",{onClick:_[2]||(_[2]=Wt(()=>{},["stop"]))},[_E,W("div",hE,[(de(!0),be(yt,null,$t(X(s).rulings,(h,y)=>(de(),be("div",{class:"ruling",key:y},[W("span",{class:ot({header:h.comment.startsWith("----------")})},ht(h.comment.replaceAll("----------","")),3)]))),128))])])])):Je("",!0),W("a",{onClick:_[3]||(_[3]=h=>c(i.card))}," Copy Json ")],64))}},c_=Vt(mE,[["__scopeId","data-v-6a082a4d"]]);var u_={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(s,n){e.exports=n()})(Pb,function s(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},c=0,f={parse:function(x,S){var L=(S=S||{}).dynamicTyping||!1;if(Y(L)&&(S.dynamicTypingFunction=L,L={}),S.dynamicTyping=L,S.transform=!!Y(S.transform)&&S.transform,S.worker&&f.WORKERS_SUPPORTED){var K=function(){if(!f.WORKERS_SUPPORTED)return!1;var re=(Xe=n.URL||n.webkitURL||null,ae=s.toString(),f.BLOB_URL||(f.BLOB_URL=Xe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",ae,")();"],{type:"text/javascript"})))),Ie=new n.Worker(re),Xe,ae;return Ie.onmessage=U,Ie.id=c++,o[Ie.id]=Ie}();return K.userStep=S.step,K.userChunk=S.chunk,K.userComplete=S.complete,K.userError=S.error,S.step=Y(S.step),S.chunk=Y(S.chunk),S.complete=Y(S.complete),S.error=Y(S.error),delete S.worker,void K.postMessage({input:x,config:S,workerId:K.id})}var N=null;return f.NODE_STREAM_INPUT,typeof x=="string"?(x=function(re){return re.charCodeAt(0)===65279?re.slice(1):re}(x),N=S.download?new y(S):new O(S)):x.readable===!0&&Y(x.read)&&Y(x.on)?N=new M(S):(n.File&&x instanceof File||x instanceof Object)&&(N=new w(S)),N.stream(x)},unparse:function(x,S){var L=!1,K=!0,N=",",re=`\r
`,Ie='"',Xe=Ie+Ie,ae=!1,pe=null,ze=!1;(function(){if(typeof S=="object"){if(typeof S.delimiter!="string"||f.BAD_DELIMITERS.filter(function($e){return S.delimiter.indexOf($e)!==-1}).length||(N=S.delimiter),(typeof S.quotes=="boolean"||typeof S.quotes=="function"||Array.isArray(S.quotes))&&(L=S.quotes),typeof S.skipEmptyLines!="boolean"&&typeof S.skipEmptyLines!="string"||(ae=S.skipEmptyLines),typeof S.newline=="string"&&(re=S.newline),typeof S.quoteChar=="string"&&(Ie=S.quoteChar),typeof S.header=="boolean"&&(K=S.header),Array.isArray(S.columns)){if(S.columns.length===0)throw new Error("Option columns is empty");pe=S.columns}S.escapeChar!==void 0&&(Xe=S.escapeChar+Ie),(typeof S.escapeFormulae=="boolean"||S.escapeFormulae instanceof RegExp)&&(ze=S.escapeFormulae instanceof RegExp?S.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Be=new RegExp(fe(Ie),"g");if(typeof x=="string"&&(x=JSON.parse(x)),Array.isArray(x)){if(!x.length||Array.isArray(x[0]))return Et(null,x,ae);if(typeof x[0]=="object")return Et(pe||Object.keys(x[0]),x,ae)}else if(typeof x=="object")return typeof x.data=="string"&&(x.data=JSON.parse(x.data)),Array.isArray(x.data)&&(x.fields||(x.fields=x.meta&&x.meta.fields||pe),x.fields||(x.fields=Array.isArray(x.data[0])?x.fields:typeof x.data[0]=="object"?Object.keys(x.data[0]):[]),Array.isArray(x.data[0])||typeof x.data[0]=="object"||(x.data=[x.data])),Et(x.fields||[],x.data||[],ae);throw new Error("Unable to serialize unrecognized input");function Et($e,qt,vt){var rt="";typeof $e=="string"&&($e=JSON.parse($e)),typeof qt=="string"&&(qt=JSON.parse(qt));var qe=Array.isArray($e)&&0<$e.length,ne=!Array.isArray(qt[0]);if(qe&&K){for(var Te=0;Te<$e.length;Te++)0<Te&&(rt+=N),rt+=dt($e[Te],Te);0<qt.length&&(rt+=re)}for(var _e=0;_e<qt.length;_e++){var De=qe?$e.length:qt[_e].length,ut=!1,P=qe?Object.keys(qt[_e]).length===0:qt[_e].length===0;if(vt&&!qe&&(ut=vt==="greedy"?qt[_e].join("").trim()==="":qt[_e].length===1&&qt[_e][0].length===0),vt==="greedy"&&qe){for(var R=[],Z=0;Z<De;Z++){var ue=ne?$e[Z]:Z;R.push(qt[_e][ue])}ut=R.join("").trim()===""}if(!ut){for(var ye=0;ye<De;ye++){0<ye&&!P&&(rt+=N);var we=qe&&ne?$e[ye]:ye;rt+=dt(qt[_e][we],ye)}_e<qt.length-1&&(!vt||0<De&&!P)&&(rt+=re)}}return rt}function dt($e,qt){if($e==null)return"";if($e.constructor===Date)return JSON.stringify($e).slice(1,25);var vt=!1;ze&&typeof $e=="string"&&ze.test($e)&&($e="'"+$e,vt=!0);var rt=$e.toString().replace(Be,Xe);return(vt=vt||L===!0||typeof L=="function"&&L($e,qt)||Array.isArray(L)&&L[qt]||function(qe,ne){for(var Te=0;Te<ne.length;Te++)if(-1<qe.indexOf(ne[Te]))return!0;return!1}(rt,f.BAD_DELIMITERS)||-1<rt.indexOf(N)||rt.charAt(0)===" "||rt.charAt(rt.length-1)===" ")?Ie+rt+Ie:rt}}};if(f.RECORD_SEP=String.fromCharCode(30),f.UNIT_SEP=String.fromCharCode(31),f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!r&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=Q,f.ParserHandle=G,f.NetworkStreamer=y,f.FileStreamer=w,f.StringStreamer=O,f.ReadableStreamStreamer=M,n.jQuery){var _=n.jQuery;_.fn.parse=function(x){var S=x.config||{},L=[];return this.each(function(re){if(!(_(this).prop("tagName").toUpperCase()==="INPUT"&&_(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var Ie=0;Ie<this.files.length;Ie++)L.push({file:this.files[Ie],inputElem:this,instanceConfig:_.extend({},S)})}),K(),this;function K(){if(L.length!==0){var re,Ie,Xe,ae,pe=L[0];if(Y(x.before)){var ze=x.before(pe.file,pe.inputElem);if(typeof ze=="object"){if(ze.action==="abort")return re="AbortError",Ie=pe.file,Xe=pe.inputElem,ae=ze.reason,void(Y(x.error)&&x.error({name:re},Ie,Xe,ae));if(ze.action==="skip")return void N();typeof ze.config=="object"&&(pe.instanceConfig=_.extend(pe.instanceConfig,ze.config))}else if(ze==="skip")return void N()}var Be=pe.instanceConfig.complete;pe.instanceConfig.complete=function(Et){Y(Be)&&Be(Et,pe.file,pe.inputElem),N()},f.parse(pe.file,pe.instanceConfig)}else Y(x.complete)&&x.complete()}function N(){L.splice(0,1),K()}}}function h(x){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(S){var L=H(S);L.chunkSize=parseInt(L.chunkSize),S.step||S.chunk||(L.chunkSize=null),this._handle=new G(L),(this._handle.streamer=this)._config=L}.call(this,x),this.parseChunk=function(S,L){if(this.isFirstChunk&&Y(this._config.beforeFirstChunk)){var K=this._config.beforeFirstChunk(S);K!==void 0&&(S=K)}this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+S;this._partialLine="";var re=this._handle.parse(N,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ie=re.meta.cursor;this._finished||(this._partialLine=N.substring(Ie-this._baseIndex),this._baseIndex=Ie),re&&re.data&&(this._rowCount+=re.data.length);var Xe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)n.postMessage({results:re,workerId:f.WORKER_ID,finished:Xe});else if(Y(this._config.chunk)&&!L){if(this._config.chunk(re,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);re=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(re.data),this._completeResults.errors=this._completeResults.errors.concat(re.errors),this._completeResults.meta=re.meta),this._completed||!Xe||!Y(this._config.complete)||re&&re.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Xe||re&&re.meta.paused||this._nextChunk(),re}this._halted=!0},this._sendError=function(S){Y(this._config.error)?this._config.error(S):i&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:S,finished:!1})}}function y(x){var S;(x=x||{}).chunkSize||(x.chunkSize=f.RemoteChunkSize),h.call(this,x),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(S=new XMLHttpRequest,this._config.withCredentials&&(S.withCredentials=this._config.withCredentials),r||(S.onload=te(this._chunkLoaded,this),S.onerror=te(this._chunkError,this)),S.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var L=this._config.downloadRequestHeaders;for(var K in L)S.setRequestHeader(K,L[K])}if(this._config.chunkSize){var N=this._start+this._config.chunkSize-1;S.setRequestHeader("Range","bytes="+this._start+"-"+N)}try{S.send(this._config.downloadRequestBody)}catch(re){this._chunkError(re.message)}r&&S.status===0&&this._chunkError()}},this._chunkLoaded=function(){S.readyState===4&&(S.status<200||400<=S.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:S.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(L){var K=L.getResponseHeader("Content-Range");return K===null?-1:parseInt(K.substring(K.lastIndexOf("/")+1))}(S),this.parseChunk(S.responseText)))},this._chunkError=function(L){var K=S.statusText||L;this._sendError(new Error(K))}}function w(x){var S,L;(x=x||{}).chunkSize||(x.chunkSize=f.LocalChunkSize),h.call(this,x);var K=typeof FileReader<"u";this.stream=function(N){this._input=N,L=N.slice||N.webkitSlice||N.mozSlice,K?((S=new FileReader).onload=te(this._chunkLoaded,this),S.onerror=te(this._chunkError,this)):S=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input;if(this._config.chunkSize){var re=Math.min(this._start+this._config.chunkSize,this._input.size);N=L.call(N,this._start,re)}var Ie=S.readAsText(N,this._config.encoding);K||this._chunkLoaded({target:{result:Ie}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(S.error)}}function O(x){var S;h.call(this,x=x||{}),this.stream=function(L){return S=L,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var L,K=this._config.chunkSize;return K?(L=S.substring(0,K),S=S.substring(K)):(L=S,S=""),this._finished=!S,this.parseChunk(L)}}}function M(x){h.call(this,x=x||{});var S=[],L=!0,K=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){K&&S.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),S.length?this.parseChunk(S.shift()):L=!0},this._streamData=te(function(N){try{S.push(typeof N=="string"?N:N.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(S.shift()))}catch(re){this._streamError(re)}},this),this._streamError=te(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=te(function(){this._streamCleanUp(),K=!0,this._streamData("")},this),this._streamCleanUp=te(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function G(x){var S,L,K,N=Math.pow(2,53),re=-N,Ie=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Xe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ae=this,pe=0,ze=0,Be=!1,Et=!1,dt=[],$e={data:[],errors:[],meta:{}};if(Y(x.step)){var qt=x.step;x.step=function(_e){if($e=_e,qe())rt();else{if(rt(),$e.data.length===0)return;pe+=_e.data.length,x.preview&&pe>x.preview?L.abort():($e.data=$e.data[0],qt($e,ae))}}}function vt(_e){return x.skipEmptyLines==="greedy"?_e.join("").trim()==="":_e.length===1&&_e[0].length===0}function rt(){return $e&&K&&(Te("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),K=!1),x.skipEmptyLines&&($e.data=$e.data.filter(function(_e){return!vt(_e)})),qe()&&function(){if(!$e)return;function _e(ut,P){Y(x.transformHeader)&&(ut=x.transformHeader(ut,P)),dt.push(ut)}if(Array.isArray($e.data[0])){for(var De=0;qe()&&De<$e.data.length;De++)$e.data[De].forEach(_e);$e.data.splice(0,1)}else $e.data.forEach(_e)}(),function(){if(!$e||!x.header&&!x.dynamicTyping&&!x.transform)return $e;function _e(ut,P){var R,Z=x.header?{}:[];for(R=0;R<ut.length;R++){var ue=R,ye=ut[R];x.header&&(ue=R>=dt.length?"__parsed_extra":dt[R]),x.transform&&(ye=x.transform(ye,ue)),ye=ne(ue,ye),ue==="__parsed_extra"?(Z[ue]=Z[ue]||[],Z[ue].push(ye)):Z[ue]=ye}return x.header&&(R>dt.length?Te("FieldMismatch","TooManyFields","Too many fields: expected "+dt.length+" fields but parsed "+R,ze+P):R<dt.length&&Te("FieldMismatch","TooFewFields","Too few fields: expected "+dt.length+" fields but parsed "+R,ze+P)),Z}var De=1;return!$e.data.length||Array.isArray($e.data[0])?($e.data=$e.data.map(_e),De=$e.data.length):$e.data=_e($e.data,0),x.header&&$e.meta&&($e.meta.fields=dt),ze+=De,$e}()}function qe(){return x.header&&dt.length===0}function ne(_e,De){return ut=_e,x.dynamicTypingFunction&&x.dynamicTyping[ut]===void 0&&(x.dynamicTyping[ut]=x.dynamicTypingFunction(ut)),(x.dynamicTyping[ut]||x.dynamicTyping)===!0?De==="true"||De==="TRUE"||De!=="false"&&De!=="FALSE"&&(function(P){if(Ie.test(P)){var R=parseFloat(P);if(re<R&&R<N)return!0}return!1}(De)?parseFloat(De):Xe.test(De)?new Date(De):De===""?null:De):De;var ut}function Te(_e,De,ut,P){var R={type:_e,code:De,message:ut};P!==void 0&&(R.row=P),$e.errors.push(R)}this.parse=function(_e,De,ut){var P=x.quoteChar||'"';if(x.newline||(x.newline=function(ue,ye){ue=ue.substring(0,1048576);var we=new RegExp(fe(ye)+"([^]*?)"+fe(ye),"gm"),Me=(ue=ue.replace(we,"")).split("\r"),Ae=ue.split(`
`),Fe=1<Ae.length&&Ae[0].length<Me[0].length;if(Me.length===1||Fe)return`
`;for(var ce=0,Le=0;Le<Me.length;Le++)Me[Le][0]===`
`&&ce++;return ce>=Me.length/2?`\r
`:"\r"}(_e,P)),K=!1,x.delimiter)Y(x.delimiter)&&(x.delimiter=x.delimiter(_e),$e.meta.delimiter=x.delimiter);else{var R=function(ue,ye,we,Me,Ae){var Fe,ce,Le,He;Ae=Ae||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Oe=0;Oe<Ae.length;Oe++){var et=Ae[Oe],lt=0,wt=0,bt=0;Le=void 0;for(var Ot=new Q({comments:Me,delimiter:et,newline:ye,preview:10}).parse(ue),Dt=0;Dt<Ot.data.length;Dt++)if(we&&vt(Ot.data[Dt]))bt++;else{var Jt=Ot.data[Dt].length;wt+=Jt,Le!==void 0?0<Jt&&(lt+=Math.abs(Jt-Le),Le=Jt):Le=Jt}0<Ot.data.length&&(wt/=Ot.data.length-bt),(ce===void 0||lt<=ce)&&(He===void 0||He<wt)&&1.99<wt&&(ce=lt,Fe=et,He=wt)}return{successful:!!(x.delimiter=Fe),bestDelimiter:Fe}}(_e,x.newline,x.skipEmptyLines,x.comments,x.delimitersToGuess);R.successful?x.delimiter=R.bestDelimiter:(K=!0,x.delimiter=f.DefaultDelimiter),$e.meta.delimiter=x.delimiter}var Z=H(x);return x.preview&&x.header&&Z.preview++,S=_e,L=new Q(Z),$e=L.parse(S,De,ut),rt(),Be?{meta:{paused:!0}}:$e||{meta:{paused:!1}}},this.paused=function(){return Be},this.pause=function(){Be=!0,L.abort(),S=Y(x.chunk)?"":S.substring(L.getCharIndex())},this.resume=function(){ae.streamer._halted?(Be=!1,ae.streamer.parseChunk(S,!0)):setTimeout(ae.resume,3)},this.aborted=function(){return Et},this.abort=function(){Et=!0,L.abort(),$e.meta.aborted=!0,Y(x.complete)&&x.complete($e),S=""}}function fe(x){return x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Q(x){var S,L=(x=x||{}).delimiter,K=x.newline,N=x.comments,re=x.step,Ie=x.preview,Xe=x.fastMode,ae=S=x.quoteChar===void 0||x.quoteChar===null?'"':x.quoteChar;if(x.escapeChar!==void 0&&(ae=x.escapeChar),(typeof L!="string"||-1<f.BAD_DELIMITERS.indexOf(L))&&(L=","),N===L)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<f.BAD_DELIMITERS.indexOf(N))&&(N=!1),K!==`
`&&K!=="\r"&&K!==`\r
`&&(K=`
`);var pe=0,ze=!1;this.parse=function(Be,Et,dt){if(typeof Be!="string")throw new Error("Input must be a string");var $e=Be.length,qt=L.length,vt=K.length,rt=N.length,qe=Y(re),ne=[],Te=[],_e=[],De=pe=0;if(!Be)return pt();if(x.header&&!Et){var ut=Be.split(K)[0].split(L),P=[],R={},Z=!1;for(var ue in ut){var ye=ut[ue];Y(x.transformHeader)&&(ye=x.transformHeader(ye,ue));var we=ye,Me=R[ye]||0;for(0<Me&&(Z=!0,we=ye+"_"+Me),R[ye]=Me+1;P.includes(we);)we=we+"_"+Me;P.push(we)}if(Z){var Ae=Be.split(K);Ae[0]=P.join(L),Be=Ae.join(K)}}if(Xe||Xe!==!1&&Be.indexOf(S)===-1){for(var Fe=Be.split(K),ce=0;ce<Fe.length;ce++){if(_e=Fe[ce],pe+=_e.length,ce!==Fe.length-1)pe+=K.length;else if(dt)return pt();if(!N||_e.substring(0,rt)!==N){if(qe){if(ne=[],bt(_e.split(L)),bn(),ze)return pt()}else bt(_e.split(L));if(Ie&&Ie<=ce)return ne=ne.slice(0,Ie),pt(!0)}}return pt()}for(var Le=Be.indexOf(L,pe),He=Be.indexOf(K,pe),Oe=new RegExp(fe(ae)+fe(S),"g"),et=Be.indexOf(S,pe);;)if(Be[pe]!==S)if(N&&_e.length===0&&Be.substring(pe,pe+rt)===N){if(He===-1)return pt();pe=He+vt,He=Be.indexOf(K,pe),Le=Be.indexOf(L,pe)}else if(Le!==-1&&(Le<He||He===-1))_e.push(Be.substring(pe,Le)),pe=Le+qt,Le=Be.indexOf(L,pe);else{if(He===-1)break;if(_e.push(Be.substring(pe,He)),Jt(He+vt),qe&&(bn(),ze))return pt();if(Ie&&ne.length>=Ie)return pt(!0)}else for(et=pe,pe++;;){if((et=Be.indexOf(S,et+1))===-1)return dt||Te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ne.length,index:pe}),Dt();if(et===$e-1)return Dt(Be.substring(pe,et).replace(Oe,S));if(S!==ae||Be[et+1]!==ae){if(S===ae||et===0||Be[et-1]!==ae){Le!==-1&&Le<et+1&&(Le=Be.indexOf(L,et+1)),He!==-1&&He<et+1&&(He=Be.indexOf(K,et+1));var lt=Ot(He===-1?Le:Math.min(Le,He));if(Be.substr(et+1+lt,qt)===L){_e.push(Be.substring(pe,et).replace(Oe,S)),Be[pe=et+1+lt+qt]!==S&&(et=Be.indexOf(S,pe)),Le=Be.indexOf(L,pe),He=Be.indexOf(K,pe);break}var wt=Ot(He);if(Be.substring(et+1+wt,et+1+wt+vt)===K){if(_e.push(Be.substring(pe,et).replace(Oe,S)),Jt(et+1+wt+vt),Le=Be.indexOf(L,pe),et=Be.indexOf(S,pe),qe&&(bn(),ze))return pt();if(Ie&&ne.length>=Ie)return pt(!0);break}Te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ne.length,index:pe}),et++}}else et++}return Dt();function bt(m){ne.push(m),De=pe}function Ot(m){var nt=0;if(m!==-1){var nn=Be.substring(et+1,m);nn&&nn.trim()===""&&(nt=nn.length)}return nt}function Dt(m){return dt||(m===void 0&&(m=Be.substring(pe)),_e.push(m),pe=$e,bt(_e),qe&&bn()),pt()}function Jt(m){pe=m,bt(_e),_e=[],He=Be.indexOf(K,pe)}function pt(m){return{data:ne,errors:Te,meta:{delimiter:L,linebreak:K,aborted:ze,truncated:!!m,cursor:De+(Et||0)}}}function bn(){re(pt()),ne=[],Te=[]}},this.abort=function(){ze=!0},this.getCharIndex=function(){return pe}}function U(x){var S=x.data,L=o[S.workerId],K=!1;if(S.error)L.userError(S.error,S.file);else if(S.results&&S.results.data){var N={abort:function(){K=!0,E(S.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:A,resume:A};if(Y(L.userStep)){for(var re=0;re<S.results.data.length&&(L.userStep({data:S.results.data[re],errors:S.results.errors,meta:S.results.meta},N),!K);re++);delete S.results}else Y(L.userChunk)&&(L.userChunk(S.results,N,S.file),delete S.results)}S.finished&&!K&&E(S.workerId,S.results)}function E(x,S){var L=o[x];Y(L.userComplete)&&L.userComplete(S),L.terminate(),delete o[x]}function A(){throw new Error("Not implemented.")}function H(x){if(typeof x!="object"||x===null)return x;var S=Array.isArray(x)?[]:{};for(var L in x)S[L]=H(x[L]);return S}function te(x,S){return function(){x.apply(S,arguments)}}function Y(x){return typeof x=="function"}return i&&(n.onmessage=function(x){var S=x.data;if(f.WORKER_ID===void 0&&S&&(f.WORKER_ID=S.workerId),typeof S.input=="string")n.postMessage({workerId:f.WORKER_ID,results:f.parse(S.input,S.config),finished:!0});else if(n.File&&S.input instanceof File||S.input instanceof Object){var L=f.parse(S.input,S.config);L&&n.postMessage({workerId:f.WORKER_ID,results:L,finished:!0})}}),(y.prototype=Object.create(h.prototype)).constructor=y,(w.prototype=Object.create(h.prototype)).constructor=w,(O.prototype=Object.create(O.prototype)).constructor=O,(M.prototype=Object.create(h.prototype)).constructor=M,f})})(u_);var gE=u_.exports;const Za=Rb(gE);const yE={class:"form"},vE=["onKeyup"],bE=["onKeyup"],wE={class:"results"},EE=["onClick"],qE={class:"name"},SE={class:"cn"},xE={class:"set"},kE=["onClick"],AE={key:0,class:"preview"},CE={__name:"CardSearch",emits:["selected"],setup(e,{emit:t}){const s=Ub(),n=Jn(),r=Gt({search:"",cn:"",set:null,count:1,autoAdd:!1,results:[],loading:!1,preview:null}),i=t,o=()=>{r.search=null,r.cn=null,r.set=null,r.count=1,s.$reset()},c=async()=>{if((!r.search||r.search.length<3)&&!r.cn&&!r.set)return;let _=r.search;r.cn&&(_+=" cn:"+r.cn),r.set&&(_+=" set:"+r.set),await s.loadSearch(_,"prints"),r.autoAdd&&s.count===1&&i("selected",Ri.deepUnref(s.cards.values().next().value))},f=_=>{let h=Ri.deepUnref(_);h.count=r.count,i("selected",h)};return(_,h)=>(de(),be(yt,null,[W("div",yE,[At(W("input",{type:"text","onUpdate:modelValue":h[0]||(h[0]=y=>r.search=y),onKeyup:$r(c,["enter"]),placeholder:"Name / Query"},null,40,vE),[[jt,r.search]]),At(W("input",{type:"text","onUpdate:modelValue":h[1]||(h[1]=y=>r.cn=y),onKeyup:$r(c,["enter"]),placeholder:"Collector number (Optional)"},null,40,bE),[[jt,r.cn]]),Ze(X(Kt),{modelValue:r.set,"onUpdate:modelValue":h[2]||(h[2]=y=>r.set=y),options:X(n).sets,label:"name","value-prop":"code",searchable:!0,mode:"single",placeholder:"Set (Optional)"},null,8,["modelValue","options"]),At(W("input",{type:"number","onUpdate:modelValue":h[3]||(h[3]=y=>r.count=y),placeholder:"Quantity"},null,512),[[jt,r.count]]),Je("",!0),W("button",{onClick:o}," Clear "),W("button",{onClick:c}," Search ")]),W("div",wE,[(de(!0),be(yt,null,$t(X(s).cards.values(),y=>(de(),be("div",{key:y.name,class:"result",onClick:w=>r.preview=r.preview===null?y.id:null},[W("div",qE,[W("span",SE,ht(y.collector_number),1),us(" - "+ht(y.name),1)]),W("div",xE,ht(y.set)+" - "+ht(y.set_name),1),W("button",{class:"small",onClick:Wt(w=>f(y),["stop"])}," + ",8,kE),r.preview===y.id?(de(),be("div",AE,[Ze(wa,{card:y},null,8,["card"])])):Je("",!0)],8,EE))),128))])],64))}},TE=Vt(CE,[["__scopeId","data-v-f740cfb7"]]);const OE={class:"root"},IE=["disabled"],PE={class:"buttons"},RE={key:0,class:"button",for:"file-input"},LE=["disabled"],FE={key:4,class:"progress"},DE={key:0,class:"errors"},ME={__name:"CardParser",emits:["parsed"],setup(e,{emit:t}){const s=mn(),n=Jn(),r=Hi(),i=t,o="https://mtg-couchdb.1drmrcrnnfo1c.eu-west-2.cs.amazonlightsail.com",c=Gt({name:null,file:null,text:"",append:!0,encoding:null,format:"Search",active:!1,progress:0,count:0,total:0,errors:[]}),f=Gt({path:null});fr(()=>{c.name=s.open[0]});const _=async(E="",A={})=>(await fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)})).json(),h=async E=>{let A=await E.arrayBuffer(),H=new Uint8Array(A.slice(0,10));return H[0].toString(16)=="ff"&&H[1].toString(16)=="fe"?"UTF-16LE":H[0].toString(16)=="fe"&&H[1].toString(16)=="ff"?"UTF-16BE":H[1]==0&&H[3]==0&&H[5]==0?"UTF-16LE":"UTF-8"},y=async E=>{c.errors=[],c.active=!0,c.progress=0;let A={};if(c.format==="MTGA"){const H=/([0-9]+) (.+) \((.+)\) ([0-9]+)/g,te=c.text.matchAll(H);for(const Y of te)A[Y[3]+Y[4]]={name:Y[2].split(" // ")[0].trim(),count:parseInt(Y[1]),set:Y[3],number:Y[4],finish:"nonfoil",tags:[]}}else if(c.format==="MTGO"){const H=/([0-9]+) (.+)/g,te=c.text.matchAll(H);for(const Y of te)A[Y[2]]={name:Y[2].split(" // ")[0].trim(),count:parseInt(Y[1])||1,set:"",number:"",finish:"nonfoil",tags:[]}}else if(c.format==="MKM Email"){const H=/([0-9]+)x ([a-zA-Z ,/\-:']+)?(?:\(V.([0-9])+\))? \(([a-zA-Z0-9 ,/\-:']+)\)/g,te=c.text.matchAll(H);for(const Y of te){Y[4].replace(": Extras","");let x="";A[Y[2]]={name:Y[2].replace(" Token","").trim(),count:parseInt(Y[1])||1,set:x,number:"",mkm_version:Y[3]?parseInt(Y[3]):1,finish:"nonfoil",tags:[]}}}M(c.name,new Map(Object.entries(A)))},w=async E=>{if(f.path===null)return;c.errors=[];const A=new FileReader;c.active=!0,c.progress=0;let H=null;c.format==="DragonShield Web"&&(H=O),A.onload=async()=>{let Y=await H(A.result);M(c.name,Y)};let te=await h(f.path);A.readAsText(f.path,te)};Za.parsePromise=E=>new Promise((A,H)=>{Za.parse(E,{header:!0,worker:!0,skipEmptyLines:!0,dynamicTyping:!0,complete:A,error:H})});const O=async E=>{E=E.replace('"sep=,"',"");let A=await Za.parsePromise(E),H=new Map,te={rmh1:"h1r",psld:"sld",gk1_golgar:"gk1",gk1_dimir:"gk1",vthb:"thb"};return A.data.forEach(Y=>{if(Y["Card Number"]===null)return;const x=Y["Set Name"];let S=Y["Set Code"].toLowerCase();te[S]&&(S=te[S]);let L="nonfoil";Y.Printing==="Foil"?L="foil":Y["Card Number"].toString().includes("etc")&&(L="etched");const K=parseInt(Y.Quantity);let N={name:Y["Card Name"],count:K,set:"",number:"",finish:L,tags:[Y["Folder Name"]]},re=null;if(n.setIds.has(S)?(N.set=S,N.number=Y["Card Number"].toString().replace("etc",""),re=S+Y["Card Number"]+N.finish):(console.log(`Couldn't find set for ${Y["Card Name"]} ${Y["Card Number"]} ${x} [${S}]`),c.errors.push(`Couldn't find set for ${Y["Card Name"]} ${Y["Card Number"]} [${S}]`),re=N.name+N.finish),H.has(re)){let Ie=H.get(re);Ie.count+=K,Ie.tags.push(Y["Folder Name"]),H.set(re,Ie)}else H.set(re,N)}),H},M=async(E,A)=>{let H=await s.get(E);for(const[te,Y]of A.entries()){let x=H.cards.filter(S=>S===void 0?!1:Y.set!==""?Y.set===S.set&&Y.number===S.collector_number&&Y.finish===S.finish:Y.name===S.name&&Y.finish===S.finish);x.length>0&&(x[0].count=Y.count,A.delete(te))}if(A.size>0){const te=await fe(A);await s.save(E,te,H.syncCode)}c.active=!1,c.count=0,c.progress=0,c.total=0,i("parsed",s.open)},G=async E=>{await s.addMany(c.name,[{id:E.id,count:E.count,finish:"nonfoil",tags:[],data:E}],"add"),i("parsed",s.open),r(`${""+E.name} added to ${c.name}`)},fe=async E=>{const A=[],H=new Map,te=new Map;let Y=[];try{for(const[S,L]of E.entries()){let K={};L.set===""&&L.number===""?K.name=L.name:(K.set=L.set,K.collector_number=L.number),A.push(K)}const x=1e3;c.total=A.length;for(let S=0;S<A.length;S+=x){const L=await _(o+"/cards",{identifiers:A.slice(S,S+x)});L.not_found.length>0&&console.log(L.not_found),L.data.forEach(K=>{H.set(K.name,K),te.set(K.set+K.collector_number,K)}),c.count=S,c.progress=S/A.length*100}for(const[S,L]of E.entries()){let K=null;if(L.set===""&&L.number===""?K={...H.get(L.name)}:K={...te.get(L.set+L.number)},!K.name){console.log("Missing data",K,L),c.errors.push(`Missing data for ${L.name} ${L.number} [${L.set}]`);continue}Y.push({id:K.id,count:L.count||1,finish:K.finishes.length===1?K.finishes[0]:L.finish,tags:L.tags,data:K})}c.progress=100}catch(x){console.error(x)}finally{return Y}},Q={"MKM Email":["text",y],MTGA:["text",y],MTGO:["text",y],"DragonShield Web":["file",w],Search:["search",G]},U=E=>{f.path=E.target.files[0]};return(E,A)=>(de(),be(yt,null,[W("div",OE,[W("h3",null,"Add to "+ht(X(s).open.length==1?X(s).open[0]:""),1),X(s).open.length>1?(de(),en(X(Kt),{key:0,modelValue:c.name,"onUpdate:modelValue":A[0]||(A[0]=H=>c.name=H),options:X(s).open,mode:"single"},null,8,["modelValue","options"])):Je("",!0),Ze(X(Kt),{modelValue:c.format,"onUpdate:modelValue":A[1]||(A[1]=H=>c.format=H),placeholder:"Format",options:Object.keys(Q),"can-clear":!1},null,8,["modelValue","options"]),Q[c.format][0]==="file"?(de(),be("input",{key:1,id:"file-input",type:"file",onChange:U,disabled:c.active},null,40,IE)):Je("",!0),Q[c.format][0]==="text"?At((de(),be("textarea",{key:2,"onUpdate:modelValue":A[2]||(A[2]=H=>c.text=H)},null,512)),[[jt,c.text]]):Je("",!0),Q[c.format][0]==="search"?(de(),en(TE,{key:3,onSelected:G})):Je("",!0),W("div",PE,[Q[c.format][0]==="file"?(de(),be("label",RE,"Choose file")):Je("",!0),!c.active&&c.format&&(c.text||f.path)&&c.format!=="Search"?(de(),be("button",{key:1,onClick:A[3]||(A[3]=H=>Q[c.format][1]()),disabled:f.path===null&&c.text===""}," Add ",8,LE)):Je("",!0)]),c.active?(de(),be("div",FE,[W("span",null,"Processing cards: "+ht(c.count)+" / "+ht(c.total),1),W("div",{class:"bar",style:Gn({width:c.progress+"%"})},null,4)])):Je("",!0)]),c.errors.length>0?(de(),be("ul",DE,[(de(!0),be(yt,null,$t(c.errors,(H,te)=>(de(),be("li",{key:te},ht(H),1))),128))])):Je("",!0)],64))}},NE=Vt(ME,[["__scopeId","data-v-524e6947"]]),$E=async(e,t)=>{let s="";if(t==="mtgo")for(const n of e.values())s+=`${n.count||1} ${n.name} 
`;else if(t==="mtga")for(const n of e.values())s+=`${n.count||1} ${n.name} (${n.set}) ${n.collector_number}
`;else if(t==="mkm"){const n=await post(`${backendUrl}/mkmVersions`,{ids:e.map(r=>r.id)});for(const r of e.values()){const i=n.data[r.id]||1;let o=""+r.set_name;r.promo?o=o.replace(" Promos",": Promos"):r.promo_types.includes("boosterfun")&&(o=o+=": Extras"),n.data[r.id]?s+=`${r.count||1}x ${r.name} (V.${i}) (${o})
`:s+=`${r.count||1}x ${r.name} (${o})
`}}else if(t==="moxfield"){s=`"Count","Tradelist Count","Name","Edition","Condition","Language","Foil","Tags","Last Modified","Collector Number"
`;for(const n of e.values())s+=`"${n.count||1}","0","${n.name}","${n.set}","Near Mint","English",${n.finish},"","2022-03-22 02:52:33.210000","${n.collector_number}"
`}return s};const BE={class:"row"},jE=["href"],UE={__name:"CardExporter",props:{source:{type:Function,required:!0},openDirection:{type:String,default:"down"}},setup(e){const t=e,s=Gt({format:"",downloadUrl:""}),n=Hi(),r=It(null),i=async()=>{const o=await t.source();let c=await $E(o,s.format);if(s.format==="moxfield"){var f=new Blob([c],{type:"text/csv;charset=utf-8;"}),_=URL.createObjectURL(f);s.downloadUrl=_,r.value.setAttribute("download","moxfield.csv"),r.value.click()}else navigator.clipboard.writeText(c),n("Copied to Clipboard")};return(o,c)=>(de(),be("div",BE,[Ze(X(Kt),{options:{mtgo:"MTGO",mtga:"MTGA",mkm:"MKM",moxfield:"Moxfield"},label:"key",modelValue:s.format,"onUpdate:modelValue":c[0]||(c[0]=f=>s.format=f),mode:"single",placeholder:"Export to","open-direction":t.openDirection},null,8,["modelValue","open-direction"]),W("a",{class:ot(["button small icon",{"icon-clip":s.format!=="moxfield","icon-arrow-down":s.format==="moxfield"}]),download:"moxfield.csv",onClick:i},null,2),At(W("a",{class:"button",download:"moxfield.csv",ref_key:"downloadButton",ref:r,href:s.downloadUrl},"Export",8,jE),[[_n,!1]])]))}},f_=Vt(UE,[["__scopeId","data-v-cb7d3495"]]);const VE={class:"clipboard"},zE={class:"clip-cards"},HE={class:"row"},WE={class:"buttons"},QE={__name:"ClipBoard",setup(e){const t=Qi(),s=mn(),n=Kn(),r=Hi(),i=Gt({copyTo:null}),o=async(_,h)=>{let y=await s.get(_);const w=s.open.includes(_);let O=0;for(const M of h){let G=y.cards.filter(fe=>fe.id===M.id);G.length===0?y.cards.push({...Ri.deepUnref(M)}):G[0].count+=M.count||1,O+=1,w&&n.add({...M})}await s.save(_,y.cards,y.syncCode),r(`${O} added to ${_}`)},c=async()=>{t.$reset(),await s.save("clipboard",[]),new BroadcastChannel("clipboard").postMessage("update")},f=async()=>{n.filtered.forEach(h=>{let y={...h};y.count=1,t.add(y)}),await s.save("clipboard",t.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(_,h)=>(de(),be("div",VE,[W("h3",null,"Clipboard ("+ht(X(t).count)+") "+ht(X(t).value),1),W("div",zE,[(de(!0),be(yt,null,$t(X(t).cards.values(),y=>(de(),be("div",{class:"clip-card",key:"clip-"+y.name},[W("p",null,ht(y.count)+"x "+ht(y.name)+" ("+ht(y.set)+") "+ht(y.collector_number),1)]))),128))]),Ze(f_,{source:()=>[...X(t).cards.values()],"open-direction":"top"},null,8,["source"]),W("div",HE,[Ze(X(Kt),{options:X(s).names,placeholder:"Copy to","open-direction":"top",modelValue:i.copyTo,"onUpdate:modelValue":h[0]||(h[0]=y=>i.copyTo=y)},null,8,["options","modelValue"]),W("button",{class:"small icon icon-arrow-right",onClick:h[1]||(h[1]=()=>o(i.copyTo,X(t).cards.values()))})]),W("div",WE,[W("button",{onClick:h[2]||(h[2]=y=>f())}," Clip All "),W("button",{onClick:h[3]||(h[3]=y=>c())}," Clear ")])]))}},KE=Vt(QE,[["__scopeId","data-v-69cfb135"]]);const gr=e=>(as("data-v-bb2fb888"),e=e(),ls(),e),GE={class:"upload flex"},JE={class:"row"},XE={key:0,class:"collection flex"},YE=gr(()=>W("span",null,"Cards: ",-1)),ZE={key:0},eq=gr(()=>W("span",null,"Last sync: ",-1)),tq={key:1,class:"row"},nq=gr(()=>W("div",{class:"text"}," Upload ",-1)),sq=[nq],rq=gr(()=>W("div",{class:"text"}," Download ",-1)),iq=[rq],oq=gr(()=>W("hr",null,null,-1)),aq={class:"new-collection"},lq=gr(()=>W("hr",null,null,-1)),cq={class:"google-sync"},uq=["src"],fq={class:"text"},dq=gr(()=>W("span",{class:"icon icon-close"},null,-1)),pq={__name:"CollectionsManager",emits:["change","delete","close"],setup(e,{emit:t}){const s=No(),n=mn();Kn();const r=Hi(),i=Gt({collection:null,obj:null});fr(()=>{i.collection=n.open.length>0?n.open[0]:null}),fr(()=>{i.obj=n.obj.filter(w=>w.name===i.collection)[0]});const o=t,c=async w=>{const O=r(`Refreshing collection ${w}`),M=s.collections.get(w).id;await n.download(M)?(r.dismiss(O),r(`${w} refreshed.`),o("change",w)):(r.dismiss(O),r.error(`Failed to refresh ${w}.`))},f=async w=>{const O=r(`Uploading ${w}`),M=await n.upload(s.token,w);M?(r.dismiss(O),r(`${w} uploaded.`),s.collections.set(w,M)):(r.dismiss(O),r.error(`${w} failed to upload.`))},_=async w=>{n.save(w.trim(),[]),i.name=null,o("change",w.trim()),o("close")},h=async w=>{confirm(`Are you sure you want to delete ${w}`)&&n.delete(w)},y=async w=>await n.getCards([i.collection]);return(w,O)=>{const M=Bs("GoogleLogin");return de(),be("div",GE,[W("div",JE,[Ze(X(Kt),{modelValue:i.collection,"onUpdate:modelValue":O[0]||(O[0]=G=>i.collection=G),options:X(n).names,mode:"single"},null,8,["modelValue","options"]),W("button",{class:"small icon icon-delete",onClick:O[1]||(O[1]=G=>h(i.collection))})]),i.obj?(de(),be("div",XE,[W("div",{class:"img",style:Gn({"background-image":`url(${i.obj.image})`})},null,4),W("div",null,[YE,W("span",null,ht(i.obj.count),1)]),X(s).token&&i.obj.downloaded?(de(),be("div",ZE,[eq,us(" "+ht(new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"medium",timeZone:"UTC"}).format(new Date(i.obj.lastSync*1))),1)])):Je("",!0),X(s).token?(de(),be("div",tq,[i.obj.downloaded?(de(),be("button",{key:0,onClick:[O[2]||(O[2]=Wt(G=>f(i.collection),["exact"])),O[3]||(O[3]=Wt(G=>f(i.collection),["ctrl"]))]},sq)):Je("",!0),X(s).collections.has(i.collection)?(de(),be("button",{key:1,onClick:O[4]||(O[4]=Wt(G=>c(i.collection),["exact"]))},iq)):Je("",!0)])):Je("",!0),Ze(f_,{source:y})])):Je("",!0),oq,W("div",aq,[At(W("input",{type:"text","onUpdate:modelValue":O[5]||(O[5]=G=>i.name=G),placeholder:"New collection"},null,512),[[jt,i.name]]),W("button",{onClick:O[6]||(O[6]=G=>_(i.name)),class:"button small icon icon-plus"})]),lq,W("div",cq,[X(s).token?Je("",!0):(de(),en(M,{key:0,callback:G=>X(s).handleGoogleLogin(G.credential),"popup-type":"TOKEN"},null,8,["callback"])),X(s).token?(de(),be("div",{key:1,class:"logged-in",onClick:O[7]||(O[7]=G=>X(s).logout())},[W("img",{src:X(s).info.picture,crossorigin:"anonymous"},null,8,uq),W("span",fq,"Syncing as "+ht(X(s).info.given_name),1),dq])):Je("",!0)])])}}},_q=Vt(pq,[["__scopeId","data-v-bb2fb888"]]);const Ac=e=>(as("data-v-16650b3e"),e=e(),ls(),e),hq=Ac(()=>W("h3",null,"Settings",-1)),mq={class:"grid"},gq=Ac(()=>W("label",{for:"zoom"},"Zoom",-1)),yq=Ac(()=>W("label",{for:"columns"},"Columns",-1)),vq={__name:"SettingsView",setup(e){const t=Js();return(s,n)=>(de(),be(yt,null,[hq,W("div",mq,[gq,At(W("input",{id:"zoom",type:"number","onUpdate:modelValue":n[0]||(n[0]=r=>X(t).zoom=r)},null,512),[[jt,X(t).zoom]]),yq,At(W("input",{id:"columns",type:"number","onUpdate:modelValue":n[1]||(n[1]=r=>X(t).columns=r)},null,512),[[jt,X(t).columns]])])],64))}},bq=Vt(vq,[["__scopeId","data-v-16650b3e"]]);const wq=e=>(as("data-v-dc431e12"),e=e(),ls(),e),Eq={key:0},qq={class:"form"},Sq=wq(()=>W("hr",null,null,-1)),xq={__name:"CardEdit",emits:["change"],setup(e,{emit:t}){const s=Js();Jn();const n=mn(),r=Gt({set:null,count:0});fr(()=>{s.edit.card&&(r.set=s.edit.card.set,r.count=s.edit.card.count)});const i=async()=>{let o=Ri.deepUnref(s.edit.card);o.set=r.set,o.count=r.count,await n.replaceCard(n.open[0],s.edit.card,o),s.edit.card.set=r.set,s.edit.card.count=r.count};return(o,c)=>X(s).edit.card?(de(),be("div",Eq,[Ze(xc,{card:X(s).edit.card},null,8,["card"]),W("div",qq,[At(W("input",{type:"number",placeholder:"Count","onUpdate:modelValue":c[0]||(c[0]=f=>r.count=f)},null,512),[[jt,r.count]]),W("button",{onClick:i}," Save ")]),Sq])):Je("",!0)}},kq=Vt(xq,[["__scopeId","data-v-dc431e12"]]);const Cc=e=>(as("data-v-ee1d4f1b"),e=e(),ls(),e),Aq={class:"menu"},Cq=["onClick"],Tq={key:0,class:"name"},Oq={key:1,class:"name"},Iq={class:"add panel"},Pq={class:"settings panel"},Rq={class:"details panel"},Lq=Cc(()=>W("h3",null,"Details",-1)),Fq={class:"prints panel"},Dq={class:"versions panel"},Mq={class:"panel filters"},Nq={class:"panel edit"},$q=Cc(()=>W("h3",null,"Edit",-1)),Bq={class:"panel collections"},jq=Cc(()=>W("h3",null,"Collections",-1)),Uq={class:"panel"},Vq={__name:"SideBar",setup(e){const t=Kr(),s=Kn(),n=Js(),r=Qi(),i=y=>{y===n.sidebar.selected?n.sidebar.show=!n.sidebar.show:(n.sidebar.show=!0,n.sidebar.selected=y)};let o=0,c=0;const f=It(null),_=y=>{o=y.touches?y.touches[0].clientX:y.clientX,c=y.touches?y.touches[0].clientY:y.clientY},h=y=>{const w=y.changedTouches?y.changedTouches[0].clientX:y.clientX,O=y.changedTouches?y.changedTouches[0].clientY:y.clientY,M=w-o,G=Math.abs(O-c);n.sidebar.show===!0&&M>75&&M>G&&(n.sidebar.show=!1)};return(y,w)=>(de(),be("div",{class:ot(["sidepanel",{show:X(n).sidebar.show}]),ref_key:"sidebar",ref:f,onMousedown:_,onMouseup:h,onTouchstart:_,onTouchend:h},[W("div",Aq,[(de(),be(yt,null,$t({filters:["filter","Filter"],clipboard:["clipboard","Clipboard"],collection:["add","Add"],collections:["collection","Manage"],prints:["prints","Prints"],settings:["settings","Settings"]},([O,M],G)=>W("div",{class:ot(["item",[G,G==="clipboard"&&X(n).clipboard_change?"changed":""]]),onClick:Wt(fe=>i(G),["stop"]),key:G},[W("span",{class:ot(["icon","icon-"+O])},null,2),G==="clipboard"?(de(),be("div",Tq," Clip: "+ht(X(r).count),1)):(de(),be("div",Oq,ht(M),1))],10,Cq)),64))]),At(W("div",Iq,[Ze(NE,{onParsed:X(s).loadCollections},null,8,["onParsed"])],512),[[_n,X(n).sidebar.selected==="collection"]]),At(W("div",Pq,[Ze(bq)],512),[[_n,X(n).sidebar.selected==="settings"]]),At(W("div",Rq,[Lq,Ze(wa,{card:X(t).card},null,8,["card"]),Ze(c_,{card:X(t).card},null,8,["card"])],512),[[_n,X(n).sidebar.selected==="details"]]),At(W("div",Fq,[Ze(oE)],512),[[_n,X(n).sidebar.selected==="prints"]]),At(W("div",Dq,[Ze(cE)],512),[[_n,X(n).sidebar.selected==="versions"]]),At(W("div",Mq,[Ze(i_)],512),[[_n,X(n).sidebar.selected==="filters"]]),At(W("div",Nq,[$q,Ze(kq)],512),[[_n,X(n).sidebar.selected==="edit"]]),At(W("div",Bq,[jq,Ze(_q,{onChange:w[0]||(w[0]=O=>X(s).loadCollections([O]))})],512),[[_n,X(n).sidebar.selected==="collections"]]),At(W("div",Uq,[Ze(KE)],512),[[_n,X(n).sidebar.selected==="clipboard"]])],34))}},zq=Vt(Vq,[["__scopeId","data-v-ee1d4f1b"]]);const Hq=e=>(as("data-v-200bf527"),e=e(),ls(),e),Wq={class:"filter-group cards"},Qq={class:"selector tabs"},Kq=["onClick"],Gq={class:"view"},Jq={key:0,class:"item collections"},Xq={class:"name"},Yq={key:0,class:"status icon icon-arrow-down"},Zq=["disabled"],e1={key:1,class:"item"},t1={class:"set"},n1=["src"],s1={class:"name"},r1=["disabled"],i1={key:2,class:"item"},o1=Hq(()=>W("a",{href:"https://scryfall.com/docs/syntax",target:"_blank",class:"button small"},"?",-1)),a1={key:3,class:"item"},l1={class:"precon"},c1={class:"name"},u1={__name:"CardSource",setup(e){const t=rb(),s=Kn(),n=Jn(),r=mn(),i=ib(),o=Js(),c=Kr(),f=Gt({selected:"collection",params:[],collections:[],set:"",precons:"",search:"",refreshingPrices:!1,refreshingSet:!1}),_=Q=>{Q.length!==0&&(o.source="collection",t.push({path:"/collection",query:{q:encodeURIComponent(Q.join("~"))}}))},h=(Q,U)=>{o.source="set",t.push({path:"/set",query:{q:Q,force:U}})},y=async(Q,U="prints",E=!1)=>{o.source="search",t.push({path:"/search",query:{q:Q,unique:U,force:E}})},w=Q=>{o.source="precon",t.push({path:"/precons",query:{q:Q}})},O=async Q=>{f.selected!==Q&&(f.selected=Q,c.card={},o.details.show=!1,Q==="collection"?f.collections&&_(f.collections):Q==="set"?f.set&&h(f.set):Q==="precon"?f.precons&&w(f.precons):Q==="search"&&f.search&&await y(f.search,"cards"))},M=async(Q,U)=>{if(Q)if(f.selected=Q,Object.keys(U).length===0){console.log("empty");return}else Q==="collection"?(o.source="collection",U.code?await s.loadSync(U.code):(f.collections=decodeURIComponent(U.q).split("~"),await s.loadCollections(f.collections))):Q==="set"?(f.set=U.q,o.source="set",await s.loadSet(f.set,U.force==="true")):Q==="precons"?(f.precons=U.q,o.source="precons",await s.loadPrecon(U.q)):Q==="search"&&(f.search=U.q,o.source="search",await s.loadSearch(U.q,U.unique,U.force))},G=async()=>{f.refreshingPrices!==!0&&(f.refreshingPrices=!0,await r.refreshPrices(),await s.loadCollections(r.open),f.refreshingPrices=!1)},fe=async()=>{f.refreshingSet!==!0&&(f.refreshingSet=!0,await s.loadSet(f.set,!0),f.refreshingSet=!1)};return Kv(async(Q,U)=>{await M(Q.params.view,Q.query)}),cs(async()=>{i.params.view&&M(i.params.view,i.query)}),(Q,U)=>(de(),be("div",Wq,[W("div",Qq,[(de(),be(yt,null,$t(["collection","set","precons","search"],E=>W("a",{key:E,onClick:A=>O(E),class:ot({selected:f.selected===E})},ht(E),11,Kq)),64))]),W("div",Gq,[f.selected==="collection"?(de(),be("div",Jq,[Ze(X(Kt),{modelValue:X(r).open,"onUpdate:modelValue":U[0]||(U[0]=E=>X(r).open=E),options:X(r).obj,label:"name","value-prop":"name",mode:"tags",searchable:!0,onChange:_},{option:Fn(({option:E})=>[W("span",{class:ot(["collection",{missing:!E.downloaded}])},[W("span",Xq,ht(E.name),1),E.downloaded?Je("",!0):(de(),be("span",Yq))],2)]),_:1},8,["modelValue","options"]),W("button",{class:ot(["small icon icon-loop",{active:f.refreshingPrices}]),disabled:f.refreshingPrices,onClick:G},null,10,Zq)])):Je("",!0),f.selected==="set"?(de(),be("div",e1,[Ze(X(Kt),{modelValue:f.set,"onUpdate:modelValue":U[1]||(U[1]=E=>f.set=E),options:X(n).sets,searchable:!0,label:"name","value-prop":"code",mode:"single",onSelect:U[2]||(U[2]=E=>h(E))},{option:Fn(({option:E})=>[W("span",t1,[W("img",{class:"icon",src:E.icon_svg_uri,crossorigin:"anonymous"},null,8,n1),W("span",s1,ht(E.name),1)])]),_:1},8,["modelValue","options"]),W("button",{class:ot(["small icon icon-loop",{active:f.refreshingSet}]),disabled:f.refreshingSet,onClick:fe},null,10,r1)])):Je("",!0),f.selected==="search"?(de(),be("div",i1,[At(W("input",{type:"search","onUpdate:modelValue":U[3]||(U[3]=E=>f.search=E),onKeyup:U[4]||(U[4]=$r(E=>y(E.currentTarget.value,"cards"),["enter"]))},null,544),[[jt,f.search]]),o1])):Je("",!0),f.selected==="precons"?(de(),be("div",a1,[Ze(X(Kt),{modelValue:f.precons,"onUpdate:modelValue":U[5]||(U[5]=E=>f.precons=E),type:"single",searchable:!0,options:X(n).precons,groups:!0,label:"name","value-prop":"name",onSelect:w},{option:Fn(({option:E})=>[W("span",l1,[W("span",c1,ht(E.name),1),Ze(l_,{mana:E.colours.split("").map(A=>`{${A}}`).join("")},null,8,["mana"])])]),_:1},8,["modelValue","options"]),W("button",{class:"small icon icon-plus",onClick:U[6]||(U[6]=E=>X(o).loadMain("precon"))})])):Je("",!0)])]))}},lf=Vt(u1,[["__scopeId","data-v-200bf527"]]);const f1={key:0,class:"info-bar"},d1={class:"sort"},p1={class:"dir"},_1={class:"view"},h1={key:0,class:"selection-menu"},m1={__name:"InfoBar",setup(e){const t=Kn(),s=Js(),n=mn(),r=Qi(),i=async()=>{if(confirm(`Are you sure you want to delete ${[...t.selected].length} cards from ${n.open.join(", ")}`)){let c=t.getSelection();for(const f of c)await n.deleteCard(n.open,f),t.delete(f);t.selected=new Set}},o=async()=>{t.getSelection().forEach(_=>{let h={..._};h.count=1,r.add(h)}),await n.save("clipboard",r.unrefCards()),new BroadcastChannel("clipboard").postMessage("update")};return(c,f)=>X(s).mainView==="cards"||X(s).mainView==="list"?(de(),be("div",f1,[[...X(t).selected].length===0?(de(),be(yt,{key:0},[W("span",null,"Count "+ht(X(t).count),1),W("span",null,"Value "+ht(X(t).value),1),W("span",d1,[Ze(X(Kt),{modelValue:X(t).sort.val,"onUpdate:modelValue":f[0]||(f[0]=_=>X(t).sort.val=_),options:["Mana","Type","Price","Count","Released","Tag","Number"],mode:"single","can-clear":!1},null,8,["modelValue"]),W("div",p1,[W("div",{class:ot(["up icon icon-chevron-up",{selected:X(t).sort.dir==-1}]),onClick:f[1]||(f[1]=_=>X(t).sort.dir=-1)},null,2),W("div",{class:ot(["up icon icon-chevron-down",{selected:X(t).sort.dir==1}]),onClick:f[2]||(f[2]=_=>X(t).sort.dir=1)},null,2)])]),W("span",_1,[W("span",{class:ot(["cardView icon icon-grid",{selected:X(s).mainView==="cards"}]),onClick:f[3]||(f[3]=_=>X(s).mainView="cards")},null,2),W("span",{class:ot(["cardView icon icon-list",{selected:X(s).mainView==="list"}]),onClick:f[4]||(f[4]=_=>X(s).mainView="list")},null,2)])],64)):(de(),be(yt,{key:1},[W("span",null,"Selected: "+ht([...X(t).selected].length),1),[...X(t).selected].length>0?(de(),be("div",h1,[W("a",{onClick:f[5]||(f[5]=()=>{X(t).selected=new Set})},"Clear"),W("a",{onClick:o},"Clip"),X(s).source==="collection"?(de(),be("a",{key:0,onClick:i},"Delete")):Je("",!0)])):Je("",!0)],64))])):Je("",!0)}},g1=Vt(m1,[["__scopeId","data-v-594d137f"]]);const y1={id:"window"},v1=["data-source"],b1={class:"content"},w1={class:"right"},E1={__name:"Page",async setup(e){let t,s;const n=Kr(),r=Qi(),i=mn(),o=Kn(),c=Jn(),f=No(),_=Js(),h=Gt({view:"",set:"",precons:"",showMenu:!1,dragging:!1,dragY:0});let y=null;Ut(o.filters,async()=>{clearTimeout(y),y=setTimeout(async()=>{o.applyFilters()},500)}),Ut(o.sort,()=>{o.applyFilters()});const w=async()=>{await i.init(),await c.init();try{const K=await i.getCards(["clipboard"]);K&&r.addMany(K),new BroadcastChannel("clipboard").addEventListener("message",re=>{re.data==="update"&&r.reloadCollections(["clipboard"])})}catch(K){console.error(K)}f.loadCookie()};[t,s]=rd(()=>w()),await t,s();let O=null,M=null,G=null,fe=null,Q=null,U=!1,E=null;const A=It(null),H=K=>{h.dragging=!0,O=K.touches?K.touches[0].clientX:K.clientX,M=K.touches?K.touches[0].clientY:K.clientY,U=A.value.scrollTop===0,G=M,E=Date.now()},te=K=>{if(!h.dragging)return;let N=K.touches?K.touches[0].clientX:K.clientX,re=K.touches?K.touches[0].clientY:K.clientY;const Ie=N-O,Xe=re-M;let ae=(re-G)/(Date.now()-E);if(E=Date.now(),G=re,Math.abs(Ie)>Math.abs(Xe)?fe=Ie>0?"right":"left":fe=Xe>0?"down":"up",Q===null&&(Q=fe),Q==="left"||Q==="right"){K.preventDefault(),K.stopPropagation(),Q==="left"&&Ie<-50?(S(1),h.dragging=!1):Q==="right"&&Ie>50&&(S(-1),h.dragging=!1);return}!U||fe==="up"||(ae>=1.2||Xe>200?(_.details.show=!1,A.value.style.transform="",h.dragging=!1):Xe>0&&(h.dragY=Xe,K.preventDefault(),K.stopPropagation(),A.value.style.transform=`translate(0, ${Xe}px)`))},Y=K=>{O=M=null,A.value.style.transform="",h.dragging=!1,Q=null,G=null,E=null},x=It(null),S=K=>{let N=_.details.index+K;N<0&&(N=o.filtered.length-1),N>=o.filtered.length&&(N=0),_.details.index=N;const re=o.filtered[_.details.index];if(n.loadDetails(re),x.value){let Ie=x.value.querySelector(".cards");const Xe=Ie.querySelector(`.card[data-id="${re.id}"]`);if(Xe){const ae=Xe.offsetTop-Ie.offsetHeight/2+Xe.offsetHeight/2;Ie.scrollTo({top:ae,behavior:"smooth"})}}},L=K=>{K.target.id==="details-overlay"&&(_.details.show=!1)};return(K,N)=>(de(),be("div",y1,[W("div",{id:"sidebar",class:ot({show:h.showMenu})},[Ze(lf),Ze(i_)],2),W("div",{id:"main",class:"main","data-source":X(_).source},[Ze(lf,{class:"card-source"}),Ze(zq),At(Ze(sE,{onClose:N[0]||(N[0]=re=>X(_).mainView="cards")},null,512),[[_n,X(_).mainView==="precon"]]),W("div",{ref_key:"det",ref:A,id:"details-overlay",class:ot(["details",{show:X(_).details.show,dragging:h.dragging}]),style:Gn({}),onTouchstart:H,onTouchmove:te,onTouchend:Y,onWheel:()=>{},onClick:L},[W("a",{class:"move-card icon icon-chevron-left",onClick:N[1]||(N[1]=re=>S(-1))}),W("div",b1,[Ze(wa,{card:X(n).card,onClick:N[2]||(N[2]=Wt(()=>{},["stop"]))},null,8,["card"]),W("div",w1,[Ze(c_,{card:X(n).card},null,8,["card"]),W("a",{class:"close icon icon-chevron-down",onClick:N[3]||(N[3]=re=>X(_).details.show=!1)})])]),W("a",{class:"move-card icon icon-chevron-right",onClick:N[4]||(N[4]=re=>S(1))})],38),W("div",{ref_key:"cardsWindow",ref:x,class:"card-view",onClick:N[5]||(N[5]=re=>X(_).sidebar.show=!1)},[Ze(g1),X(_).mainView==="cards"?(de(),en(kc,{key:0,store:X(o)},null,8,["store"])):Je("",!0),X(_).mainView==="list"?(de(),en(W3,{key:1,cards:X(o).filtered},null,8,["cards"])):Je("",!0)],512)],8,v1)]))}},q1=Vt(E1,[["__scopeId","data-v-ec521f2e"]]);const S1=Kg(),x1=[{path:"/:view?",component:q1,props:!0}],k1=nb({history:gv(),routes:x1}),Ki=hc(ny);Ki.use(S1);Ki.use(k1);Ki.use(Yy,{position:Ii.BOTTOM_CENTER,closeButton:!1,hideProgressBar:!0,toastClassName:"toast",icon:!1,pauseOnHover:!1,timeout:4e3,maxToasts:4,transition:{enter:"fade-enter-active",leave:"fade-leave-active",move:"fade-move"}});Ki.use(db,{clientId:"348408322067-4t4ks9d03r9gfp84c54kk18l0d0gv1ev.apps.googleusercontent.com"});Ki.mount("#app");
